var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,b={next:function(){if(c<a.length){var f=c++;return{value:d(f,a[f]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};
$jscomp.polyfill=function(a,d,c,b){if(d){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var f=a[b];f in c||(c[f]={});c=c[f]}a=a[a.length-1];b=c[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var b=a.length,f=0;f<b;f++){var e=a[f];if(d.call(c,e,f,a))return{i:f,v:e}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");(function(){var a=window.app=window.app||{};a.main=function(){a.router=new a.class.AppRouter;Backbone.history.start();$.onmount()}})();(function(){var a=window.app=window.app||{};a.mounts=a.mounts||{};a.mounts.myGrid=function(d,c,b,f){var e={ready:!1};$.onmount("#myGrid",function(){for(var h=$(this),g=0;100>g;g++){var l=d[g]={};l.id=g;l.num=g;for(var k=0;26>k;k++)l[k]=k+g;l.percentComplete=Math.round(100*Math.random());l.start=new Date(Math.round(1E9*Math.random()));l.weekCalendar=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1]}var m=new Slick.Data.DataView;g=new Backbone.Collection;g.url="//s3-us-west-2.amazonaws.com/s.cdpn.io/152047/data.js";
g.dataView=m;g.on("add",function(a,b,f){console.log("add",arguments)});g.on("remove",function(a,b,f){console.log("remove",arguments)});g.on("update",function(a,b){console.log("update",arguments)});g.on("reset",function(a,b){console.log("reset",arguments)});g.on("sort",function(a,b){console.log("sort",arguments)});g.on("sync",function(a,b){console.log("sync",arguments);a.dataView.setItems(a.models);e.ready=!0});g.on("error",function(b,f){console.log("error",arguments);var c=new Hashids("this is my salt"),
d=c.encode(1,2,3);a.utils.$modal(a.utils.$alert("error "+d,d,c,"[test]"),{label:"err"}).appendTo(document.body).modal({show:!0})});e=_.extend(e,new Slick.Grid("#myGrid",m,c,b));e.setSelectionModel(new Slick.CellSelectionModel);e.registerPlugin(new Slick.AutoTooltips);e.getCanvasNode().focus();e.registerPlugin(new Slick.CellExternalCopyManager(f));e.onCellChange.subscribe(function(a,b){m.updateItem(b.item.id,b.item)});e.onAddNewRow.subscribe(function(a,b){a=b.item;e.invalidateRow(d.length);d.push(a);
e.updateRowCount();e.render()});h.data("grid",e);g.fetch()});$.onmount(".slick-header .slick-header-column:first-child",function(){function a(){alert("filter");return!1}var b=$(this);b.children(":first-child").click(a).html("&#x1f50d;");b.click(a)});return e}})();(function(){function a(){function a(){var a=e.position(),b=$(window).height();e.height(b-a.top-22)}var e=$("#myLayout");a();$(window).resize(a);var h=new GoldenLayout(c,"#myLayout");h.registerComponent("stockGrid",b);h.registerComponent("example",function(a,b){var c=a.getElement(),f=$('<div id="myGrid"></div>');b=$('<div id="myGrid2"></div>');c.append(f);c.append(b);a.on("resize",function(){f.css("height",c.height())});d.utils.delayedOnMount()});h.init();return h}var d=window.app=window.app||{};d.mounts=
d.mounts||{};d.mounts.myLayout=function(){var b={ready:!1};$.onmount("#myLayout",function(){b.manager=a();b.manager.on("initialised",function(){b.ready=!0;console.log("initialised myLayout ready")})},function(){});return b};var c={content:[{type:"stack",content:[{type:"component",title:"Example",componentName:"example"},{type:"component",componentName:"stockGrid",title:"FTSE 100 (51-100)",componentState:{symbols:"KGF LAND LGEN LLOY LSE MKS MGGT MNDI MRW NG NXT OML PSON PSN PFC PRU RRS RB REL REX RIO RR RBS RDSA RDSB RMG RSA SAB SGE SBRY SDR SVT SHP SN SMIN SPD SSE STJ STAN SL TSCO TPK TT TLW ULVR UU VOD WEIR WTB WOS".split(" ")}},
{type:"component",componentName:"stockGrid",title:"FTSE 200 (51-100)",componentState:{symbols:"KGF LAND LGEN LLOY LSE MKS MGGT MNDI MRW NG NXT OML PSON PSN PFC PRU RRS RB REL REX RIO RR RBS RDSA RDSB RMG RSA SAB SGE SBRY SDR SVT SHP SN SMIN SPD SSE STJ STAN SL TSCO TPK TT TLW ULVR UU VOD WEIR WTB WOS".split(" ")}}]}]},b=function(a,b){this._container=a;this._state=b;this._grid=null;this._stockDataProvider=new StockDataProvider;this._columns=[{id:"symbol",name:"Symbol",field:"symbol"},{id:"company",
name:"Company",field:"company"},{id:"price",name:"Price",field:"price"},{id:"change",name:"Change",field:"change"},{id:"changeRel",name:"Change %",field:"changeRel"},{id:"volume",name:"Volume",field:"volume"}];this._options={editable:!1,enableAddRow:!1,enableCellNavigation:!0};a.on("open",this._scheduleGridCreation,this)};b.prototype._scheduleGridCreation=function(){var a=setInterval(function(){var b=$("link[rel=stylesheet]"),c;for(c=0;c<b.length;c++)if(null===b[c].sheet)return;clearInterval(a);this._createGrid()}.bind(this),
10)};b.prototype._createGrid=function(){this._grid=new Slick.Grid(this._container.getElement(),this._stockDataProvider.getStocksBySymbol(this._state.symbols),this._columns,this._options);this._container.on("resize",this._resize,this);this._container.on("destroy",this._destroy,this);this._resize()};b.prototype._resize=function(){this._grid.resizeCanvas();this._grid.autosizeColumns()};b.prototype._destroy=function(){this._grid.destroy()}})();(function(){function a(c,b){var d=c[b],e=d.shortcut;c=d.icon_css;var h=d.class;if(c){var g=$("<div>");_.each(c.split(" "),function(a){g.addClass(a)})}e&&(b=b.split(e),_.isArray(b)&&(b=b[0]+"<u>"+e+"</u>"+b[1]));if(d.children){e=$('<li class="dropdown">');k=$('<a class="dropdown-toggle" href="#" data-toggle="dropdown"></a>');h&&_.each(h.split(" "),function(a){k.addClass(a)});c&&k.append(g);k.html(k.html()+"&nbsp;"+b);e.append(k);var l=$('<ul class="dropdown-menu">');e.append(l);_.each(_.keys(d.children),
function(b){b=d.children[b].divider?$('<li class="divider"></li>'):a(d.children,b);l.append(b)})}else{e=$("<li>");var k=$('<a href="#"></a>');c&&k.append(g);k.html(k.html()+"&nbsp;"+b);e.append(k)}return e}var d=window.app=window.app||{};d.mounts=d.mounts||{};d.mounts.myMenu=function(c,b){var d={id:c||"myMenu",urlRoot:b||"js/app/models/menu.json",ready:!1};$.onmount("#"+d.id,function(){var b=$(this),c=new (Backbone.Model.extend({urlRoot:d.urlRoot}));c.once("error",function(){alert("fetch error, see console.");
console.error(arguments)});c.once("sync",function(c,f,h,e){_.each(_.keys(f),function(c){c=a(f,c);b.append(c)});d.$el=b;d.ready=!0});c.fetch();d.model=c;b.data("menu",d)});return d}})();(function(){function a(c,b){var d=c[b],e=d.shortcut;if(c=d.icon_css){var h=$("<div>");_.each(c.split(" "),function(a){h.addClass(a)})}b=b.split(e);_.isArray(b)&&(b=b[0]+"<u>"+e+"</u>"+b[1]);if(d.children){var g=$('<div class="btn-group">');_.each(_.keys(d.children),function(b){b=d.children[b].divider?$('<div class="menubar-divider"> </div>'):a(d.children,b);g.append(b)});c=g}else b=$('<button class="btn"></button>'),c&&b.append(h),c=b;return c}var d=window.app=window.app||{};d.mounts=d.mounts||{};
d.mounts.myMenuBar=function(){var d={ready:!1};$.onmount("#myMenuBar",function(){var b=$(this),c=new (Backbone.Model.extend({urlRoot:"js/app/models/menubar.json"}));d.model=c;c.once("error",function(){alert("fetch error, see console.");console.error(arguments)});c.once("sync",function(c,h,g,f){_.each(_.keys(h),function(d){d=a(h,d);b.append(d)});d.$el=b;d.ready=!0});c.fetch()});return d}})();(function(){var a=window.app=window.app||{};a.class=a.class||{};a.utils=a.utils||{};a.routes=a.routes||{};a.mounts=a.mounts||{};a.wamp=a.wamp||{};a.state=a.state||{}})();(function(){var a=window.app=window.app||{};a.class=a.class||{};a.class.AppRouter=Backbone.Router.extend({routes:{"":"index",help:"help","search/:query":"search","search/:query/p:page":"search"},index:function(){console.log('Routing to "app.routes.index"');a.routes.index();console.log('Routed to "app.routes.index"')},help:function(){},search:function(a,c){}})})();(function(){var a=window.app=window.app||{};a.routes=a.routes||{};a.routes.index=function(){var d={commandQueue:[],commandCtr:0,queueAndExecuteCommand:function(a){this.commandQueue[this.commandCtr]=a;this.commandCtr++;a.execute()},undo:function(){if(0!=this.commandCtr){this.commandCtr--;var a=this.commandQueue[this.commandCtr];a&&Slick.GlobalEditorLock.cancelCurrentEdit()&&a.undo()}},redo:function(){if(!(this.commandCtr>=this.commandQueue.length)){var a=this.commandQueue[this.commandCtr];this.commandCtr++;
a&&Slick.GlobalEditorLock.cancelCurrentEdit()&&a.execute()}}};a.undoRedoBuffer=d;$(document).keydown(function(a){90==a.which&&(a.ctrlKey||a.metaKey)&&(a.shiftKey?d.redo():d.undo())});for(var c=0,b=[{id:"selector",name:"",field:"num",width:30}],f=0;26>f;f++)b.push({id:f,name:String.fromCharCode(65+f),field:f,width:60});b[4]={id:"%",name:"% Complete",field:"percentComplete",width:80,resizable:!1,formatter:Slick.Formatters.PercentCompleteBar,editor:Slick.Editors.PercentComplete};b[5]={id:"start",name:"Start",
field:"start",minWidth:60,editor:Slick.Editors.Date};var e=a.mounts.myGrid([],b,{editable:!0,enableAddRow:!0,enableCellNavigation:!0,asyncEditorLoading:!1,autoEdit:!1,dataItemColumnValueExtractor:function(a,b){return a[b.field]},dataItemColumnValueSetter:function(a,b,d){a[b.field]=d}},{clipboardCommandHandler:function(a){d.queueAndExecuteCommand.call(d,a)},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(a){for(var b=0;b<a;b++){var d={id:"newRow_"+c++};e.getData().addItem(d)}}});
a.mounts.myLayout();a.mounts.myMenu();a.mounts.myMenuBar();a.mounts.myMenu("js-sigblad-menu","js/app/models/sigblad.json");a.state.connection=a.wamp.connect()}})();(function(){var a=window.app=window.app||{};a.utils=a.utils||{};a.utils.delayedOnMount=function(a){setTimeout(function(){$.onmount()},a)};a.utils.$modal=function(a,c){c=_.extend({elementId:"myModal",labelElementId:"myModalLabel",label:void 0},c);var b=$('<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">  <div class="modal-header">    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>    <h3 id="myModalLabel">App Modal</h3>  </div>  <div class="modal-body">    <p>...</p>  </div>  <div class="modal-footer">    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>    \x3c!-- <button class="btn btn-primary">Save changes</button> --\x3e  </div></div>');
b.find(".modal-body").html(a);c.label&&b.find("#"+c.labelElementId).html(c.label);b.on("hidden",function(){console.log("TODO destroy modal")});return b};a.utils.$alert=function(a){1<arguments.length&&(a=[],_.each(arguments,function(b){_.isString(b)?a.push(b):_.isObject(b)?a.push(JSON.stringify(b)):a.push(String(b))}),a=a.join(" "));var c=$('<div class="alert alert-block ">');c.append(a);return c}})();(function(){var a=window.app=window.app||{};a.wamp=a.wamp||{};a.wamp.connect=function(){console.log("Runnning on AutobahnJS ",autobahn.version);var d="file://"==document.location.origin?"ws://127.0.0.1:8080/ws":("http:"===document.location.protocol?"ws:":"wss:")+"//"+document.location.host+"/ws";window.WAMP_OTHER_ID="nodejs";window.WAMP_CONNECTION=new autobahn.Connection({url:d,realm:"realm1"});WAMP_CONNECTION.onopen=function(){console.log("WAMP_CONNECTION.onopen");var c=new (WampCollection.extend({url:"test_collection"}));
c.fetch();c.create({age:36,name:"John"},{success:function(){c.first().destroy()}});a.state.collection=c};WAMP_CONNECTION.open();return WAMP_CONNECTION}})();
