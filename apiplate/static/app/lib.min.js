var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,n,f){c instanceof String&&(c=String(c));for(var h=c.length,l=0;l<h;l++){var t=c[l];if(n.call(f,t,l,c))return{i:l,v:t}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,n,f){c!=Array.prototype&&c!=Object.prototype&&(c[n]=f.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,n,f,h){if(n){f=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var l=c[h];l in f||(f[l]={});f=f[l]}c=c[c.length-1];h=f[c];n=n(h);n!=h&&null!=n&&$jscomp.defineProperty(f,c,{configurable:!0,writable:!0,value:n})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,f){return $jscomp.findInternal(this,c,f).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(n){return $jscomp.SYMBOL_PREFIX+(n||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var n=0;return $jscomp.iteratorPrototype(function(){return n<c.length?{done:!1,value:c[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,n){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var f=0,h={next:function(){if(f<c.length){var l=f++;return{value:n(l,c[l]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,f){return f})}},"es8","es3");$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
if("undefined"===typeof console||"undefined"===typeof console.log){var names="log debug info warn error assert dir dirxml group groupEnd time timeEnd count trace profile profileEnd".split(" ");window.console={};for(var i=0;i<names.length;++i)window.console[names[i]]=function(){}};/*
 jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(c,n){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?n(c,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return n(c)}:n(c)}("undefined"!=typeof window?window:this,function(c,n){function f(b){var a=b.length,e=p.type(b);return"function"===e||p.isWindow(b)?!1:1===b.nodeType&&a?!0:"array"===e||0===a||"number"==typeof a&&0<a&&a-1 in b}function h(b,a,e){if(p.isFunction(a))return p.grep(b,function(b,c){return!!a.call(b,c,
b)!==e});if(a.nodeType)return p.grep(b,function(b){return b===a!==e});if("string"==typeof a){if(Vc.test(a))return p.filter(a,b,e);a=p.filter(a,b)}return p.grep(b,function(b){return 0<=p.inArray(b,a)!==e})}function l(b,a){do b=b[a];while(b&&1!==b.nodeType);return b}function t(b){var a=Lc[b]={};return p.each(b.match(Bb)||[],function(b,e){a[e]=!0}),a}function a(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",d,!1),c.removeEventListener("load",d,!1)):(P.detachEvent("onreadystatechange",
d),c.detachEvent("onload",d))}function d(){(P.addEventListener||"load"===event.type||"complete"===P.readyState)&&(a(),p.ready())}function k(b,a,e){if(void 0===e&&1===b.nodeType){var c="data-"+a.replace(Ed,"-$1").toLowerCase();if(e=b.getAttribute(c),"string"==typeof e){try{e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:Fd.test(e)?p.parseJSON(e):e}catch(Ta){}p.data(b,a,e)}else e=void 0}return e}function r(b){for(var a in b)if(("data"!==a||!p.isEmptyObject(b[a]))&&"toJSON"!==a)return!1;
return!0}function w(b,a,e,c){if(p.acceptData(b)){var g,x,m=p.expando,d=b.nodeType,q=d?p.cache:b,f=d?b[m]:b[m]&&m;if(f&&q[f]&&(c||q[f].data)||void 0!==e||"string"!=typeof a)return f||(f=d?b[m]=qa.pop()||p.guid++:m),q[f]||(q[f]=d?{}:{toJSON:p.noop}),("object"==typeof a||"function"==typeof a)&&(c?q[f]=p.extend(q[f],a):q[f].data=p.extend(q[f].data,a)),x=q[f],c||(x.data||(x.data={}),x=x.data),void 0!==e&&(x[p.camelCase(a)]=e),"string"==typeof a?(g=x[a],null==g&&(g=x[p.camelCase(a)])):g=x,g}}function v(b,
a,e){if(p.acceptData(b)){var c,g,x=b.nodeType,m=x?p.cache:b,d=x?b[p.expando]:p.expando;if(m[d]){if(a&&(c=e?m[d]:m[d].data)){p.isArray(a)?a=a.concat(p.map(a,p.camelCase)):a in c?a=[a]:(a=p.camelCase(a),a=a in c?[a]:a.split(" "));for(g=a.length;g--;)delete c[a[g]];if(e?!r(c):!p.isEmptyObject(c))return}(e||(delete m[d].data,r(m[d])))&&(x?p.cleanData([b],!0):I.deleteExpando||m!=m.window?delete m[d]:m[d]=null)}}}function H(){return!0}function C(){return!1}function z(){try{return P.activeElement}catch(x){}}
function E(b){var a=md.split("|");b=b.createDocumentFragment();if(b.createElement)for(;a.length;)b.createElement(a.pop());return b}function b(a,e){var c,g,m=0,x="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(e||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(e||"*"):void 0;if(!x)for(x=[],c=a.childNodes||a;null!=(g=c[m]);m++)!e||p.nodeName(g,e)?x.push(g):p.merge(x,b(g,e));return void 0===e||e&&p.nodeName(a,e)?p.merge([a],x):x}function e(b){Xc.test(b.type)&&(b.defaultChecked=
b.checked)}function g(b,a){return p.nodeName(b,"table")&&p.nodeName(11!==a.nodeType?a:a.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function m(b){return b.type=(null!==p.find.attr(b,"type"))+"/"+b.type,b}function q(b){var a=Ub.exec(b.type);return a?b.type=a[1]:b.removeAttribute("type"),b}function y(b,a){for(var e,c=0;null!=(e=b[c]);c++)p._data(e,"globalEval",!a||p._data(a[c],"globalEval"))}function Q(b,a){if(1===a.nodeType&&p.hasData(b)){var e,
c;var g=p._data(b);b=p._data(a,g);var m=g.events;if(m)for(e in delete b.handle,b.events={},m)for(g=0,c=m[e].length;c>g;g++)p.event.add(a,e,m[e][g]);b.data&&(b.data=p.extend({},b.data))}}function A(b,a){var e;b=p(a.createElement(b)).appendTo(a.body);a=c.getDefaultComputedStyle&&(e=c.getDefaultComputedStyle(b[0]))?e.display:p.css(b[0],"display");return b.detach(),a}function O(b){var a=P,e=Cb[b];return e||(e=A(b,a),"none"!==e&&e||(Za=(Za||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),
a=(Za[0].contentWindow||Za[0].contentDocument).document,a.write(),a.close(),e=A(b,a),Za.detach()),Cb[b]=e),e}function T(b,a){return{get:function(){var e=b();if(null!=e)return e?void delete this.get:(this.get=a).apply(this,arguments)}}}function J(b,a){if(a in b)return a;for(var e=a.charAt(0).toUpperCase()+a.slice(1),c=a,g=Ud.length;g--;)if(a=Ud[g]+e,a in b)return a;return c}function fa(b,a){for(var e,c,g,m=[],x=0,d=b.length;d>x;x++)c=b[x],c.style&&(m[x]=p._data(c,"olddisplay"),e=c.style.display,a?
(m[x]||"none"!==e||(c.style.display=""),""===c.style.display&&nc(c)&&(m[x]=p._data(c,"olddisplay",O(c.nodeName)))):(g=nc(c),(e&&"none"!==e||!g)&&p._data(c,"olddisplay",g?e:p.css(c,"display"))));for(x=0;d>x;x++)c=b[x],c.style&&(a&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=a?m[x]||"":"none"));return b}function da(b,a,e){return(b=Vd.exec(a))?Math.max(0,b[1]-(e||0))+(b[2]||"px"):a}function V(b,a,e,c,g){a=e===(c?"border":"content")?4:"width"===a?1:0;for(var m=0;4>a;a+=2)"margin"===
e&&(m+=p.css(b,e+Vb[a],!0,g)),c?("content"===e&&(m-=p.css(b,"padding"+Vb[a],!0,g)),"margin"!==e&&(m-=p.css(b,"border"+Vb[a]+"Width",!0,g))):(m+=p.css(b,"padding"+Vb[a],!0,g),"padding"!==e&&(m+=p.css(b,"border"+Vb[a]+"Width",!0,g)));return m}function D(b,a,e){var c=!0,g="width"===a?b.offsetWidth:b.offsetHeight,m=Xa(b),x=I.boxSizing&&"border-box"===p.css(b,"boxSizing",!1,m);if(0>=g||null==g){if(g=ib(b,a,m),(0>g||null==g)&&(g=b.style[a]),Wb.test(g))return g;c=x&&(I.boxSizingReliable()||g===b.style[a]);
g=parseFloat(g)||0}return g+V(b,a,e||(x?"border":"content"),c,m)+"px"}function S(b,a,e,c,g){return new S.prototype.init(b,a,e,c,g)}function Va(){return setTimeout(function(){Ja=void 0}),Ja=p.now()}function ba(b,a){var e={height:b},c=0;for(a=a?1:0;4>c;c+=2-a){var g=Vb[c];e["margin"+g]=e["padding"+g]=b}return a&&(e.opacity=e.width=b),e}function Y(b,a,e){for(var c,g=(fc[a]||[]).concat(fc["*"]),m=0,x=g.length;x>m;m++)if(c=g[m].call(e,a,b))return c}function R(b,a){var e,c,g,m,x;for(e in b)if(c=p.camelCase(e),
g=a[c],m=b[e],p.isArray(m)&&(g=m[1],m=b[e]=m[0]),e!==c&&(b[c]=m,delete b[e]),x=p.cssHooks[c],x&&"expand"in x)for(e in m=x.expand(m),delete b[c],m)e in b||(b[e]=m[e],a[e]=g);else a[c]=g}function N(b,a,e){var c,g=0,m=Lb.length,x=p.Deferred().always(function(){delete d.elem}),d=function(){if(c)return!1;var a=Ja||Va();a=Math.max(0,q.startTime+q.duration-a);for(var e=1-(a/q.duration||0),g=0,m=q.tweens.length;m>g;g++)q.tweens[g].run(e);return x.notifyWith(b,[q,e,a]),1>e&&m?a:(x.resolveWith(b,[q]),!1)},
q=x.promise({elem:b,props:p.extend({},a),opts:p.extend(!0,{specialEasing:{}},e),originalProperties:a,originalOptions:e,startTime:Ja||Va(),duration:e.duration,tweens:[],createTween:function(a,e){a=p.Tween(b,q.opts,a,e,q.opts.specialEasing[a]||q.opts.easing);return q.tweens.push(a),a},stop:function(a){var e=0,g=a?q.tweens.length:0;if(c)return this;for(c=!0;g>e;e++)q.tweens[e].run(1);return a?x.resolveWith(b,[q,a]):x.rejectWith(b,[q,a]),this}});e=q.props;for(R(e,q.opts.specialEasing);m>g;g++)if(a=Lb[g].call(q,
b,e,q.opts))return a;return p.map(e,Y,q),p.isFunction(q.opts.start)&&q.opts.start.call(b,q),p.fx.timer(p.extend(d,{elem:b,anim:q,queue:q.opts.queue})),q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}function B(b){return function(a,e){"string"!=typeof a&&(e=a,a="*");var c=0,g=a.toLowerCase().match(Bb)||[];if(p.isFunction(e))for(;a=g[c++];)"+"===a.charAt(0)?(a=a.slice(1)||"*",(b[a]=b[a]||[]).unshift(e)):(b[a]=b[a]||[]).push(e)}}function K(b,a,e,
c){function g(q){var d;return m[q]=!0,p.each(b[q]||[],function(b,q){b=q(a,e,c);return"string"!=typeof b||x||m[b]?x?!(d=b):void 0:(a.dataTypes.unshift(b),g(b),!1)}),d}var m={},x=b===ab;return g(a.dataTypes[0])||!m["*"]&&g("*")}function L(b,a){var e,c,g=p.ajaxSettings.flatOptions||{};for(c in a)void 0!==a[c]&&((g[c]?b:e||(e={}))[c]=a[c]);return e&&p.extend(!0,b,e),b}function va(b,a,e,c){var g;if(p.isArray(a))p.each(a,function(a,g){e||Gd.test(b)?c(b,g):va(b+"["+("object"==typeof g?a:"")+"]",g,e,c)});
else if(e||"object"!==p.type(a))c(b,a);else for(g in a)va(b+"["+g+"]",a[g],e,c)}function Fa(){try{return new c.XMLHttpRequest}catch(x){}}function Ca(b){return p.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var qa=[],W=qa.slice,Ba=qa.concat,la=qa.push,ca=qa.indexOf,ha={},U=ha.toString,wa=ha.hasOwnProperty,I={},p=function(b,a){return new p.fn.init(b,a)},Ka=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Mb=/^-ms-/,Xb=/-([\da-z])/gi,Db=function(b,a){return a.toUpperCase()};p.fn=p.prototype={jquery:"1.11.2",
constructor:p,selector:"",length:0,toArray:function(){return W.call(this)},get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:W.call(this)},pushStack:function(b){b=p.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,b},each:function(b,a){return p.each(this,b,a)},map:function(b){return this.pushStack(p.map(this,function(a,e){return b.call(a,e,a)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(b){var a=this.length;b=+b+(0>b?a:0);return this.pushStack(0<=b&&a>b?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:la,sort:qa.sort,splice:qa.splice};p.extend=p.fn.extend=function(){var b,a,e,c,g=arguments[0]||{},m=1,q=arguments.length,d=!1;"boolean"==typeof g&&(d=g,g=arguments[m]||{},m++);"object"==typeof g||p.isFunction(g)||(g={});for(m===q&&(g=this,m--);q>m;m++)if(null!=(e=arguments[m]))for(a in e){var f=g[a];var k=e[a];g!==k&&(d&&k&&(p.isPlainObject(k)||
(b=p.isArray(k)))?(b?(b=!1,c=f&&p.isArray(f)?f:[]):c=f&&p.isPlainObject(f)?f:{},g[a]=p.extend(d,c,k)):void 0!==k&&(g[a]=k))}return g};p.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===p.type(b)},isArray:Array.isArray||function(b){return"array"===p.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!p.isArray(b)&&0<=b-parseFloat(b)+1},isEmptyObject:function(b){for(var a in b)return!1;
return!0},isPlainObject:function(b){var a;if(!b||"object"!==p.type(b)||b.nodeType||p.isWindow(b))return!1;try{if(b.constructor&&!wa.call(b,"constructor")&&!wa.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(Ea){return!1}if(I.ownLast)for(a in b)return wa.call(b,a);for(a in b);return void 0===a||wa.call(b,a)},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?ha[U.call(b)]||"object":typeof b},globalEval:function(b){b&&p.trim(b)&&(c.execScript||function(b){c.eval.call(c,
b)})(b)},camelCase:function(b){return b.replace(Mb,"ms-").replace(Xb,Db)},nodeName:function(b,a){return b.nodeName&&b.nodeName.toLowerCase()===a.toLowerCase()},each:function(b,a,e){var c,g=0,m=b.length,q=f(b);if(e)if(q)for(;m>g&&(c=a.apply(b[g],e),!1!==c);g++);else for(g in b){if(c=a.apply(b[g],e),!1===c)break}else if(q)for(;m>g&&(c=a.call(b[g],g,b[g]),!1!==c);g++);else for(g in b)if(c=a.call(b[g],g,b[g]),!1===c)break;return b},trim:function(b){return null==b?"":(b+"").replace(Ka,"")},makeArray:function(b,
a){a=a||[];return null!=b&&(f(Object(b))?p.merge(a,"string"==typeof b?[b]:b):la.call(a,b)),a},inArray:function(b,a,e){if(a){if(ca)return ca.call(a,b,e);var c=a.length;for(e=e?0>e?Math.max(0,c+e):e:0;c>e;e++)if(e in a&&a[e]===b)return e}return-1},merge:function(b,a){for(var e=+a.length,c=0,g=b.length;e>c;)b[g++]=a[c++];if(e!==e)for(;void 0!==a[c];)b[g++]=a[c++];return b.length=g,b},grep:function(b,a,e){for(var c=[],g=0,m=b.length,q=!e;m>g;g++)e=!a(b[g],g),e!==q&&c.push(b[g]);return c},map:function(b,
a,e){var c=0,g=b.length,m=[];if(f(b))for(;g>c;c++){var q=a(b[c],c,e);null!=q&&m.push(q)}else for(c in b)q=a(b[c],c,e),null!=q&&m.push(q);return Ba.apply([],m)},guid:1,proxy:function(b,a){var e,c,g;return"string"==typeof a&&(g=b[a],a=b,b=g),p.isFunction(b)?(e=W.call(arguments,2),c=function(){return b.apply(a||this,e.concat(W.call(arguments)))},c.guid=b.guid=b.guid||p.guid++,c):void 0},now:function(){return+new Date},support:I});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(b,a){ha["[object "+a+"]"]=a.toLowerCase()});var kb=function(b){function a(b,a,e,c){var g,m,q,d,f;if((a?a.ownerDocument||a:S)!==D&&pc(a),a=a||D,e=e||[],d=a.nodeType,"string"!=typeof b||!b||1!==d&&9!==d&&11!==d)return e;if(!c&&L){if(11!==d&&(g=ea.exec(b)))if(q=g[1])if(9===d){if(m=a.getElementById(q),!m||!m.parentNode)return e;if(m.id===q)return e.push(m),e}else{if(a.ownerDocument&&(m=a.ownerDocument.getElementById(q))&&Ka(a,m)&&m.id===q)return e.push(m),e}else{if(g[2])return Y.apply(e,a.getElementsByTagName(b)),
e;if((q=g[3])&&ma.getElementsByClassName)return Y.apply(e,a.getElementsByClassName(q)),e}if(ma.qsa&&(!T||!T.test(b))){if(m=g=J,q=a,f=1!==d&&b,1===d&&"object"!==a.nodeName.toLowerCase()){d=Nc(b);(g=a.getAttribute("id"))?m=g.replace(Vc,"\\$&"):a.setAttribute("id",m);m="[id='"+m+"'] ";for(q=d.length;q--;)d[q]=m+p(d[q]);q=Ba.test(b)&&k(a.parentNode)||a;f=d.join(",")}if(f)try{return Y.apply(e,q.querySelectorAll(f)),e}catch(xa){}finally{g||a.removeAttribute("id")}}}return O(b.replace(G,"$1"),a,e,c)}function e(){function b(e,
c){return a.push(e+" ")>ka.cacheLength&&delete b[a.shift()],b[e+" "]=c}var a=[];return b}function c(b){return b[J]=!0,b}function g(b){var a=D.createElement("div");try{return!!b(a)}catch(Wd){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function m(b,a){var e=b.split("|");for(b=b.length;b--;)ka.attrHandle[e[b]]=a}function q(b,a){var e=a&&b,c=e&&1===b.nodeType&&1===a.nodeType&&(~a.sourceIndex||-2147483648)-(~b.sourceIndex||-2147483648);if(c)return c;if(e)for(;e=e.nextSibling;)if(e===a)return-1;
return b?1:-1}function d(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function f(b){return function(a){var e=a.nodeName.toLowerCase();return("input"===e||"button"===e)&&a.type===b}}function x(b){return c(function(a){return a=+a,c(function(e,c){for(var g,m=b([],e.length,a),q=m.length;q--;)e[g=m[q]]&&(e[g]=!(c[g]=e[g]))})})}function k(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b}function y(){}function p(b){for(var a=0,e=b.length,c="";e>a;a++)c+=b[a].value;
return c}function h(b,a,e){var c=a.dir,g=e&&"parentNode"===c,m=E++;return a.first?function(a,e,m){for(;a=a[c];)if(1===a.nodeType||g)return b(a,e,m)}:function(a,e,q){var d,f,x=[va,m];if(q)for(;a=a[c];){if((1===a.nodeType||g)&&b(a,e,q))return!0}else for(;a=a[c];)if(1===a.nodeType||g){if(f=a[J]||(a[J]={}),(d=f[c])&&d[0]===va&&d[1]===m)return x[2]=d[2];if(f[c]=x,x[2]=b(a,e,q))return!0}}}function l(b){return 1<b.length?function(a,e,c){for(var g=b.length;g--;)if(!b[g](a,e,c))return!1;return!0}:b[0]}function r(b,
a,e,c,g){for(var m,q=[],d=0,f=b.length,x=null!=a;f>d;d++)(m=b[d])&&(!e||e(m,c,g))&&(q.push(m),x&&a.push(d));return q}function A(b,e,g,m,q,d){return m&&!m[J]&&(m=A(m)),q&&!q[J]&&(q=A(q,d)),c(function(c,d,f,x){var k,y=[],p=[],h=d.length,M;if(!(M=c)){M=e||"*";for(var aa=f.nodeType?[f]:f,l=[],ma=0,Ea=aa.length;Ea>ma;ma++)a(M,aa[ma],l);M=l}M=!b||!c&&e?M:r(M,y,b,f,x);aa=g?q||(c?b:h||m)?[]:d:M;if(g&&g(M,aa,f,x),m){var A=r(aa,p);m(A,[],f,x);for(f=A.length;f--;)(k=A[f])&&(aa[p[f]]=!(M[p[f]]=k))}if(c){if(q||
b){if(q){A=[];for(f=aa.length;f--;)(k=aa[f])&&A.push(M[f]=k);q(null,aa=[],A,x)}for(f=aa.length;f--;)(k=aa[f])&&-1<(A=q?Ca(c,k):y[f])&&(c[A]=!(d[A]=k))}}else aa=r(aa===d?aa.splice(h,aa.length):aa),q?q(null,d,aa,x):Y.apply(d,aa)})}function Q(b){var a,e,c=b.length,g=ka.relative[b[0].type];var m=g||ka.relative[" "];for(var q=g?1:0,d=h(function(b){return b===a},m,!0),f=h(function(b){return-1<Ca(a,b)},m,!0),x=[function(b,e,c){b=!g&&(c||e!==w)||((a=e).nodeType?d(b,e,c):f(b,e,c));return a=null,b}];c>q;q++)if(m=
ka.relative[b[q].type])x=[h(l(x),m)];else{if(m=ka.filter[b[q].type].apply(null,b[q].matches),m[J]){for(e=++q;c>e&&!ka.relative[b[e].type];e++);return A(1<q&&l(x),1<q&&p(b.slice(0,q-1).concat({value:" "===b[q-2].type?"*":""})).replace(G,"$1"),m,e>q&&Q(b.slice(q,e)),c>e&&Q(b=b.slice(e)),c>e&&p(b))}x.push(m)}return l(x)}function B(b,e){var g=0<e.length,m=0<b.length,q=function(c,q,d,f,x){var k,y,p,h=0,aa="0",M=c&&[],l=[],ma=w,A=c||m&&ka.find.TAG("*",x),Ea=va+=null==ma?1:Math.random()||.1,Q=A.length;for(x&&
(w=q!==D&&q);aa!==Q&&null!=(k=A[aa]);aa++){if(m&&k){for(y=0;p=b[y++];)if(p(k,q,d)){f.push(k);break}x&&(va=Ea)}g&&((k=!p&&k)&&h--,c&&M.push(k))}if(h+=aa,g&&aa!==h){for(y=0;p=e[y++];)p(M,l,q,d);if(c){if(0<h)for(;aa--;)M[aa]||l[aa]||(l[aa]=Mb.call(f));l=r(l)}Y.apply(f,l);x&&!c&&0<l.length&&1<h+e.length&&a.uniqueSort(f)}return x&&(va=Ea,w=ma),M};return g?c(q):q}var n,t,O,w,v,K,D,u,L,T,V,da,Ka,J="sizzle"+1*new Date,S=b.document,va=0,E=0,fa=e(),ba=e(),Va=e(),z=function(b,a){return b===a&&(K=!0),0},H={}.hasOwnProperty,
Fa=[],Mb=Fa.pop,C=Fa.push,Y=Fa.push,R=Fa.slice,Ca=function(b,a){for(var e=0,c=b.length;c>e;e++)if(b[e]===a)return e;return-1},N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Xb="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)[\\x20\\t\\r\\n\\f]*\\]",pb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
Xb+")*)|.*)\\)|)",I=/[\x20\t\r\n\f]+/g,G=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,W=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,P=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,qa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Ma=new RegExp(pb),kb=new RegExp("^"+N+"$"),U={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Xb),PSEUDO:new RegExp("^"+pb),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Db=/^(?:input|select|textarea|button)$/i,ca=/^h\d$/i,ub=/^[^{]+\{\s*\[native \w/,ea=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ba=/[+~]/,Vc=/'|\\/g,Na=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,la=function(b,a,e){b="0x"+a-65536;
return b!==b||e?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},aa=function(){pc()};try{Y.apply(Fa=R.call(S.childNodes),S.childNodes),Fa[S.childNodes.length].nodeType}catch(se){Y={apply:Fa.length?function(b,a){C.apply(b,R.call(a))}:function(b,a){for(var e=b.length,c=0;b[e++]=a[c++];);b.length=e-1}}}var ma=a.support={};var ud=a.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};var pc=a.setDocument=function(b){var a,e,c=b?b.ownerDocument||
b:S;return c!==D&&9===c.nodeType&&c.documentElement?(D=c,u=c.documentElement,e=c.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",aa,!1):e.attachEvent&&e.attachEvent("onunload",aa)),L=!ud(c),ma.attributes=g(function(b){return b.className="i",!b.getAttribute("className")}),ma.getElementsByTagName=g(function(b){return b.appendChild(c.createComment("")),!b.getElementsByTagName("*").length}),ma.getElementsByClassName=ub.test(c.getElementsByClassName),ma.getById=g(function(b){return u.appendChild(b).id=
J,!c.getElementsByName||!c.getElementsByName(J).length}),ma.getById?(ka.find.ID=function(b,a){if("undefined"!=typeof a.getElementById&&L)return(b=a.getElementById(b))&&b.parentNode?[b]:[]},ka.filter.ID=function(b){var a=b.replace(Na,la);return function(b){return b.getAttribute("id")===a}}):(delete ka.find.ID,ka.filter.ID=function(b){var a=b.replace(Na,la);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}}),ka.find.TAG=ma.getElementsByTagName?
function(b,a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b):ma.qsa?a.querySelectorAll(b):void 0}:function(b,a){var e=[],c=0;a=a.getElementsByTagName(b);if("*"===b){for(;b=a[c++];)1===b.nodeType&&e.push(b);return e}return a},ka.find.CLASS=ma.getElementsByClassName&&function(b,a){return L?a.getElementsByClassName(b):void 0},V=[],T=[],(ma.qsa=ub.test(c.querySelectorAll))&&(g(function(b){u.appendChild(b).innerHTML="<a id='"+J+"'></a><select id='"+J+"-\f]' msallowcapture=''><option selected=''></option></select>";
b.querySelectorAll("[msallowcapture^='']").length&&T.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||T.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");b.querySelectorAll("[id~="+J+"-]").length||T.push("~=");b.querySelectorAll(":checked").length||T.push(":checked");b.querySelectorAll("a#"+J+"+*").length||T.push(".#.+[+~]")}),g(function(b){var a=
c.createElement("input");a.setAttribute("type","hidden");b.appendChild(a).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&T.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");b.querySelectorAll(":enabled").length||T.push(":enabled",":disabled");b.querySelectorAll("*,:x");T.push(",.*:")})),(ma.matchesSelector=ub.test(da=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector))&&g(function(b){ma.disconnectedMatch=da.call(b,"div");da.call(b,"[s!='']:x");
V.push("!=",pb)}),T=T.length&&new RegExp(T.join("|")),V=V.length&&new RegExp(V.join("|")),a=ub.test(u.compareDocumentPosition),Ka=a||ub.test(u.contains)?function(b,a){var e=9===b.nodeType?b.documentElement:b;a=a&&a.parentNode;return b===a||!(!a||1!==a.nodeType||!(e.contains?e.contains(a):b.compareDocumentPosition&&16&b.compareDocumentPosition(a)))}:function(b,a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1},z=a?function(b,a){if(b===a)return K=!0,0;var e=!b.compareDocumentPosition-!a.compareDocumentPosition;
return e?e:(e=(b.ownerDocument||b)===(a.ownerDocument||a)?b.compareDocumentPosition(a):1,1&e||!ma.sortDetached&&a.compareDocumentPosition(b)===e?b===c||b.ownerDocument===S&&Ka(S,b)?-1:a===c||a.ownerDocument===S&&Ka(S,a)?1:v?Ca(v,b)-Ca(v,a):0:4&e?-1:1)}:function(b,a){if(b===a)return K=!0,0;var e=0,g=b.parentNode,m=a.parentNode,d=[b],f=[a];if(!g||!m)return b===c?-1:a===c?1:g?-1:m?1:v?Ca(v,b)-Ca(v,a):0;if(g===m)return q(b,a);for(;b=b.parentNode;)d.unshift(b);for(b=a;b=b.parentNode;)f.unshift(b);for(;d[e]===
f[e];)e++;return e?q(d[e],f[e]):d[e]===S?-1:f[e]===S?1:0},c):D};a.matches=function(b,e){return a(b,null,null,e)};a.matchesSelector=function(b,e){if((b.ownerDocument||b)!==D&&pc(b),e=e.replace(qa,"='$1']"),!(!ma.matchesSelector||!L||V&&V.test(e)||T&&T.test(e)))try{var c=da.call(b,e);if(c||ma.disconnectedMatch||b.document&&11!==b.document.nodeType)return c}catch(Xd){}return 0<a(e,D,null,[b]).length};a.contains=function(b,a){return(b.ownerDocument||b)!==D&&pc(b),Ka(b,a)};a.attr=function(b,a){(b.ownerDocument||
b)!==D&&pc(b);var e=ka.attrHandle[a.toLowerCase()];e=e&&H.call(ka.attrHandle,a.toLowerCase())?e(b,a,!L):void 0;return void 0!==e?e:ma.attributes||!L?b.getAttribute(a):(e=b.getAttributeNode(a))&&e.specified?e.value:null};a.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};a.uniqueSort=function(b){var a,e=[],c=0,g=0;if(K=!ma.detectDuplicates,v=!ma.sortStable&&b.slice(0),b.sort(z),K){for(;a=b[g++];)a===b[g]&&(c=e.push(g));for(;c--;)b.splice(e[c],1)}return v=null,b};var vd=
a.getText=function(b){var a,e="",c=0;if(a=b.nodeType)if(1===a||9===a||11===a){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)e+=vd(b)}else{if(3===a||4===a)return b.nodeValue}else for(;a=b[c++];)e+=vd(a);return e};var ka=a.selectors={cacheLength:50,createPseudo:c,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=
b[1].replace(Na,la),b[3]=(b[3]||b[4]||b[5]||"").replace(Na,la),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||a.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&a.error(b[0]),b},PSEUDO:function(b){var a,e=!b[6]&&b[2];return U.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":e&&Ma.test(e)&&(a=Nc(e,!0))&&(a=e.indexOf(")",e.length-a)-e.length)&&(b[0]=b[0].slice(0,
a),b[2]=e.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(Na,la).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(b){var a=fa[b+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),fa(b,function(b){return a.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||"")}))},ATTR:function(b,e,c){return function(g){g=a.attr(g,
b);return null==g?"!="===e:e?(g+="","="===e?g===c:"!="===e?g!==c:"^="===e?c&&0===g.indexOf(c):"*="===e?c&&-1<g.indexOf(c):"$="===e?c&&g.slice(-c.length)===c:"~="===e?-1<(" "+g.replace(I," ")+" ").indexOf(c):"|="===e?g===c||g.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(b,a,e,c,g){var m="nth"!==b.slice(0,3),q="last"!==b.slice(-4),d="of-type"===a;return 1===c&&0===g?function(b){return!!b.parentNode}:function(a,e,f){var x;e=m!==q?"nextSibling":"previousSibling";var k=a.parentNode,y=d&&a.nodeName.toLowerCase();
f=!f&&!d;if(k){if(m){for(;e;){for(x=a;x=x[e];)if(d?x.nodeName.toLowerCase()===y:1===x.nodeType)return!1;var p=e="only"===b&&!p&&"nextSibling"}return!0}if(p=[q?k.firstChild:k.lastChild],q&&f){f=k[J]||(k[J]={});var h=f[b]||[];var aa=h[0]===va&&h[1];var M=h[0]===va&&h[2];for(x=aa&&k.childNodes[aa];x=++aa&&x&&x[e]||(M=aa=0)||p.pop();)if(1===x.nodeType&&++M&&x===a){f[b]=[va,aa,M];break}}else if(f&&(h=(a[J]||(a[J]={}))[b])&&h[0]===va)M=h[1];else for(;(x=++aa&&x&&x[e]||(M=aa=0)||p.pop())&&((d?x.nodeName.toLowerCase()!==
y:1!==x.nodeType)||!++M||(f&&((x[J]||(x[J]={}))[b]=[va,M]),x!==a)););return M-=g,M===c||0===M%c&&0<=M/c}}},PSEUDO:function(b,e){var g,m=ka.pseudos[b]||ka.setFilters[b.toLowerCase()]||a.error("unsupported pseudo: "+b);return m[J]?m(e):1<m.length?(g=[b,b,"",e],ka.setFilters.hasOwnProperty(b.toLowerCase())?c(function(b,a){for(var c,g=m(b,e),q=g.length;q--;)c=Ca(b,g[q]),b[c]=!(a[c]=g[q])}):function(b){return m(b,0,g)}):m}},pseudos:{not:c(function(b){var a=[],e=[],g=t(b.replace(G,"$1"));return g[J]?c(function(b,
a,e,c){var m;e=g(b,null,c,[]);for(c=b.length;c--;)(m=e[c])&&(b[c]=!(a[c]=m))}):function(b,c,m){return a[0]=b,g(a,null,m,e),a[0]=null,!e.pop()}}),has:c(function(b){return function(e){return 0<a(b,e).length}}),contains:c(function(b){return b=b.replace(Na,la),function(a){return-1<(a.textContent||a.innerText||vd(a)).indexOf(b)}}),lang:c(function(b){return kb.test(b||"")||a.error("unsupported lang: "+b),b=b.replace(Na,la).toLowerCase(),function(a){var e;do if(e=L?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return e=
e.toLowerCase(),e===b||0===e.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var e=b.location&&b.location.hash;return e&&e.slice(1)===a.id},root:function(b){return b===u},focus:function(b){return b===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&
!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!ka.pseudos.empty(b)},header:function(b){return ca.test(b.nodeName)},input:function(b){return Db.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===
b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:x(function(){return[0]}),last:x(function(b,a){return[a-1]}),eq:x(function(b,a,e){return[0>e?e+a:e]}),even:x(function(b,a){for(var e=0;a>e;e+=2)b.push(e);return b}),odd:x(function(b,a){for(var e=1;a>e;e+=2)b.push(e);return b}),lt:x(function(b,a,e){for(a=0>e?e+a:e;0<=--a;)b.push(a);return b}),gt:x(function(b,a,e){for(e=0>e?e+a:e;++e<a;)b.push(e);return b})}};ka.pseudos.nth=ka.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,
password:!0,image:!0})ka.pseudos[n]=d(n);for(n in{submit:!0,reset:!0})ka.pseudos[n]=f(n);y.prototype=ka.filters=ka.pseudos;ka.setFilters=new y;var Nc=a.tokenize=function(b,e){var c,g,m,q,d;if(q=ba[b+" "])return e?0:q.slice(0);q=b;var f=[];for(d=ka.preFilter;q;){x&&!(c=W.exec(q))||(c&&(q=q.slice(c[0].length)||q),f.push(g=[]));var x=!1;(c=P.exec(q))&&(x=c.shift(),g.push({value:x,type:c[0].replace(G," ")}),q=q.slice(x.length));for(m in ka.filter)!(c=U[m].exec(q))||d[m]&&!(c=d[m](c))||(x=c.shift(),g.push({value:x,
type:m,matches:c}),q=q.slice(x.length));if(!x)break}return e?q.length:q?a.error(b):ba(b,f).slice(0)};return t=a.compile=function(b,a){var e,c=[],g=[],m=Va[b+" "];if(!m){a||(a=Nc(b));for(e=a.length;e--;)m=Q(a[e]),m[J]?c.push(m):g.push(m);m=Va(b,B(g,c));m.selector=b}return m},O=a.select=function(b,a,e,c){var g,m,q,d,f,x="function"==typeof b&&b,y=!c&&Nc(b=x.selector||b);if(e=e||[],1===y.length){if(m=y[0]=y[0].slice(0),2<m.length&&"ID"===(q=m[0]).type&&ma.getById&&9===a.nodeType&&L&&ka.relative[m[1].type]){if(a=
(ka.find.ID(q.matches[0].replace(Na,la),a)||[])[0],!a)return e;x&&(a=a.parentNode);b=b.slice(m.shift().value.length)}for(g=U.needsContext.test(b)?0:m.length;g--&&(q=m[g],!ka.relative[d=q.type]);)if((f=ka.find[d])&&(c=f(q.matches[0].replace(Na,la),Ba.test(m[0].type)&&k(a.parentNode)||a))){if(m.splice(g,1),b=c.length&&p(m),!b)return Y.apply(e,c),e;break}}return(x||t(b,y))(c,a,!L,e,Ba.test(b)&&k(a.parentNode)||a),e},ma.sortStable=J.split("").sort(z).join("")===J,ma.detectDuplicates=!!K,pc(),ma.sortDetached=
g(function(b){return 1&b.compareDocumentPosition(D.createElement("div"))}),g(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||m("type|href|height|width",function(b,a,e){return e?void 0:b.getAttribute(a,"type"===a.toLowerCase()?1:2)}),ma.attributes&&g(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||m("value",function(b,a,e){return e||"input"!==b.nodeName.toLowerCase()?void 0:b.defaultValue}),
g(function(b){return null==b.getAttribute("disabled")})||m("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,a,e){var c;return e?void 0:!0===b[a]?a.toLowerCase():(c=b.getAttributeNode(a))&&c.specified?c.value:null}),a}(c);p.find=kb;p.expr=kb.selectors;p.expr[":"]=p.expr.pseudos;p.unique=kb.uniqueSort;p.text=kb.getText;p.isXMLDoc=kb.isXML;p.contains=kb.contains;var Ma=p.expr.match.needsContext,ub=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,
Vc=/^.[^:#\[\.,]*$/;p.filter=function(b,a,e){var c=a[0];return e&&(b=":not("+b+")"),1===a.length&&1===c.nodeType?p.find.matchesSelector(c,b)?[c]:[]:p.find.matches(b,p.grep(a,function(b){return 1===b.nodeType}))};p.fn.extend({find:function(b){var a,e=[],c=this,g=c.length;if("string"!=typeof b)return this.pushStack(p(b).filter(function(){for(a=0;g>a;a++)if(p.contains(c[a],this))return!0}));for(a=0;g>a;a++)p.find(b,c[a],e);return e=this.pushStack(1<g?p.unique(e):e),e.selector=this.selector?this.selector+
" "+b:b,e},filter:function(b){return this.pushStack(h(this,b||[],!1))},not:function(b){return this.pushStack(h(this,b||[],!0))},is:function(b){return!!h(this,"string"==typeof b&&Ma.test(b)?p(b):b||[],!1).length}});var P=c.document,Ld=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(b,a){var e,c;if(!b)return this;if("string"==typeof b){if(e="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:Ld.exec(b),!e||!e[1]&&a)return!a||a.jquery?(a||Yb).find(b):this.constructor(a).find(b);
if(e[1]){if(a=a instanceof p?a[0]:a,p.merge(this,p.parseHTML(e[1],a&&a.nodeType?a.ownerDocument||a:P,!0)),ub.test(e[1])&&p.isPlainObject(a))for(e in a)p.isFunction(this[e])?this[e](a[e]):this.attr(e,a[e]);return this}if(c=P.getElementById(e[2]),c&&c.parentNode){if(c.id!==e[2])return Yb.find(b);this.length=1;this[0]=c}return this.context=P,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=1,this):p.isFunction(b)?"undefined"!=typeof Yb.ready?Yb.ready(b):b(p):(void 0!==b.selector&&
(this.selector=b.selector,this.context=b.context),p.makeArray(b,this))}).prototype=p.fn;var Yb=p(P);var rc=/^(?:parents|prev(?:Until|All))/,wd={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(b,a,e){var c=[];for(b=b[a];b&&9!==b.nodeType&&(void 0===e||1!==b.nodeType||!p(b).is(e));)1===b.nodeType&&c.push(b),b=b[a];return c},sibling:function(b,a){for(var e=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&e.push(b);return e}});p.fn.extend({has:function(b){var a,e=p(b,this),c=e.length;return this.filter(function(){for(a=
0;c>a;a++)if(p.contains(this,e[a]))return!0})},closest:function(b,a){for(var e,c=0,g=this.length,m=[],q=Ma.test(b)||"string"!=typeof b?p(b,a||this.context):0;g>c;c++)for(e=this[c];e&&e!==a;e=e.parentNode)if(11>e.nodeType&&(q?-1<q.index(e):1===e.nodeType&&p.find.matchesSelector(e,b))){m.push(e);break}return this.pushStack(1<m.length?p.unique(m):m)},index:function(b){return b?"string"==typeof b?p.inArray(this[0],p(b)):p.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:
-1},add:function(b,a){return this.pushStack(p.unique(p.merge(this.get(),p(b,a))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});p.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return p.dir(b,"parentNode")},parentsUntil:function(b,a,e){return p.dir(b,"parentNode",e)},next:function(b){return l(b,"nextSibling")},prev:function(b){return l(b,"previousSibling")},nextAll:function(b){return p.dir(b,"nextSibling")},
prevAll:function(b){return p.dir(b,"previousSibling")},nextUntil:function(b,a,e){return p.dir(b,"nextSibling",e)},prevUntil:function(b,a,e){return p.dir(b,"previousSibling",e)},siblings:function(b){return p.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return p.sibling(b.firstChild)},contents:function(b){return p.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:p.merge([],b.childNodes)}},function(b,a){p.fn[b]=function(e,c){var g=p.map(this,a,e);return"Until"!==b.slice(-5)&&
(c=e),c&&"string"==typeof c&&(g=p.filter(c,g)),1<this.length&&(wd[b]||(g=p.unique(g)),rc.test(b)&&(g=g.reverse())),this.pushStack(g)}});var Bb=/\S+/g,Lc={};p.Callbacks=function(b){b="string"==typeof b?Lc[b]||t(b):p.extend({},b);var a,e,c,g,m,q,d=[],f=!b.once&&[],x=function(y){e=b.memory&&y;c=!0;m=q||0;q=0;g=d.length;for(a=!0;d&&g>m;m++)if(!1===d[m].apply(y[0],y[1])&&b.stopOnFalse){e=!1;break}a=!1;d&&(f?f.length&&x(f.shift()):e?d=[]:k.disable())},k={add:function(){if(d){var c=d.length;!function Ac(a){p.each(a,
function(a,e){a=p.type(e);"function"===a?b.unique&&k.has(e)||d.push(e):e&&e.length&&"string"!==a&&Ac(e)})}(arguments);a?g=d.length:e&&(q=c,x(e))}return this},remove:function(){return d&&p.each(arguments,function(b,e){for(var c;-1<(c=p.inArray(e,d,c));)d.splice(c,1),a&&(g>=c&&g--,m>=c&&m--)}),this},has:function(b){return b?-1<p.inArray(b,d):!(!d||!d.length)},empty:function(){return d=[],g=0,this},disable:function(){return d=f=e=void 0,this},disabled:function(){return!d},lock:function(){return f=void 0,
e||k.disable(),this},locked:function(){return!f},fireWith:function(b,e){return!d||c&&!f||(e=e||[],e=[b,e.slice?e.slice():e],a?f.push(e):x(e)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k};p.extend({Deferred:function(b){var a=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],e="pending",c={state:function(){return e},always:function(){return g.done(arguments).fail(arguments),
this},then:function(){var b=arguments;return p.Deferred(function(e){p.each(a,function(a,m){var q=p.isFunction(b[a])&&b[a];g[m[1]](function(){var b=q&&q.apply(this,arguments);b&&p.isFunction(b.promise)?b.promise().done(e.resolve).fail(e.reject).progress(e.notify):e[m[0]+"With"](this===c?e.promise():this,q?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?p.extend(b,c):c}},g={};return c.pipe=c.then,p.each(a,function(b,m){var q=m[2],d=m[3];c[m[1]]=q.add;d&&q.add(function(){e=
d},a[1^b][2].disable,a[2][2].lock);g[m[0]]=function(){return g[m[0]+"With"](this===g?c:this,arguments),this};g[m[0]+"With"]=q.fireWith}),c.promise(g),b&&b.call(g,g),g},when:function(b){var a=0,e=W.call(arguments),c=e.length,g=1!==c||b&&p.isFunction(b.promise)?c:0,m=1===g?b:p.Deferred(),q=function(b,a,e){return function(c){a[b]=this;e[b]=1<arguments.length?W.call(arguments):c;e===f?m.notifyWith(a,e):--g||m.resolveWith(a,e)}},d;if(1<c){var f=Array(c);var x=Array(c);for(d=Array(c);c>a;a++)e[a]&&p.isFunction(e[a].promise)?
e[a].promise().done(q(a,d,e)).fail(m.reject).progress(q(a,x,f)):--g}return g||m.resolveWith(d,e),m.promise()}});var Ec;p.fn.ready=function(b){return p.ready.promise().done(b),this};p.extend({isReady:!1,readyWait:1,holdReady:function(b){b?p.readyWait++:p.ready(!0)},ready:function(b){if(!0===b?!--p.readyWait:!p.isReady){if(!P.body)return setTimeout(p.ready);p.isReady=!0;!0!==b&&0<--p.readyWait||(Ec.resolveWith(P,[p]),p.fn.triggerHandler&&(p(P).triggerHandler("ready"),p(P).off("ready")))}}});p.ready.promise=
function(b){if(!Ec)if(Ec=p.Deferred(),"complete"===P.readyState)setTimeout(p.ready);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",d,!1),c.addEventListener("load",d,!1);else{P.attachEvent("onreadystatechange",d);c.attachEvent("onload",d);var e=!1;try{e=null==c.frameElement&&P.documentElement}catch(Ea){}e&&e.doScroll&&!function Ab(){if(!p.isReady){try{e.doScroll("left")}catch(Ta){return setTimeout(Ab,50)}a();p.ready()}}()}return Ec.promise(b)};for(var xd in p(I))break;I.ownLast="0"!==
xd;I.inlineBlockNeedsLayout=!1;p(function(){var b,a,e,c;(e=P.getElementsByTagName("body")[0])&&e.style&&(a=P.createElement("div"),c=P.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(c).appendChild(a),"undefined"!==typeof a.style.zoom&&(a.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",I.inlineBlockNeedsLayout=b=3===a.offsetWidth,b&&(e.style.zoom=1)),e.removeChild(c))});(function(){var b=P.createElement("div");
if(null==I.deleteExpando){I.deleteExpando=!0;try{delete b.test}catch(M){I.deleteExpando=!1}}})();p.acceptData=function(b){var a=p.noData[(b.nodeName+" ").toLowerCase()],e=+b.nodeType||1;return 1!==e&&9!==e?!1:!a||!0!==a&&b.getAttribute("classid")===a};var Fd=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ed=/([A-Z])/g;p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(b){return b=b.nodeType?p.cache[b[p.expando]]:b[p.expando],!!b&&!r(b)},data:function(b,
a,e){return w(b,a,e)},removeData:function(b,a){return v(b,a)},_data:function(b,a,e){return w(b,a,e,!0)},_removeData:function(b,a){return v(b,a,!0)}});p.fn.extend({data:function(b,a){var e,c,g,m=this[0],q=m&&m.attributes;if(void 0===b){if(this.length&&(g=p.data(m),1===m.nodeType&&!p._data(m,"parsedAttrs"))){for(e=q.length;e--;)q[e]&&(c=q[e].name,0===c.indexOf("data-")&&(c=p.camelCase(c.slice(5)),k(m,c,g[c])));p._data(m,"parsedAttrs",!0)}return g}return"object"==typeof b?this.each(function(){p.data(this,
b)}):1<arguments.length?this.each(function(){p.data(this,b,a)}):m?k(m,b,p.data(m,b)):void 0},removeData:function(b){return this.each(function(){p.removeData(this,b)})}});p.extend({queue:function(b,a,e){var c;return b?(a=(a||"fx")+"queue",c=p._data(b,a),e&&(!c||p.isArray(e)?c=p._data(b,a,p.makeArray(e)):c.push(e)),c||[]):void 0},dequeue:function(b,a){a=a||"fx";var e=p.queue(b,a),c=e.length,g=e.shift(),m=p._queueHooks(b,a),q=function(){p.dequeue(b,a)};"inprogress"===g&&(g=e.shift(),c--);g&&("fx"===
a&&e.unshift("inprogress"),delete m.stop,g.call(b,q,m));!c&&m&&m.empty.fire()},_queueHooks:function(b,a){var e=a+"queueHooks";return p._data(b,e)||p._data(b,e,{empty:p.Callbacks("once memory").add(function(){p._removeData(b,a+"queue");p._removeData(b,e)})})}});p.fn.extend({queue:function(b,a){var e=2;return"string"!=typeof b&&(a=b,b="fx",e--),arguments.length<e?p.queue(this[0],b):void 0===a?this:this.each(function(){var e=p.queue(this,b,a);p._queueHooks(this,b);"fx"===b&&"inprogress"!==e[0]&&p.dequeue(this,
b)})},dequeue:function(b){return this.each(function(){p.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,a){var e,c=1,g=p.Deferred(),m=this,q=this.length,d=function(){--c||g.resolveWith(m,[m])};"string"!=typeof b&&(a=b,b=void 0);for(b=b||"fx";q--;)(e=p._data(m[q],b+"queueHooks"))&&e.empty&&(c++,e.empty.add(d));return d(),g.promise(a)}});var Qc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Vb=["Top","Right","Bottom","Left"],nc=function(b,a){return b=a||b,"none"===
p.css(b,"display")||!p.contains(b.ownerDocument,b)},jc=p.access=function(b,a,e,c,g,m,q){var d=0,f=b.length,x=null==e;if("object"===p.type(e))for(d in g=!0,e)p.access(b,a,d,e[d],!0,m,q);else if(void 0!==c&&(g=!0,p.isFunction(c)||(q=!0),x&&(q?(a.call(b,c),a=null):(x=a,a=function(b,a,e){return x.call(p(b),e)})),a))for(;f>d;d++)a(b[d],e,q?c:c.call(b[d],d,a(b[d],e)));return g?b:x?a.call(b):f?a(b[0],e):m},Xc=/^(?:checkbox|radio)$/i;!function(){var b=P.createElement("input"),a=P.createElement("div"),e=P.createDocumentFragment();
if(a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",I.leadingWhitespace=3===a.firstChild.nodeType,I.tbody=!a.getElementsByTagName("tbody").length,I.htmlSerialize=!!a.getElementsByTagName("link").length,I.html5Clone="<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,b.type="checkbox",b.checked=!0,e.appendChild(b),I.appendChecked=b.checked,a.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,e.appendChild(a),a.innerHTML=
"<input type='radio' checked='checked' name='t'/>",I.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,I.noCloneEvent=!0,a.attachEvent&&(a.attachEvent("onclick",function(){I.noCloneEvent=!1}),a.cloneNode(!0).click()),null==I.deleteExpando){I.deleteExpando=!0;try{delete a.test}catch(Ab){I.deleteExpando=!1}}}();(function(){var b,a=P.createElement("div");for(b in{submit:!0,change:!0,focusin:!0}){var e="on"+b;(I[b+"Bubbles"]=e in c)||(a.setAttribute(e,"t"),I[b+"Bubbles"]=!1===a.attributes[e].expando)}})();
var fd=/^(?:input|select|textarea)$/i,yd=/^key/,Md=/^(?:mouse|pointer|contextmenu)|click/,zd=/^(?:focusinfocus|focusoutblur)$/,Ad=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(b,a,e,c,g){var m,q,d,f,x,k,y,h;if(q=p._data(b)){e.handler&&(d=e,e=d.handler,g=d.selector);e.guid||(e.guid=p.guid++);(m=q.events)||(m=q.events={});(x=q.handle)||(x=q.handle=function(b){return"undefined"===typeof p||b&&p.event.triggered===b.type?void 0:p.event.dispatch.apply(x.elem,arguments)},x.elem=b);a=(a||"").match(Bb)||
[""];for(q=a.length;q--;){var l=Ad.exec(a[q])||[];var M=h=l[1];l=(l[2]||"").split(".").sort();M&&(f=p.event.special[M]||{},M=(g?f.delegateType:f.bindType)||M,f=p.event.special[M]||{},k=p.extend({type:M,origType:h,data:c,handler:e,guid:e.guid,selector:g,needsContext:g&&p.expr.match.needsContext.test(g),namespace:l.join(".")},d),(y=m[M])||(y=m[M]=[],y.delegateCount=0,f.setup&&!1!==f.setup.call(b,c,l,x)||(b.addEventListener?b.addEventListener(M,x,!1):b.attachEvent&&b.attachEvent("on"+M,x))),f.add&&(f.add.call(b,
k),k.handler.guid||(k.handler.guid=e.guid)),g?y.splice(y.delegateCount++,0,k):y.push(k),p.event.global[M]=!0)}b=null}},remove:function(b,a,e,c,g){var m,q,d,f,x,k,y,h,l=p.hasData(b)&&p._data(b);if(l&&(x=l.events)){a=(a||"").match(Bb)||[""];for(f=a.length;f--;)if(q=Ad.exec(a[f])||[],k=h=q[1],y=(q[2]||"").split(".").sort(),k){var M=p.event.special[k]||{};k=(c?M.delegateType:M.bindType)||k;var r=x[k]||[];q=q[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(d=m=r.length;m--;){var A=r[m];
!g&&h!==A.origType||e&&e.guid!==A.guid||q&&!q.test(A.namespace)||c&&c!==A.selector&&("**"!==c||!A.selector)||(r.splice(m,1),A.selector&&r.delegateCount--,M.remove&&M.remove.call(b,A))}d&&!r.length&&(M.teardown&&!1!==M.teardown.call(b,y,l.handle)||p.removeEvent(b,k,l.handle),delete x[k])}else for(k in x)p.event.remove(b,k+a[f],e,c,!0);p.isEmptyObject(x)&&(delete l.handle,p._removeData(b,"events"))}},trigger:function(b,a,e,g){var m,q,d,f,k=[e||P],x=wa.call(b,"type")?b.type:b;var y=wa.call(b,"namespace")?
b.namespace.split("."):[];if(d=m=e=e||P,3!==e.nodeType&&8!==e.nodeType&&!zd.test(x+p.event.triggered)&&(0<=x.indexOf(".")&&(y=x.split("."),x=y.shift(),y.sort()),q=0>x.indexOf(":")&&"on"+x,b=b[p.expando]?b:new p.Event(x,"object"==typeof b&&b),b.isTrigger=g?2:3,b.namespace=y.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),a=null==a?[b]:p.makeArray(a,[b]),f=p.event.special[x]||{},g||!f.trigger||!1!==f.trigger.apply(e,
a))){if(!g&&!f.noBubble&&!p.isWindow(e)){var h=f.delegateType||x;for(zd.test(h+x)||(d=d.parentNode);d;d=d.parentNode)k.push(d),m=d;m===(e.ownerDocument||P)&&k.push(m.defaultView||m.parentWindow||c)}for(y=0;(d=k[y++])&&!b.isPropagationStopped();)b.type=1<y?h:f.bindType||x,(m=(p._data(d,"events")||{})[b.type]&&p._data(d,"handle"))&&m.apply(d,a),(m=q&&d[q])&&m.apply&&p.acceptData(d)&&(b.result=m.apply(d,a),!1===b.result&&b.preventDefault());if(b.type=x,!(g||b.isDefaultPrevented()||f._default&&!1!==f._default.apply(k.pop(),
a))&&p.acceptData(e)&&q&&e[x]&&!p.isWindow(e)){(m=e[q])&&(e[q]=null);p.event.triggered=x;try{e[x]()}catch(oc){}p.event.triggered=void 0;m&&(e[q]=m)}return b.result}},dispatch:function(b){b=p.event.fix(b);var a,e,c,g,m=W.call(arguments);var q=(p._data(this,"events")||{})[b.type]||[];var d=p.event.special[b.type]||{};if(m[0]=b,b.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,b)){var f=p.event.handlers.call(this,b,q);for(q=0;(c=f[q++])&&!b.isPropagationStopped();)for(b.currentTarget=
c.elem,g=0;(e=c.handlers[g++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(e.namespace)||(b.handleObj=e,b.data=e.data,a=((p.event.special[e.origType]||{}).handle||e.handler).apply(c.elem,m),void 0===a||!1!==(b.result=a)||(b.preventDefault(),b.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,b),b.result}},handlers:function(b,a){var e,c=[],g=a.delegateCount,m=b.target;if(g&&m.nodeType&&(!b.button||"click"!==b.type))for(;m!=this;m=m.parentNode||this)if(1===
m.nodeType&&(!0!==m.disabled||"click"!==b.type)){var q=[];for(e=0;g>e;e++){var d=a[e];var f=d.selector+" ";void 0===q[f]&&(q[f]=d.needsContext?0<=p(f,this).index(m):p.find(f,this,null,[m]).length);q[f]&&q.push(d)}q.length&&c.push({elem:m,handlers:q})}return g<a.length&&c.push({elem:this,handlers:a.slice(g)}),c},fix:function(b){if(b[p.expando])return b;var a=b.type;var e=b,c=this.fixHooks[a];c||(this.fixHooks[a]=c=Md.test(a)?this.mouseHooks:yd.test(a)?this.keyHooks:{});var g=c.props?this.props.concat(c.props):
this.props;b=new p.Event(e);for(a=g.length;a--;){var m=g[a];b[m]=e[m]}return b.target||(b.target=e.srcElement||P),3===b.target.nodeType&&(b.target=b.target.parentNode),b.metaKey=!!b.metaKey,c.filter?c.filter(b,e):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){return null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode),
b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var e,c,g,m=a.button,q=a.fromElement;return null==b.pageX&&null!=a.clientX&&(c=b.target.ownerDocument||P,g=c.documentElement,e=c.body,b.pageX=a.clientX+(g&&g.scrollLeft||e&&e.scrollLeft||0)-(g&&g.clientLeft||e&&e.clientLeft||0),b.pageY=a.clientY+(g&&g.scrollTop||e&&e.scrollTop||0)-(g&&g.clientTop||e&&e.clientTop||0)),!b.relatedTarget&&q&&(b.relatedTarget=
q===b.target?a.toElement:q),b.which||void 0===m||(b.which=1&m?1:2&m?3:4&m?2:0),b}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==z()&&this.focus)try{return this.focus(),!1}catch(x){}},delegateType:"focusin"},blur:{trigger:function(){return this===z()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return p.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(b){return p.nodeName(b.target,"a")}},
beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,e,c){b=p.extend(new p.Event,e,{type:b,isSimulated:!0,originalEvent:{}});c?p.event.trigger(b,null,a):p.event.dispatch.call(a,b);b.isDefaultPrevented()&&e.preventDefault()}};p.removeEvent=P.removeEventListener?function(b,a,e){b.removeEventListener&&b.removeEventListener(a,e,!1)}:function(b,a,e){a="on"+a;b.detachEvent&&("undefined"===typeof b[a]&&(b[a]=null),b.detachEvent(a,
e))};p.Event=function(b,a){return this instanceof p.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?H:C):this.type=b,a&&p.extend(this,a),this.timeStamp=b&&b.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(b,a)};p.Event.prototype={isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=H;b&&(b.preventDefault?
b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=H;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=H;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,a){p.event.special[b]=
{delegateType:a,bindType:a,handle:function(b){var e,c=b.relatedTarget,g=b.handleObj;return(!c||c!==this&&!p.contains(this,c))&&(b.type=g.origType,e=g.handler.apply(this,arguments),b.type=a),e}}});I.submitBubbles||(p.event.special.submit={setup:function(){return p.nodeName(this,"form")?!1:void p.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=p.nodeName(b,"input")||p.nodeName(b,"button")?b.form:void 0)&&!p._data(b,"submitBubbles")&&(p.event.add(b,"submit._submit",function(b){b._submit_bubble=
!0}),p._data(b,"submitBubbles",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&p.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){return p.nodeName(this,"form")?!1:void p.event.remove(this,"._submit")}});I.changeBubbles||(p.event.special.change={setup:function(){return fd.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(p.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&
(this._just_changed=!0)}),p.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);p.event.simulate("change",this,b,!0)})),!1):void p.event.add(this,"beforeactivate._change",function(b){b=b.target;fd.test(b.nodeName)&&!p._data(b,"changeBubbles")&&(p.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||p.event.simulate("change",this.parentNode,b,!0)}),p._data(b,"changeBubbles",!0))})},handle:function(b){var a=b.target;
return this!==a||b.isSimulated||b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type?b.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,"._change"),!fd.test(this.nodeName)}});I.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(b,a){var e=function(b){p.event.simulate(a,b.target,p.event.fix(b),!0)};p.event.special[a]={setup:function(){var c=this.ownerDocument||this,g=p._data(c,a);g||c.addEventListener(b,e,!0);p._data(c,a,(g||0)+1)},teardown:function(){var c=
this.ownerDocument||this,g=p._data(c,a)-1;g?p._data(c,a,g):(c.removeEventListener(b,e,!0),p._removeData(c,a))}}});p.fn.extend({on:function(b,a,e,c,g){var m,q;if("object"==typeof b){"string"!=typeof a&&(e=e||a,a=void 0);for(m in b)this.on(m,a,e,b[m],g);return this}if(null==e&&null==c?(c=a,e=a=void 0):null==c&&("string"==typeof a?(c=e,e=void 0):(c=e,e=a,a=void 0)),!1===c)c=C;else if(!c)return this;return 1===g&&(q=c,c=function(b){return p().off(b),q.apply(this,arguments)},c.guid=q.guid||(q.guid=p.guid++)),
this.each(function(){p.event.add(this,b,c,e,a)})},one:function(b,a,e,c){return this.on(b,a,e,c,1)},off:function(b,a,e){var c,g;if(b&&b.preventDefault&&b.handleObj)return c=b.handleObj,p(b.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof b){for(g in b)this.off(g,a,b[g]);return this}return(!1===a||"function"==typeof a)&&(e=a,a=void 0),!1===e&&(e=C),this.each(function(){p.event.remove(this,b,e,a)})},trigger:function(b,a){return this.each(function(){p.event.trigger(b,
a,this)})},triggerHandler:function(b,a){var e=this[0];return e?p.event.trigger(b,a,e,!0):void 0}});var md="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Rc=/ jQuery\d+="(?:null|\d+)"/g,Sc=new RegExp("<(?:"+md+")[\\s/>]","i"),Tc=/^\s+/,gd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zb=/<([\w:]+)/,ta=/<tbody/i,na=/<|&#?\w+;/,sc=/<(?:script|style|link)/i,Fc=/checked\s*(?:[^=]|=\s*.checked.)/i,
vb=/^$|\/(?:java|ecma)script/i,Ub=/^true\/(.*)/,db=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:I.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ob=
E(P).appendChild(P.createElement("div"));oa.optgroup=oa.option;oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead;oa.th=oa.td;p.extend({clone:function(a,e,c){var g,d,f,k=p.contains(a.ownerDocument,a);if(I.html5Clone||p.isXMLDoc(a)||!Sc.test("<"+a.nodeName+">")?d=a.cloneNode(!0):(ob.innerHTML=a.outerHTML,ob.removeChild(d=ob.firstChild)),!(I.noCloneEvent&&I.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a))){var h=b(d);var x=b(a);for(f=0;null!=(g=x[f]);++f)if(h[f]){var l=void 0,r,A=g,B=
h[f];if(1===B.nodeType){if(r=B.nodeName.toLowerCase(),!I.noCloneEvent&&B[p.expando]){g=p._data(B);for(l in g.events)p.removeEvent(B,l,g.handle);B.removeAttribute(p.expando)}"script"===r&&B.text!==A.text?(m(B).text=A.text,q(B)):"object"===r?(B.parentNode&&(B.outerHTML=A.outerHTML),I.html5Clone&&A.innerHTML&&!p.trim(B.innerHTML)&&(B.innerHTML=A.innerHTML)):"input"===r&&Xc.test(A.type)?(B.defaultChecked=B.checked=A.checked,B.value!==A.value&&(B.value=A.value)):"option"===r?B.defaultSelected=B.selected=
A.defaultSelected:("input"===r||"textarea"===r)&&(B.defaultValue=A.defaultValue)}}}if(e)if(c)for(x=x||b(a),h=h||b(d),f=0;null!=(g=x[f]);f++)Q(g,h[f]);else Q(a,d);return h=b(d,"script"),0<h.length&&y(h,!k&&b(a,"script")),d},buildFragment:function(a,c,g,m){for(var q,d,f,k,h,x,l,r=a.length,A=E(c),B=[],Q=0;r>Q;Q++)if(d=a[Q],d||0===d)if("object"===p.type(d))p.merge(B,d.nodeType?[d]:d);else if(na.test(d)){k=k||A.appendChild(c.createElement("div"));h=(Zb.exec(d)||["",""])[1].toLowerCase();l=oa[h]||oa._default;
k.innerHTML=l[1]+d.replace(gd,"<$1></$2>")+l[2];for(q=l[0];q--;)k=k.lastChild;if(!I.leadingWhitespace&&Tc.test(d)&&B.push(c.createTextNode(Tc.exec(d)[0])),!I.tbody)for(q=(d="table"!==h||ta.test(d)?"<table>"!==l[1]||ta.test(d)?0:k:k.firstChild)&&d.childNodes.length;q--;)p.nodeName(x=d.childNodes[q],"tbody")&&!x.childNodes.length&&d.removeChild(x);p.merge(B,k.childNodes);for(k.textContent="";k.firstChild;)k.removeChild(k.firstChild);k=A.lastChild}else B.push(c.createTextNode(d));k&&A.removeChild(k);
I.appendChecked||p.grep(b(B,"input"),e);for(Q=0;d=B[Q++];)if((!m||-1===p.inArray(d,m))&&(f=p.contains(d.ownerDocument,d),k=b(A.appendChild(d),"script"),f&&y(k),g))for(q=0;d=k[q++];)vb.test(d.type||"")&&g.push(d);return A},cleanData:function(b,a){for(var e,c,g,m,q=0,d=p.expando,f=p.cache,k=I.deleteExpando,y=p.event.special;null!=(e=b[q]);q++)if((a||p.acceptData(e))&&(g=e[d],m=g&&f[g])){if(m.events)for(c in m.events)y[c]?p.event.remove(e,c):p.removeEvent(e,c,m.handle);f[g]&&(delete f[g],k?delete e[d]:
"undefined"!==typeof e.removeAttribute?e.removeAttribute(d):e[d]=null,qa.push(g))}}});p.fn.extend({text:function(b){return jc(this,function(b){return void 0===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(b))},null,b,arguments.length)},append:function(){return this.domManip(arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||g(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType){var a=g(this,b);a.insertBefore(b,a.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(a,e){for(var c=a?p.filter(a,this):this,g=0;null!=(a=c[g]);g++)e||1!==a.nodeType||p.cleanData(b(a)),a.parentNode&&(e&&p.contains(a.ownerDocument,a)&&
y(b(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,e=0;null!=(a=this[e]);e++){for(1===a.nodeType&&p.cleanData(b(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&p.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(b,a){return b=null==b?!1:b,a=null==a?b:a,this.map(function(){return p.clone(this,b,a)})},html:function(a){return jc(this,function(a){var e=this[0]||{},c=0,g=this.length;if(void 0===a)return 1===e.nodeType?e.innerHTML.replace(Rc,
""):void 0;if(!("string"!=typeof a||sc.test(a)||!I.htmlSerialize&&Sc.test(a)||!I.leadingWhitespace&&Tc.test(a)||oa[(Zb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(gd,"<$1></$2>");try{for(;g>c;c++)e=this[c]||{},1===e.nodeType&&(p.cleanData(b(e,!1)),e.innerHTML=a);e=0}catch(ec){}}e&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(e){a=this.parentNode;p.cleanData(b(this));a&&a.replaceChild(e,this)}),a&&(a.length||
a.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},domManip:function(a,e){a=Ba.apply([],a);var c,g,d,f=0,k=this.length,y=this,h=k-1,x=a[0],l=p.isFunction(x);if(l||1<k&&"string"==typeof x&&!I.checkClone&&Fc.test(x))return this.each(function(b){var c=y.eq(b);l&&(a[0]=x.call(this,b,c.html()));c.domManip(a,e)});if(k&&(d=p.buildFragment(a,this[0].ownerDocument,!1,this),c=d.firstChild,1===d.childNodes.length&&(d=c),c)){var A=p.map(b(d,"script"),m);for(g=A.length;k>f;f++)c=d,f!==
h&&(c=p.clone(c,!0,!0),g&&p.merge(A,b(c,"script"))),e.call(this[f],c,f);if(g)for(d=A[A.length-1].ownerDocument,p.map(A,q),f=0;g>f;f++)c=A[f],vb.test(c.type||"")&&!p._data(c,"globalEval")&&p.contains(d,c)&&(c.src?p._evalUrl&&p._evalUrl(c.src):p.globalEval((c.text||c.textContent||c.innerHTML||"").replace(db,"")));d=c=null}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){p.fn[b]=function(b){for(var e=0,c=[],
g=p(b),m=g.length-1;m>=e;e++)b=e===m?this:this.clone(!0),p(g[e])[a](b),la.apply(c,b.get());return this.pushStack(c)}});var Za,Cb={};!function(){var b;I.shrinkWrapBlocks=function(){if(null!=b)return b;b=!1;var a,e,c;return e=P.getElementsByTagName("body")[0],e&&e.style?(a=P.createElement("div"),c=P.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(c).appendChild(a),"undefined"!==typeof a.style.zoom&&(a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
a.appendChild(P.createElement("div")).style.width="5px",b=3!==a.offsetWidth),e.removeChild(c),b):void 0}}();var kc=/^margin/,Wb=new RegExp("^("+Qc+")(?!px)[a-z%]+$","i"),Xa,ib,Qb=/^(top|right|bottom|left)$/;c.getComputedStyle?(Xa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):c.getComputedStyle(b,null)},ib=function(b,a,e){var c,g,m,q,d=b.style;return e=e||Xa(b),q=e?e.getPropertyValue(a)||e[a]:void 0,e&&(""!==q||p.contains(b.ownerDocument,
b)||(q=p.style(b,a)),Wb.test(q)&&kc.test(a)&&(c=d.width,g=d.minWidth,m=d.maxWidth,d.minWidth=d.maxWidth=d.width=q,q=e.width,d.width=c,d.minWidth=g,d.maxWidth=m)),void 0===q?q:q+""}):P.documentElement.currentStyle&&(Xa=function(b){return b.currentStyle},ib=function(b,a,e){var c,g,m,q,d=b.style;return e=e||Xa(b),q=e?e[a]:void 0,null==q&&d&&d[a]&&(q=d[a]),Wb.test(q)&&!Qb.test(a)&&(c=d.left,g=b.runtimeStyle,m=g&&g.left,m&&(g.left=b.currentStyle.left),d.left="fontSize"===a?"1em":q,q=d.pixelLeft+"px",d.left=
c,m&&(g.left=m)),void 0===q?q:q+""||"auto"});!function(){var b,a,e,g,m,q,d;if(b=P.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=b.getElementsByTagName("a")[0],a=e&&e.style){var f=function(){var b,a,e,f;(a=P.getElementsByTagName("body")[0])&&a.style&&(b=P.createElement("div"),e=P.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",a.appendChild(e).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
g=m=!1,d=!0,c.getComputedStyle&&(g="1%"!==(c.getComputedStyle(b,null)||{}).top,m="4px"===(c.getComputedStyle(b,null)||{width:"4px"}).width,f=b.appendChild(P.createElement("div")),f.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",f.style.marginRight=f.style.width="0",b.style.width="1px",d=!parseFloat((c.getComputedStyle(f,null)||{}).marginRight),b.removeChild(f)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
f=b.getElementsByTagName("td"),f[0].style.cssText="margin:0;border:0;padding:0;display:none",q=0===f[0].offsetHeight,q&&(f[0].style.display="",f[1].style.display="none",q=0===f[0].offsetHeight),a.removeChild(e))};a.cssText="float:left;opacity:.5";I.opacity="0.5"===a.opacity;I.cssFloat=!!a.cssFloat;b.style.backgroundClip="content-box";b.cloneNode(!0).style.backgroundClip="";I.clearCloneStyle="content-box"===b.style.backgroundClip;I.boxSizing=""===a.boxSizing||""===a.MozBoxSizing||""===a.WebkitBoxSizing;
p.extend(I,{reliableHiddenOffsets:function(){return null==q&&f(),q},boxSizingReliable:function(){return null==m&&f(),m},pixelPosition:function(){return null==g&&f(),g},reliableMarginRight:function(){return null==d&&f(),d}})}}();p.swap=function(b,a,e,c){var g,m={};for(g in a)m[g]=b.style[g],b.style[g]=a[g];e=e.apply(b,c||[]);for(g in a)b.style[g]=m[g];return e};var pb=/alpha\([^)]*\)/i,u=/opacity\s*=\s*([^)]*)/,Na=/^(none|table(?!-c[ea]).+)/,Vd=new RegExp("^("+Qc+")(.*)$","i"),ea=new RegExp("^([+-])=("+
Qc+")","i"),be={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},Ud=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(b,a){if(a)return b=ib(b,"opacity"),""===b?"1":b}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":I.cssFloat?"cssFloat":"styleFloat"},style:function(b,a,e,c){if(b&&3!==b.nodeType&&8!==b.nodeType&&
b.style){var g,m,q,d=p.camelCase(a),f=b.style;if(a=p.cssProps[d]||(p.cssProps[d]=J(f,d)),q=p.cssHooks[a]||p.cssHooks[d],void 0===e)return q&&"get"in q&&void 0!==(g=q.get(b,!1,c))?g:f[a];if(m=typeof e,"string"===m&&(g=ea.exec(e))&&(e=(g[1]+1)*g[2]+parseFloat(p.css(b,a)),m="number"),null!=e&&e===e&&("number"!==m||p.cssNumber[d]||(e+="px"),I.clearCloneStyle||""!==e||0!==a.indexOf("background")||(f[a]="inherit"),!(q&&"set"in q&&void 0===(e=q.set(b,e,c)))))try{f[a]=e}catch(fb){}}},css:function(b,a,e,c){var g,
m,q,d=p.camelCase(a);return a=p.cssProps[d]||(p.cssProps[d]=J(b.style,d)),q=p.cssHooks[a]||p.cssHooks[d],q&&"get"in q&&(m=q.get(b,!0,e)),void 0===m&&(m=ib(b,a,c)),"normal"===m&&a in ce&&(m=ce[a]),""===e||e?(g=parseFloat(m),!0===e||p.isNumeric(g)?g||0:m):m}});p.each(["height","width"],function(b,a){p.cssHooks[a]={get:function(b,e,c){return e?Na.test(p.css(b,"display"))&&0===b.offsetWidth?p.swap(b,be,function(){return D(b,a,c)}):D(b,a,c):void 0},set:function(b,e,c){var g=c&&Xa(b);return da(b,e,c?V(b,
a,c,I.boxSizing&&"border-box"===p.css(b,"boxSizing",!1,g),g):0)}}});I.opacity||(p.cssHooks.opacity={get:function(b,a){return u.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},set:function(b,a){var e=b.style;b=b.currentStyle;var c=p.isNumeric(a)?"alpha(opacity="+100*a+")":"",g=b&&b.filter||e.filter||"";e.zoom=1;(1<=a||""===a)&&""===p.trim(g.replace(pb,""))&&e.removeAttribute&&(e.removeAttribute("filter"),""===a||b&&!b.filter)||(e.filter=pb.test(g)?
g.replace(pb,c):g+" "+c)}});p.cssHooks.marginRight=T(I.reliableMarginRight,function(b,a){return a?p.swap(b,{display:"inline-block"},ib,[b,"marginRight"]):void 0});p.each({margin:"",padding:"",border:"Width"},function(b,a){p.cssHooks[b+a]={expand:function(e){var c=0,g={};for(e="string"==typeof e?e.split(" "):[e];4>c;c++)g[b+Vb[c]+a]=e[c]||e[c-2]||e[0];return g}};kc.test(b)||(p.cssHooks[b+a].set=da)});p.fn.extend({css:function(b,a){return jc(this,function(b,a,e){var c,g={},m=0;if(p.isArray(a)){e=Xa(b);
for(c=a.length;c>m;m++)g[a[m]]=p.css(b,a[m],!1,e);return g}return void 0!==e?p.style(b,a,e):p.css(b,a)},b,a,1<arguments.length)},show:function(){return fa(this,!0)},hide:function(){return fa(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){nc(this)?p(this).show():p(this).hide()})}});p.Tween=S;S.prototype={constructor:S,init:function(b,a,e,c,g,m){this.elem=b;this.prop=e;this.easing=g||"swing";this.options=a;this.start=this.now=this.cur();this.end=c;
this.unit=m||(p.cssNumber[e]?"":"px")},cur:function(){var b=S.propHooks[this.prop];return b&&b.get?b.get(this):S.propHooks._default.get(this)},run:function(b){var a,e=S.propHooks[this.prop];return this.pos=a=this.options.duration?p.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):b,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):S.propHooks._default.set(this),this}};S.prototype.init.prototype=
S.prototype;S.propHooks={_default:{get:function(b){var a;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(a=p.css(b.elem,b.prop,""),a&&"auto"!==a?a:0):b.elem[b.prop]},set:function(b){p.fx.step[b.prop]?p.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[p.cssProps[b.prop]]||p.cssHooks[b.prop])?p.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};
p.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};p.fx=S.prototype.init;p.fx.step={};var Ja,eb,de=/^(?:toggle|show|hide)$/,Nd=new RegExp("^(?:([+-])=|)("+Qc+")([a-z%]*)$","i"),Rb=/queueHooks$/,Lb=[function(b,a,e){var c,g,m,q,d,f,k,y=this,h={},l=b.style,A=b.nodeType&&nc(b),r=p._data(b,"fxshow");e.queue||(q=p._queueHooks(b,"fx"),null==q.unqueued&&(q.unqueued=0,d=q.empty.fire,q.empty.fire=function(){q.unqueued||d()}),q.unqueued++,y.always(function(){y.always(function(){q.unqueued--;
p.queue(b,"fx").length||q.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(e.overflow=[l.overflow,l.overflowX,l.overflowY],f=p.css(b,"display"),k="none"===f?p._data(b,"olddisplay")||O(b.nodeName):f,"inline"===k&&"none"===p.css(b,"float")&&(I.inlineBlockNeedsLayout&&"inline"!==O(b.nodeName)?l.zoom=1:l.display="inline-block"));e.overflow&&(l.overflow="hidden",I.shrinkWrapBlocks()||y.always(function(){l.overflow=e.overflow[0];l.overflowX=e.overflow[1];l.overflowY=e.overflow[2]}));for(c in a)if(g=
a[c],de.exec(g)){if(delete a[c],m=m||"toggle"===g,g===(A?"hide":"show")){if("show"!==g||!r||void 0===r[c])continue;A=!0}h[c]=r&&r[c]||p.style(b,c)}else f=void 0;if(p.isEmptyObject(h))"inline"===("none"===f?O(b.nodeName):f)&&(l.display=f);else for(c in r?"hidden"in r&&(A=r.hidden):r=p._data(b,"fxshow",{}),m&&(r.hidden=!A),A?p(b).show():y.done(function(){p(b).hide()}),y.done(function(){var a;p._removeData(b,"fxshow");for(a in h)p.style(b,a,h[a])}),h)a=Y(A?r[c]:0,c,y),c in r||(r[c]=a.start,A&&(a.end=
a.start,a.start="width"===c||"height"===c?1:0))}],fc={"*":[function(b,a){var e=this.createTween(b,a),c=e.cur(),g=(a=Nd.exec(a))&&a[3]||(p.cssNumber[b]?"":"px"),m=(p.cssNumber[b]||"px"!==g&&+c)&&Nd.exec(p.css(e.elem,b)),q=1,d=20;if(m&&m[3]!==g){g=g||m[3];a=a||[];m=+c||1;do q=q||".5",m/=q,p.style(e.elem,b,m+g);while(q!==(q=e.cur()/c)&&1!==q&&--d)}return a&&(m=e.start=+m||+c||0,e.unit=g,e.end=a[1]?m+(a[1]+1)*a[2]:+a[2]),e}]};p.Animation=p.extend(N,{tweener:function(b,a){p.isFunction(b)?(a=b,b=["*"]):
b=b.split(" ");for(var e,c=0,g=b.length;g>c;c++)e=b[c],fc[e]=fc[e]||[],fc[e].unshift(a)},prefilter:function(b,a){a?Lb.unshift(b):Lb.push(b)}});p.speed=function(b,a,e){var c=b&&"object"==typeof b?p.extend({},b):{complete:e||!e&&a||p.isFunction(b)&&b,duration:b,easing:e&&a||a&&!p.isFunction(a)&&a};return c.duration=p.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in p.fx.speeds?p.fx.speeds[c.duration]:p.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=
function(){p.isFunction(c.old)&&c.old.call(this);c.queue&&p.dequeue(this,c.queue)},c};p.fn.extend({fadeTo:function(b,a,e,c){return this.filter(nc).css("opacity",0).show().end().animate({opacity:a},b,e,c)},animate:function(b,a,e,c){var g=p.isEmptyObject(b),m=p.speed(a,e,c);a=function(){var a=N(this,p.extend({},b),m);(g||p._data(this,"finish"))&&a.stop(!0)};return a.finish=a,g||!1===m.queue?this.each(a):this.queue(m.queue,a)},stop:function(b,a,e){var c=function(b){var a=b.stop;delete b.stop;a(e)};return"string"!=
typeof b&&(e=a,a=b,b=void 0),a&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var a=!0,g=null!=b&&b+"queueHooks",m=p.timers,q=p._data(this);if(g)q[g]&&q[g].stop&&c(q[g]);else for(g in q)q[g]&&q[g].stop&&Rb.test(g)&&c(q[g]);for(g=m.length;g--;)m[g].elem!==this||null!=b&&m[g].queue!==b||(m[g].anim.stop(e),a=!1,m.splice(g,1));!a&&e||p.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var a=p._data(this),e=a[b+"queue"];var c=a[b+"queueHooks"];var g=p.timers,m=
e?e.length:0;a.finish=!0;p.queue(this,b,[]);c&&c.stop&&c.stop.call(this,!0);for(c=g.length;c--;)g[c].elem===this&&g[c].queue===b&&(g[c].anim.stop(!0),g.splice(c,1));for(c=0;m>c;c++)e[c]&&e[c].finish&&e[c].finish.call(this);delete a.finish})}});p.each(["toggle","show","hide"],function(b,a){var e=p.fn[a];p.fn[a]=function(b,c,g){return null==b||"boolean"==typeof b?e.apply(this,arguments):this.animate(ba(a,!0),b,c,g)}});p.each({slideDown:ba("show"),slideUp:ba("hide"),slideToggle:ba("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){p.fn[b]=function(b,e,c){return this.animate(a,b,e,c)}});p.timers=[];p.fx.tick=function(){var b=p.timers,a=0;for(Ja=p.now();a<b.length;a++){var e=b[a];e()||b[a]!==e||b.splice(a--,1)}b.length||p.fx.stop();Ja=void 0};p.fx.timer=function(b){p.timers.push(b);b()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){eb||(eb=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(eb);eb=null};p.fx.speeds=
{slow:600,fast:200,_default:400};p.fn.delay=function(b,a){return b=p.fx?p.fx.speeds[b]||b:b,a=a||"fx",this.queue(a,function(a,e){var c=setTimeout(a,b);e.stop=function(){clearTimeout(c)}})};(function(){var b=P.createElement("div");b.setAttribute("className","t");b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var a=b.getElementsByTagName("a")[0];var e=P.createElement("select");var c=e.appendChild(P.createElement("option"));var g=b.getElementsByTagName("input")[0];a.style.cssText=
"top:1px";I.getSetAttribute="t"!==b.className;I.style=/top/.test(a.getAttribute("style"));I.hrefNormalized="/a"===a.getAttribute("href");I.checkOn=!!g.value;I.optSelected=c.selected;I.enctype=!!P.createElement("form").enctype;e.disabled=!0;I.optDisabled=!c.disabled;g=P.createElement("input");g.setAttribute("value","");I.input=""===g.getAttribute("value");g.value="t";g.setAttribute("type","radio");I.radioValue="t"===g.value})();var ee=/\r/g;p.fn.extend({val:function(b){var a,e,c,g=this[0];if(arguments.length)return c=
p.isFunction(b),this.each(function(e){var g;1===this.nodeType&&(g=c?b.call(this,e,p(this).val()):b,null==g?g="":"number"==typeof g?g+="":p.isArray(g)&&(g=p.map(g,function(b){return null==b?"":b+""})),a=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,g,"value")||(this.value=g))});if(g)return a=p.valHooks[g.type]||p.valHooks[g.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(e=a.get(g,"value"))?e:(e=g.value,"string"==typeof e?e.replace(ee,""):null==e?
"":e)}});p.extend({valHooks:{option:{get:function(b){var a=p.find.attr(b,"value");return null!=a?a:p.trim(p.text(b))}},select:{get:function(b){for(var a,e=b.options,c=b.selectedIndex,g="select-one"===b.type||0>c,m=g?null:[],q=g?c+1:e.length,d=0>c?q:g?c:0;q>d;d++)if(a=e[d],!(!a.selected&&d!==c||(I.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&p.nodeName(a.parentNode,"optgroup"))){if(b=p(a).val(),g)return b;m.push(b)}return m},set:function(b,a){var e,c,g=b.options;
a=p.makeArray(a);for(var m=g.length;m--;)if(c=g[m],0<=p.inArray(p.valHooks.option.get(c),a))try{c.selected=e=!0}catch(Wc){c.scrollHeight}else c.selected=!1;return e||(b.selectedIndex=-1),g}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(b,a){return p.isArray(a)?b.checked=0<=p.inArray(p(b).val(),a):void 0}};I.checkOn||(p.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var qb,Ga=p.expr.attrHandle,Ya=/^(?:checked|selected)$/i,Sb=I.getSetAttribute,
tc=I.input;p.fn.extend({attr:function(b,a){return jc(this,p.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){p.removeAttr(this,b)})}});p.extend({attr:function(b,a,e){var c,g,m=b.nodeType;if(b&&3!==m&&8!==m&&2!==m)return"undefined"===typeof b.getAttribute?p.prop(b,a,e):(1===m&&p.isXMLDoc(b)||(a=a.toLowerCase(),c=p.attrHooks[a]||(p.expr.match.bool.test(a)?we:qb)),void 0===e?c&&"get"in c&&null!==(g=c.get(b,a))?g:(g=p.find.attr(b,a),null==g?void 0:g):null!==e?c&&"set"in
c&&void 0!==(g=c.set(b,e,a))?g:(b.setAttribute(a,e+""),e):void p.removeAttr(b,a))},removeAttr:function(b,a){var e=0,c=a&&a.match(Bb);if(c&&1===b.nodeType)for(;a=c[e++];){var g=p.propFix[a]||a;p.expr.match.bool.test(a)?tc&&Sb||!Ya.test(a)?b[g]=!1:b[p.camelCase("default-"+a)]=b[g]=!1:p.attr(b,a,"");b.removeAttribute(Sb?a:g)}},attrHooks:{type:{set:function(b,a){if(!I.radioValue&&"radio"===a&&p.nodeName(b,"input")){var e=b.value;return b.setAttribute("type",a),e&&(b.value=e),a}}}}});var we={set:function(b,
a,e){return!1===a?p.removeAttr(b,e):tc&&Sb||!Ya.test(e)?b.setAttribute(!Sb&&p.propFix[e]||e,e):b[p.camelCase("default-"+e)]=b[e]=!0,e}};p.each(p.expr.match.bool.source.match(/\w+/g),function(b,a){var e=Ga[a]||p.find.attr;Ga[a]=tc&&Sb||!Ya.test(a)?function(b,a,c){var g,m;return c||(m=Ga[a],Ga[a]=g,g=null!=e(b,a,c)?a.toLowerCase():null,Ga[a]=m),g}:function(b,a,e){return e?void 0:b[p.camelCase("default-"+a)]?a.toLowerCase():null}});tc&&Sb||(p.attrHooks.value={set:function(b,a,e){return p.nodeName(b,
"input")?void(b.defaultValue=a):qb&&qb.set(b,a,e)}});Sb||(qb={set:function(b,a,e){var c=b.getAttributeNode(e);return c||b.setAttributeNode(c=b.ownerDocument.createAttribute(e)),c.value=a+="","value"===e||a===b.getAttribute(e)?a:void 0}},Ga.id=Ga.name=Ga.coords=function(b,a,e){var c;return e?void 0:(c=b.getAttributeNode(a))&&""!==c.value?c.value:null},p.valHooks.button={get:function(b,a){return(b=b.getAttributeNode(a))&&b.specified?b.value:void 0},set:qb.set},p.attrHooks.contenteditable={set:function(b,
a,e){qb.set(b,""===a?!1:a,e)}},p.each(["width","height"],function(b,a){p.attrHooks[a]={set:function(b,e){return""===e?(b.setAttribute(a,"auto"),e):void 0}}}));I.style||(p.attrHooks.style={get:function(b){return b.style.cssText||void 0},set:function(b,a){return b.style.cssText=a+""}});var lc=/^(?:input|select|textarea|button|object)$/i,xe=/^(?:a|area)$/i;p.fn.extend({prop:function(b,a){return jc(this,p.prop,b,a,1<arguments.length)},removeProp:function(b){return b=p.propFix[b]||b,this.each(function(){try{this[b]=
void 0,delete this[b]}catch(M){}})}});p.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(b,a,e){var c,g,m,q=b.nodeType;if(b&&3!==q&&8!==q&&2!==q)return m=1!==q||!p.isXMLDoc(b),m&&(a=p.propFix[a]||a,g=p.propHooks[a]),void 0!==e?g&&"set"in g&&void 0!==(c=g.set(b,e,a))?c:b[a]=e:g&&"get"in g&&null!==(c=g.get(b,a))?c:b[a]},propHooks:{tabIndex:{get:function(b){var a=p.find.attr(b,"tabindex");return a?parseInt(a,10):lc.test(b.nodeName)||xe.test(b.nodeName)&&b.href?0:-1}}}});I.hrefNormalized||
p.each(["href","src"],function(b,a){p.propHooks[a]={get:function(b){return b.getAttribute(a,4)}}});I.optSelected||(p.propHooks.selected={get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});I.enctype||(p.propFix.enctype="encoding");var $b=/[\t\r\n\f]/g;p.fn.extend({addClass:function(b){var a,
e,c,g,m=0,q=this.length;var d="string"==typeof b&&b;if(p.isFunction(b))return this.each(function(a){p(this).addClass(b.call(this,a,this.className))});if(d)for(d=(b||"").match(Bb)||[];q>m;m++)if(a=this[m],e=1===a.nodeType&&(a.className?(" "+a.className+" ").replace($b," "):" ")){for(g=0;c=d[g++];)0>e.indexOf(" "+c+" ")&&(e+=c+" ");e=p.trim(e);a.className!==e&&(a.className=e)}return this},removeClass:function(b){var a,e,c,g,m=0,q=this.length;var d=0===arguments.length||"string"==typeof b&&b;if(p.isFunction(b))return this.each(function(a){p(this).removeClass(b.call(this,
a,this.className))});if(d)for(d=(b||"").match(Bb)||[];q>m;m++)if(a=this[m],e=1===a.nodeType&&(a.className?(" "+a.className+" ").replace($b," "):"")){for(g=0;c=d[g++];)for(;0<=e.indexOf(" "+c+" ");)e=e.replace(" "+c+" "," ");e=b?p.trim(e):"";a.className!==e&&(a.className=e)}return this},toggleClass:function(b,a){var e=typeof b;return"boolean"==typeof a&&"string"===e?a?this.addClass(b):this.removeClass(b):this.each(p.isFunction(b)?function(e){p(this).toggleClass(b.call(this,e,this.className,a),a)}:
function(){if("string"===e)for(var a,c=0,g=p(this),m=b.match(Bb)||[];a=m[c++];)g.hasClass(a)?g.removeClass(a):g.addClass(a);else("undefined"===e||"boolean"===e)&&(this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===b?"":p._data(this,"__className__")||"")})},hasClass:function(b){b=" "+b+" ";for(var a=0,e=this.length;e>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace($b," ").indexOf(b))return!0;return!1}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,a){p.fn[a]=function(b,e){return 0<arguments.length?this.on(a,null,b,e):this.trigger(a)}});p.fn.extend({hover:function(b,a){return this.mouseenter(b).mouseleave(a||b)},bind:function(b,a,e){return this.on(b,null,a,e)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,e,c){return this.on(a,b,e,c)},undelegate:function(b,a,e){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",e)}});var Od=p.now(),Gc=/\?/,wb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
p.parseJSON=function(b){if(c.JSON&&c.JSON.parse)return c.JSON.parse(b+"");var a,e=null,g=p.trim(b+"");return g&&!p.trim(g.replace(wb,function(b,c,g,m){return a&&c&&(e=0),0===e?b:(a=g||c,e+=!m-!g,"")}))?Function("return "+g)():p.error("Invalid JSON: "+b)};p.parseXML=function(b){var a,e;if(!b||"string"!=typeof b)return null;try{c.DOMParser?(e=new DOMParser,a=e.parseFromString(b,"text/xml")):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b))}catch(Ab){a=void 0}return a&&a.documentElement&&
!a.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+b),a};var xb=/#.*$/,Oa=/([?&])_=[^&]*/,ac=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rb=/^(?:GET|HEAD)$/,bc=/^\/\//,Ha=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,hb={},ab={},ua="*/".concat("*");try{var Aa=location.href}catch(x){Aa=P.createElement("a"),Aa.href="",Aa=Aa.href}var G=Ha.exec(Aa.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Aa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(G[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ua,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?L(L(b,
p.ajaxSettings),a):L(p.ajaxSettings,b)},ajaxPrefilter:B(hb),ajaxTransport:B(ab),ajax:function(b,a){function e(b,a,e,c){var g,k,Q,n=a;if(2!==t){t=2;q&&clearTimeout(q);f=void 0;m=c||"";w.readyState=0<b?4:0;c=200<=b&&300>b||304===b;if(e){var O=y;for(var K=w,x,D,u,L,T=O.contents,V=O.dataTypes;"*"===V[0];)V.shift(),void 0===D&&(D=O.mimeType||K.getResponseHeader("Content-Type"));if(D)for(L in T)if(T[L]&&T[L].test(D)){V.unshift(L);break}if(V[0]in e)u=V[0];else{for(L in e){if(!V[0]||O.converters[L+" "+V[0]]){u=
L;break}x||(x=L)}u=u||x}O=u?(u!==V[0]&&V.unshift(u),e[u]):void 0}a:{e=y;x=O;D=w;u=c;var J,da,Ka;O={};K=e.dataTypes.slice();if(K[1])for(J in e.converters)O[J.toLowerCase()]=e.converters[J];for(L=K.shift();L;)if(e.responseFields[L]&&(D[e.responseFields[L]]=x),!Ka&&u&&e.dataFilter&&(x=e.dataFilter(x,e.dataType)),Ka=L,L=K.shift())if("*"===L)L=Ka;else if("*"!==Ka&&Ka!==L){if(J=O[Ka+" "+L]||O["* "+L],!J)for(S in O)if(da=S.split(" "),da[1]===L&&(J=O[Ka+" "+da[0]]||O["* "+da[0]])){!0===J?J=O[S]:!0!==O[S]&&
(L=da[0],K.unshift(da[1]));break}if(!0!==J)if(J&&e["throws"])x=J(x);else try{x=J(x)}catch(ya){var S={state:"parsererror",error:J?ya:"No conversion from "+Ka+" to "+L};break a}}S={state:"success",data:x}}O=S;c?(y.ifModified&&(Q=w.getResponseHeader("Last-Modified"),Q&&(p.lastModified[v]=Q),Q=w.getResponseHeader("etag"),Q&&(p.etag[v]=Q)),204===b||"HEAD"===y.type?n="nocontent":304===b?n="notmodified":(n=O.state,g=O.data,k=O.error,c=!k)):(k=n,(b||!n)&&(n="error",0>b&&(b=0)));w.status=b;w.statusText=(a||
n)+"";c?A.resolveWith(h,[g,n,w]):A.rejectWith(h,[w,n,k]);w.statusCode(B);B=void 0;d&&l.trigger(c?"ajaxSuccess":"ajaxError",[w,y,c?g:k]);r.fireWith(h,[w,n]);d&&(l.trigger("ajaxComplete",[w,y]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof b&&(a=b,b=void 0);a=a||{};var c,g,m,q,d,f,k,y=p.ajaxSetup({},a),h=y.context||y,l=y.context&&(h.nodeType||h.jquery)?p(h):p.event,A=p.Deferred(),r=p.Callbacks("once memory"),B=y.statusCode||{},Q={},n={},t=0,O="canceled",w={readyState:0,getResponseHeader:function(b){var a;
if(2===t){if(!k)for(k={};a=ac.exec(m);)k[a[1].toLowerCase()]=a[2];a=k[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===t?m:null},setRequestHeader:function(b,a){var e=b.toLowerCase();return t||(b=n[e]=n[e]||b,Q[b]=a),this},overrideMimeType:function(b){return t||(y.mimeType=b),this},statusCode:function(b){var a;if(b)if(2>t)for(a in b)B[a]=[B[a],b[a]];else w.always(b[w.status]);return this},abort:function(b){b=b||O;return f&&f.abort(b),e(0,b),this}};if(A.promise(w).complete=
r.add,w.success=w.done,w.error=w.fail,y.url=((b||y.url||Aa)+"").replace(xb,"").replace(bc,G[1]+"//"),y.type=a.method||a.type||y.method||y.type,y.dataTypes=p.trim(y.dataType||"*").toLowerCase().match(Bb)||[""],null==y.crossDomain&&(c=Ha.exec(y.url.toLowerCase()),y.crossDomain=!(!c||c[1]===G[1]&&c[2]===G[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(G[3]||("http:"===G[1]?"80":"443")))),y.data&&y.processData&&"string"!=typeof y.data&&(y.data=p.param(y.data,y.traditional)),K(hb,y,a,w),2===t)return w;(d=
p.event&&y.global)&&0===p.active++&&p.event.trigger("ajaxStart");y.type=y.type.toUpperCase();y.hasContent=!rb.test(y.type);var v=y.url;y.hasContent||(y.data&&(v=y.url+=(Gc.test(v)?"&":"?")+y.data,delete y.data),!1===y.cache&&(y.url=Oa.test(v)?v.replace(Oa,"$1_="+Od++):v+(Gc.test(v)?"&":"?")+"_="+Od++));y.ifModified&&(p.lastModified[v]&&w.setRequestHeader("If-Modified-Since",p.lastModified[v]),p.etag[v]&&w.setRequestHeader("If-None-Match",p.etag[v]));(y.data&&y.hasContent&&!1!==y.contentType||a.contentType)&&
w.setRequestHeader("Content-Type",y.contentType);w.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+ua+"; q=0.01":""):y.accepts["*"]);for(g in y.headers)w.setRequestHeader(g,y.headers[g]);if(y.beforeSend&&(!1===y.beforeSend.call(h,w,y)||2===t))return w.abort();O="abort";for(g in{success:1,error:1,complete:1})w[g](y[g]);if(f=K(ab,y,a,w)){w.readyState=1;d&&l.trigger("ajaxSend",[w,y]);y.async&&0<y.timeout&&(q=setTimeout(function(){w.abort("timeout")},
y.timeout));try{t=1,f.send(Q,e)}catch(Z){if(!(2>t))throw Z;e(-1,Z)}}else e(-1,"No Transport");return w},getJSON:function(b,a,e){return p.get(b,a,e,"json")},getScript:function(b,a){return p.get(b,void 0,a,"script")}});p.each(["get","post"],function(b,a){p[a]=function(b,e,c,g){return p.isFunction(e)&&(g=g||c,c=e,e=void 0),p.ajax({url:b,type:a,dataType:g,data:e,success:c})}});p._evalUrl=function(b){return p.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(b){if(p.isFunction(b))return this.each(function(a){p(this).wrapAll(b.call(this,
a))});if(this[0]){var a=p(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return this.each(p.isFunction(b)?function(a){p(this).wrapInner(b.call(this,a))}:function(){var a=p(this),e=a.contents();e.length?e.wrapAll(b):a.append(b)})},wrap:function(b){var a=p.isFunction(b);return this.each(function(e){p(this).wrapAll(a?
b.call(this,e):b)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||!I.reliableHiddenOffsets()&&"none"===(b.style&&b.style.display||p.css(b,"display"))};p.expr.filters.visible=function(b){return!p.expr.filters.hidden(b)};var Hc=/%20/g,Gd=/\[\]$/,Hb=/\r?\n/g,Ra=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;p.param=
function(b,a){var e,c=[],g=function(b,a){a=p.isFunction(a)?a():null==a?"":a;c[c.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};if(void 0===a&&(a=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(b)||b.jquery&&!p.isPlainObject(b))p.each(b,function(){g(this.name,this.value)});else for(e in b)va(e,b[e],a,g);return c.join("&").replace(Hc,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=p.prop(this,"elements");
return b?p.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!p(this).is(":disabled")&&cc.test(this.nodeName)&&!Ra.test(b)&&(this.checked||!Xc.test(b))}).map(function(b,a){b=p(this).val();return null==b?null:p.isArray(b)?p.map(b,function(b){return{name:a.name,value:b.replace(Hb,"\r\n")}}):{name:a.name,value:b.replace(Hb,"\r\n")}}).get()}});p.ajaxSettings.xhr=void 0!==c.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Fa()))a:{try{b=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(M){}b=void 0}return b}:Fa;var sb=0,uc={},Ia=p.ajaxSettings.xhr();c.attachEvent&&c.attachEvent("onunload",function(){for(var b in uc)uc[b](void 0,!0)});I.cors=!!Ia&&"withCredentials"in Ia;(Ia=I.ajax=!!Ia)&&p.ajaxTransport(function(b){if(!b.crossDomain||I.cors){var a;return{send:function(e,c){var g,m=b.xhr(),q=++sb;if(m.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)m[g]=b.xhrFields[g];b.mimeType&&
m.overrideMimeType&&m.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)void 0!==e[g]&&m.setRequestHeader(g,e[g]+"");m.send(b.hasContent&&b.data||null);a=function(e,g){if(a&&(g||4===m.readyState))if(delete uc[q],a=void 0,m.onreadystatechange=p.noop,g)4!==m.readyState&&m.abort();else{var d={};var f=m.status;"string"==typeof m.responseText&&(d.text=m.responseText);try{var k=m.statusText}catch(oc){k=""}f||!b.isLocal||b.crossDomain?
1223===f&&(f=204):f=d.text?200:404}d&&c(f,k,d,m.getAllResponseHeaders())};b.async?4===m.readyState?setTimeout(a):m.onreadystatechange=uc[q]=a:a()},abort:function(){a&&a(void 0,!0)}}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){return p.globalEval(b),b}}});p.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type=
"GET",b.global=!1)});p.ajaxTransport("script",function(b){if(b.crossDomain){var a,e=P.head||p("head")[0]||P.documentElement;return{send:function(c,g){a=P.createElement("script");a.async=!0;b.scriptCharset&&(a.charset=b.scriptCharset);a.src=b.url;a.onload=a.onreadystatechange=function(b,e){(e||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,e||g(200,"success"))};e.insertBefore(a,e.firstChild)},abort:function(){a&&
a.onload(void 0,!0)}}}});var yb=[],Ic=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=yb.pop()||p.expando+"_"+Od++;return this[b]=!0,b}});p.ajaxPrefilter("json jsonp",function(b,a,e){var g,m,q,d=!1!==b.jsonp&&(Ic.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ic.test(b.data)&&"data");return d||"jsonp"===b.dataTypes[0]?(g=b.jsonpCallback=p.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,d?
b[d]=b[d].replace(Ic,"$1"+g):!1!==b.jsonp&&(b.url+=(Gc.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){return q||p.error(g+" was not called"),q[0]},b.dataTypes[0]="json",m=c[g],c[g]=function(){q=arguments},e.always(function(){c[g]=m;b[g]&&(b.jsonpCallback=a.jsonpCallback,yb.push(g));q&&p.isFunction(m)&&m(q[0]);q=m=void 0}),"script"):void 0});p.parseHTML=function(b,a,e){if(!b||"string"!=typeof b)return null;"boolean"==typeof a&&(e=a,a=!1);a=a||P;var c=ub.exec(b);e=!e&&[];
return c?[a.createElement(c[1])]:(c=p.buildFragment([b],a,e),e&&e.length&&p(e).remove(),p.merge([],c.childNodes))};var Jc=p.fn.load;p.fn.load=function(b,a,e){if("string"!=typeof b&&Jc)return Jc.apply(this,arguments);var c,g,m,q=this,d=b.indexOf(" ");return 0<=d&&(c=p.trim(b.slice(d,b.length)),b=b.slice(0,d)),p.isFunction(a)?(e=a,a=void 0):a&&"object"==typeof a&&(m="POST"),0<q.length&&p.ajax({url:b,type:m,dataType:"html",data:a}).done(function(b){g=arguments;q.html(c?p("<div>").append(p.parseHTML(b)).find(c):
b)}).complete(e&&function(b,a){q.each(e,g||[b.responseText,a,b])}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){p.fn[a]=function(b){return this.on(a,b)}});p.expr.filters.animated=function(b){return p.grep(p.timers,function(a){return b===a.elem}).length};var zb=c.document.documentElement;p.offset={setOffset:function(b,a,e){var c,g,m,q=p.css(b,"position"),d=p(b),f={};"static"===q&&(b.style.position="relative");var k=d.offset();var y=p.css(b,
"top");var h=p.css(b,"left");("absolute"===q||"fixed"===q)&&-1<p.inArray("auto",[y,h])?(c=d.position(),m=c.top,g=c.left):(m=parseFloat(y)||0,g=parseFloat(h)||0);p.isFunction(a)&&(a=a.call(b,e,k));null!=a.top&&(f.top=a.top-k.top+m);null!=a.left&&(f.left=a.left-k.left+g);"using"in a?a.using.call(b,f):d.css(f)}};p.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(a){p.offset.setOffset(this,b,a)});var a,e,c={top:0,left:0},g=this[0],m=g&&g.ownerDocument;if(m)return a=
m.documentElement,p.contains(a,g)?("undefined"!==typeof g.getBoundingClientRect&&(c=g.getBoundingClientRect()),e=Ca(m),{top:c.top+(e.pageYOffset||a.scrollTop)-(a.clientTop||0),left:c.left+(e.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}):c},position:function(){if(this[0]){var b,a,e={top:0,left:0},c=this[0];return"fixed"===p.css(c,"position")?a=c.getBoundingClientRect():(b=this.offsetParent(),a=this.offset(),p.nodeName(b[0],"html")||(e=b.offset()),e.top+=p.css(b[0],"borderTopWidth",!0),e.left+=p.css(b[0],
"borderLeftWidth",!0)),{top:a.top-e.top-p.css(c,"marginTop",!0),left:a.left-e.left-p.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||zb;b&&!p.nodeName(b,"html")&&"static"===p.css(b,"position");)b=b.offsetParent;return b||zb})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,a){var e=/Y/.test(a);p.fn[b]=function(c){return jc(this,function(b,c,g){var m=Ca(b);return void 0===g?m?a in m?m[a]:m.document.documentElement[c]:
b[c]:void(m?m.scrollTo(e?p(m).scrollLeft():g,e?g:p(m).scrollTop()):b[c]=g)},b,c,arguments.length,null)}});p.each(["top","left"],function(b,a){p.cssHooks[a]=T(I.pixelPosition,function(b,e){return e?(e=ib(b,a),Wb.test(e)?p(b).position()[a]+"px":e):void 0})});p.each({Height:"height",Width:"width"},function(b,a){p.each({padding:"inner"+b,content:a,"":"outer"+b},function(e,c){p.fn[c]=function(c,g){var m=arguments.length&&(e||"boolean"!=typeof c),q=e||(!0===c||!0===g?"margin":"border");return jc(this,function(a,
e,c){var g;return p.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(g=a.documentElement,Math.max(a.body["scroll"+b],g["scroll"+b],a.body["offset"+b],g["offset"+b],g["client"+b])):void 0===c?p.css(a,e,q):p.style(a,e,c,q)},a,m?c:void 0,m,null)}})});p.fn.size=function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var vc=c.jQuery,Tb=c.$;return p.noConflict=function(b){return c.$===p&&(c.$=Tb),b&&c.jQuery===
p&&(c.jQuery=vc),p},"undefined"===typeof n&&(c.jQuery=c.$=p),p});/*
 jQuery UI - v1.11.3 - 2015-02-22
 http://jqueryui.com
 Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
 Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
(function(c){"function"==typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){function n(b,a){var e,m,q,d=b.nodeName.toLowerCase();return"area"===d?(e=b.parentNode,m=e.name,b.href&&m&&"map"===e.nodeName.toLowerCase()?(q=c("img[usemap='#"+m+"']")[0],!!q&&f(q)):!1):(/^(input|select|textarea|button|object)$/.test(d)?!b.disabled:"a"===d?b.href||a:a)&&f(b)}function f(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}
function h(b){for(var a,c;b.length&&b[0]!==document;){if(a=b.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c))return c;b=b.parent()}return 0}function l(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";
this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,
calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};c.extend(this._defaults,this.regional[""]);this.regional.en=c.extend(!0,{},this.regional[""]);this.regional["en-US"]=c.extend(!0,{},this.regional.en);this.dpDiv=t(c("<div id='"+
this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function t(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){c(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&c(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
"mouseover",a)}function a(){c.datepicker._isDisabledDatepicker(E.inline?E.dpDiv.parent()[0]:E.input[0])||(c(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&c(this).addClass("ui-datepicker-next-hover"))}function d(b,a){c.extend(b,a);for(var e in a)null==a[e]&&(b[e]=a[e]);return b}function k(b){return function(){var a=
this.element.val();b.apply(this,arguments);this._refresh();a!==this.element.val()&&this._trigger("change")}}c.ui=c.ui||{};c.extend(c.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({scrollParent:function(b){var a=this.css("position"),g="absolute"===a,m=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=c(this);return g&&"static"===
b.css("position")?!1:m.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==a&&b.length?b:c(this[0].ownerDocument||document)},uniqueId:function(){var b=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(a){return!!c.data(a,
b)}}):function(b,a,g){return!!c.data(b,g[3])},focusable:function(b){return n(b,!isNaN(c.attr(b,"tabindex")))},tabbable:function(b){var a=c.attr(b,"tabindex"),g=isNaN(a);return(g||0<=a)&&n(b,!g)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(b,a){function e(b,a,e,g){return c.each(m,function(){a-=parseFloat(c.css(b,"padding"+this))||0;e&&(a-=parseFloat(c.css(b,"border"+this+"Width"))||0);g&&(a-=parseFloat(c.css(b,"margin"+this))||0)}),a}var m="Width"===a?["Left","Right"]:["Top",
"Bottom"],q=a.toLowerCase(),d={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+a]=function(b){return void 0===b?d["inner"+a].call(this):this.each(function(){c(this).css(q,e(this,b)+"px")})};c.fn["outer"+a]=function(b,g){return"number"!=typeof b?d["outer"+a].call(this,b):this.each(function(){c(this).css(q,e(this,b,!0,g)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});
c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(a){return arguments.length?b.call(this,c.camelCase(a)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.fn.extend({focus:function(b){return function(a,g){return"number"==typeof a?this.each(function(){var b=this;setTimeout(function(){c(b).focus();g&&g.call(b)},a)}):b.apply(this,arguments)}}(c.fn.focus),disableSelection:function(){var b="onselectstart"in
document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(b+".ui-disableSelection",function(b){b.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length){var a,g;for(b=c(this[0]);b.length&&b[0]!==document;){if(a=b.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(g=parseInt(b.css("zIndex"),10),!isNaN(g)&&0!==g))return g;b=b.parent()}}return 0}});
c.ui.plugin={add:function(b,a,g){var e;b=c.ui[b].prototype;for(e in g)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([a,g[e]])},call:function(b,a,c,m){if((a=b.plugins[a])&&(m||b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType))for(m=0;a.length>m;m++)b.options[a[m][0]]&&a[m][1].apply(b.element,c)}};var r=0,w=Array.prototype.slice;c.cleanData=function(b){return function(a){var e,m,q;for(q=0;null!=(m=a[q]);q++)try{(e=c._data(m,"events"))&&e.remove&&c(m).triggerHandler("remove")}catch(y){}b(a)}}(c.cleanData);
c.widget=function(b,a,g){var e,q,d,f,k={},h=b.split(".")[0];return b=b.split(".")[1],e=h+"-"+b,g||(g=a,a=c.Widget),c.expr[":"][e.toLowerCase()]=function(b){return!!c.data(b,e)},c[h]=c[h]||{},q=c[h][b],d=c[h][b]=function(b,a){return this._createWidget?(arguments.length&&this._createWidget(b,a),void 0):new d(b,a)},c.extend(d,q,{version:g.version,_proto:c.extend({},g),_childConstructors:[]}),f=new a,f.options=c.widget.extend({},f.options),c.each(g,function(b,e){return c.isFunction(e)?(k[b]=function(){var c=
function(){return a.prototype[b].apply(this,arguments)},g=function(e){return a.prototype[b].apply(this,e)};return function(){var b,a=this._super,m=this._superApply;return this._super=c,this._superApply=g,b=e.apply(this,arguments),this._super=a,this._superApply=m,b}}(),void 0):(k[b]=e,void 0)}),d.prototype=c.widget.extend(f,{widgetEventPrefix:q?f.widgetEventPrefix||b:b},k,{constructor:d,namespace:h,widgetName:b,widgetFullName:e}),q?(c.each(q._childConstructors,function(b,a){b=a.prototype;c.widget(b.namespace+
"."+b.widgetName,d,a._proto)}),delete q._childConstructors):a._childConstructors.push(d),c.widget.bridge(b,d),d};c.widget.extend=function(b){for(var a,g,m=w.call(arguments,1),q=0,d=m.length;d>q;q++)for(a in m[q])g=m[q][a],m[q].hasOwnProperty(a)&&void 0!==g&&(b[a]=c.isPlainObject(g)?c.isPlainObject(b[a])?c.widget.extend({},b[a],g):c.widget.extend({},g):g);return b};c.widget.bridge=function(b,a){var e=a.prototype.widgetFullName||b;c.fn[b]=function(g){var m="string"==typeof g,d=w.call(arguments,1),f=
this;return m?this.each(function(){var a,m=c.data(this,e);return"instance"===g?(f=m,!1):m?c.isFunction(m[g])&&"_"!==g.charAt(0)?(a=m[g].apply(m,d),a!==m&&void 0!==a?(f=a&&a.jquery?f.pushStack(a.get()):a,!1):void 0):c.error("no such method '"+g+"' for "+b+" widget instance"):c.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+g+"'")}):(d.length&&(g=c.widget.extend.apply(null,[g].concat(d))),this.each(function(){var b=c.data(this,e);b?(b.option(g||{}),b._init&&
b._init()):c.data(this,e,new a(g,this))})),f}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=c(a||this.defaultElement||this)[0];this.element=c(a);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();a!==this&&(c.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===
a&&this.destroy()}}),this.document=c(a.style?a.ownerDocument:a.document||a),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this.options=c.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));
this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(b,a){var e,m,q=b;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof b)if(q={},e=b.split("."),b=e.shift(),e.length){var d=q[b]=c.widget.extend({},
this.options[b]);for(m=0;e.length-1>m;m++)d[e[m]]=d[e[m]]||{},d=d[e[m]];if(b=e.pop(),1===arguments.length)return void 0===d[b]?null:d[b];d[b]=a}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];q[b]=a}return this._setOptions(q),this},_setOptions:function(b){for(var a in b)this._setOption(a,b[a]);return this},_setOption:function(b,a){return this.options[b]=a,"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!a),a&&(this.hoverable.removeClass("ui-state-hover"),
this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,a,g){var e,q=this;"boolean"!=typeof b&&(g=a,a=b,b=!1);g?(a=e=c(a),this.bindings=this.bindings.add(a)):(g=a,a=this.element,e=this.widget());c.each(g,function(g,m){function d(){return b||!0!==q.options.disabled&&!c(this).hasClass("ui-state-disabled")?("string"==typeof m?q[m]:m).apply(q,arguments):void 0}"string"!=typeof m&&
(d.guid=m.guid=m.guid||d.guid||c.guid++);var f=g.match(/^([\w:-]*)\s*(.*)$/);g=f[1]+q.eventNamespace;(f=f[2])?e.delegate(f,g,d):a.bind(g,d)})},_off:function(b,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(a).undelegate(a);this.bindings=c(this.bindings.not(b).get());this.focusable=c(this.focusable.not(b).get());this.hoverable=c(this.hoverable.not(b).get())},_delay:function(b,a){var e=this;return setTimeout(function(){return("string"==typeof b?e[b]:b).apply(e,arguments)},
a||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,a,g){var e,q=this.options[b];if(g=g||{},a=c.Event(a),
a.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),a.target=this.element[0],b=a.originalEvent)for(e in b)e in a||(a[e]=b[e]);return this.element.trigger(a,g),!(c.isFunction(q)&&!1===q.apply(this.element[0],[a].concat(g))||a.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(b,a){c.Widget.prototype["_"+b]=function(e,m,q){"string"==typeof m&&(m={effect:m});var g=m?!0===m||"number"==typeof m?a:m.effect||a:b;m=m||{};"number"==typeof m&&(m={duration:m});var d=
!c.isEmptyObject(m);m.complete=q;m.delay&&e.delay(m.delay);d&&c.effects&&c.effects.effect[g]?e[b](m):g!==b&&e[g]?e[g](m.duration,m.easing,q):e.queue(function(a){c(this)[b]();q&&q.call(e[0]);a()})}});c.widget;var v=!1;c(document).mouseup(function(){v=!1});c.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,
function(a){return!0===c.data(a.target,b.widgetName+".preventClickEvent")?(c.removeData(a.target,b.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!v){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);
this._mouseDownEvent=b;var a=this,g=1===b.which,m="string"==typeof this.options.cancel&&b.target.nodeName?c(b.target).closest(this.options.cancel).length:!1;return g&&!m&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===c.data(b.target,
this.widgetName+".preventClickEvent")&&c.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return a._mouseMove(b)},this._mouseUpDelegate=function(b){return a._mouseUp(b)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),v=!0,!0)):!0}},_mouseMove:function(b){return this._mouseMoved&&(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button||!b.which)?
this._mouseUp(b):((b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted))},_mouseUp:function(b){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=
!1,b.target===this._mouseDownEvent.target&&c.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),v=!1,!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function b(b,a,e){return[parseFloat(b[0])*
(t.test(b[0])?a/100:1),parseFloat(b[1])*(t.test(b[1])?e/100:1)]}function a(b){var a=b[0];return 9===a.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:c.isWindow(a)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}c.ui=c.ui||{};var g,m,d=Math.max,f=Math.abs,k=Math.round,h=/left|center|right/,l=/top|center|bottom/,
r=/[\+\-]\d+(\.[\d]+)?%?/,n=/^\w+/,t=/%$/,w=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==g)return g;var b,a,e=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),m=e.children()[0];return c("body").append(e),b=m.offsetWidth,e.css("overflow","scroll"),a=m.offsetWidth,b===a&&(a=e[0].clientWidth),e.remove(),g=b-a},getScrollInfo:function(b){var a=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),
e=b.isWindow||b.isDocument?"":b.element.css("overflow-y");a="scroll"===a||"auto"===a&&b.width<b.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?c.position.scrollbarWidth():0,height:a?c.position.scrollbarWidth():0}},getWithinInfo:function(b){b=c(b||window);var a=c.isWindow(b[0]),e=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:a,isDocument:e,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:a||e?b.width():
b.outerWidth(),height:a||e?b.height():b.outerHeight()}}};c.fn.position=function(e){if(!e||!e.of)return w.apply(this,arguments);e=c.extend({},e);var g,q,y,A,Q,t,O=c(e.of),B=c.position.getWithinInfo(e.within),v=c.position.getScrollInfo(B),L=(e.collision||"flip").split(" "),T={};return t=a(O),O[0].preventDefault&&(e.at="left top"),q=t.width,y=t.height,A=t.offset,Q=c.extend({},A),c.each(["my","at"],function(){var b=(e[this]||"").split(" ");1===b.length&&(b=h.test(b[0])?b.concat(["center"]):l.test(b[0])?
["center"].concat(b):["center","center"]);b[0]=h.test(b[0])?b[0]:"center";b[1]=l.test(b[1])?b[1]:"center";var a=r.exec(b[0]);var c=r.exec(b[1]);T[this]=[a?a[0]:0,c?c[0]:0];e[this]=[n.exec(b[0])[0],n.exec(b[1])[0]]}),1===L.length&&(L[1]=L[0]),"right"===e.at[0]?Q.left+=q:"center"===e.at[0]&&(Q.left+=q/2),"bottom"===e.at[1]?Q.top+=y:"center"===e.at[1]&&(Q.top+=y/2),g=b(T.at,q,y),Q.left+=g[0],Q.top+=g[1],this.each(function(){var a,h=c(this),l=h.outerWidth(),r=h.outerHeight(),n=parseInt(c.css(this,"marginLeft"),
10)||0,t=parseInt(c.css(this,"marginTop"),10)||0,w=l+n+(parseInt(c.css(this,"marginRight"),10)||0)+v.width,K=r+t+(parseInt(c.css(this,"marginBottom"),10)||0)+v.height,D=c.extend({},Q),J=b(T.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?D.left-=l:"center"===e.my[0]&&(D.left-=l/2);"bottom"===e.my[1]?D.top-=r:"center"===e.my[1]&&(D.top-=r/2);D.left+=J[0];D.top+=J[1];m||(D.left=k(D.left),D.top=k(D.top));var da={marginLeft:n,marginTop:t};c.each(["left","top"],function(b,a){c.ui.position[L[b]]&&
c.ui.position[L[b]][a](D,{targetWidth:q,targetHeight:y,elemWidth:l,elemHeight:r,collisionPosition:da,collisionWidth:w,collisionHeight:K,offset:[g[0]+J[0],g[1]+J[1]],my:e.my,at:e.at,within:B,elem:h})});e.using&&(a=function(b){var a=A.left-D.left,c=a+q-l,g=A.top-D.top,m=g+y-r,k={target:{element:O,left:A.left,top:A.top,width:q,height:y},element:{element:h,left:D.left,top:D.top,width:l,height:r},horizontal:0>c?"left":0<a?"right":"center",vertical:0>m?"top":0<g?"bottom":"middle"};l>q&&q>f(a+c)&&(k.horizontal=
"center");r>y&&y>f(g+m)&&(k.vertical="middle");k.important=d(f(a),f(c))>d(f(g),f(m))?"horizontal":"vertical";e.using.call(this,b,k)});h.offset(c.extend(D,{using:a}))})};c.ui.position={fit:{left:function(b,a){var e,c=a.within,g=c.isWindow?c.scrollLeft:c.offset.left;c=c.width;var m=b.left-a.collisionPosition.marginLeft,q=g-m,f=m+a.collisionWidth-c-g;a.collisionWidth>c?0<q&&0>=f?(e=b.left+q+a.collisionWidth-c-g,b.left+=q-e):b.left=0<f&&0>=q?g:q>f?g+c-a.collisionWidth:g:0<q?b.left+=q:0<f?b.left-=f:b.left=
d(b.left-m,b.left)},top:function(b,a){var e,c=a.within;c=c.isWindow?c.scrollTop:c.offset.top;var g=a.within.height,m=b.top-a.collisionPosition.marginTop,q=c-m,f=m+a.collisionHeight-g-c;a.collisionHeight>g?0<q&&0>=f?(e=b.top+q+a.collisionHeight-g-c,b.top+=q-e):b.top=0<f&&0>=q?c:q>f?c+g-a.collisionHeight:c:0<q?b.top+=q:0<f?b.top-=f:b.top=d(b.top-m,b.top)}},flip:{left:function(b,a){var e,c,g=a.within,m=g.offset.left+g.scrollLeft,q=g.width;g=g.isWindow?g.scrollLeft:g.offset.left;var d=b.left-a.collisionPosition.marginLeft,
k=d-g;d=d+a.collisionWidth-q-g;var y="left"===a.my[0]?-a.elemWidth:"right"===a.my[0]?a.elemWidth:0,h="left"===a.at[0]?a.targetWidth:"right"===a.at[0]?-a.targetWidth:0,l=-2*a.offset[0];0>k?(e=b.left+y+h+l+a.collisionWidth-q-m,(0>e||f(k)>e)&&(b.left+=y+h+l)):0<d&&(c=b.left-a.collisionPosition.marginLeft+y+h+l-g,(0<c||d>f(c))&&(b.left+=y+h+l))},top:function(b,a){var e,c,g=a.within,m=g.offset.top+g.scrollTop,q=g.height;g=g.isWindow?g.scrollTop:g.offset.top;var d=b.top-a.collisionPosition.marginTop,k=
d-g;d=d+a.collisionHeight-q-g;var y="top"===a.my[1]?-a.elemHeight:"bottom"===a.my[1]?a.elemHeight:0,h="top"===a.at[1]?a.targetHeight:"bottom"===a.at[1]?-a.targetHeight:0,l=-2*a.offset[1];0>k?(c=b.top+y+h+l+a.collisionHeight-q-m,(0>c||f(k)>c)&&(b.top+=y+h+l)):0<d&&(e=b.top-a.collisionPosition.marginTop+y+h+l-g,(0<e||d>f(e))&&(b.top+=y+h+l))}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,
arguments);c.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,a=document.getElementsByTagName("body")[0];var e=document.createElement("div");var g=document.createElement(a?"div":"body");var q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};a&&c.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"});for(b in q)g.style[b]=q[b];g.appendChild(e);q=a||document.documentElement;q.insertBefore(g,q.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";
e=c(e).offset().left;m=10<e&&11>e;g.innerHTML="";q.removeChild(g)})()})();c.ui.position;c.widget("ui.draggable",c.ui.mouse,{version:"1.11.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,
drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(b,a){this._super(b,a);"handle"===b&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=
!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(b){var a=this.options;return this._blurActiveElement(b),this.helper||a.disabled||0<c(b.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(b),this.handle?(this._blockFrames(!0===a.iframeFix?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=
c(this);return c("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var a=this.document[0];if(this.handleElement.is(b.target))try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&c(a.activeElement).blur()}catch(g){}},_mouseStart:function(b){var a=this.options;return this.helper=
this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),c.ui.ddmanager&&(c.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===c(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=
this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,b),this._normalizeRightBottom(),this._mouseDrag(b,!0),c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(b){this.offset={top:this.positionAbs.top-this.margins.top,
left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:b.pageX-this.offset.left,top:b.pageY-this.offset.top}},_mouseDrag:function(b,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){a=this._uiHash();if(!1===this._trigger("drag",b,a))return this._mouseUp({}),!1;this.position=a.position}return this.helper[0].style.left=
this.position.left+"px",this.helper[0].style.top=this.position.top+"px",c.ui.ddmanager&&c.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var a=this,g=!1;return c.ui.ddmanager&&!this.options.dropBehaviour&&(g=c.ui.ddmanager.drop(this,b)),this.dropped&&(g=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!g||"valid"===this.options.revert&&g||!0===this.options.revert||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)?c(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==a._trigger("stop",b)&&a._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,b),this.handleElement.is(b.target)&&this.element.focus(),c.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!c(b.target).closest(this.element.find(this.options.handle)).length:
!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(b){var a=this.options,g=c.isFunction(a.helper);b=g?c(a.helper.apply(this.element[0],[b])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===
a.appendTo?this.element[0].parentNode:a.appendTo),g&&b[0]===this.element[0]&&this._setPositionRelative(),b[0]===this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));c.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);
"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(b){return/(html|body)/i.test(b.tagName)||b===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&c.contains(this.scrollParent[0],
this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var b=this.element.position(),a=this._isRootNode(this.scrollParent[0]);return{top:b.top-(parseInt(this.helper.css("top"),
10)||0)+(a?0:this.scrollParent.scrollTop()),left:b.left-(parseInt(this.helper.css("left"),10)||0)+(a?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b,a,g,m=this.options,q=this.document[0];return this.relativeContainer=null,m.containment?"window"===m.containment?(this.containment=[c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,c(window).scrollLeft()+c(window).width()-this.helperProportions.width-this.margins.left,c(window).scrollTop()+(c(window).height()||q.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],
void 0):"document"===m.containment?(this.containment=[0,0,c(q).width()-this.helperProportions.width-this.margins.left,(c(q).height()||q.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):m.containment.constructor===Array?(this.containment=m.containment,void 0):("parent"===m.containment&&(m.containment=this.helper[0].parentNode),a=c(m.containment),g=a[0],g&&(b=/(scroll|auto)/.test(a.css("overflow")),this.containment=[(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),
10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(b?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],
this.relativeContainer=a),void 0):(this.containment=null,void 0)},_convertPositionTo:function(b,a){a||(a=this.position);b="absolute"===b?1:-1;var e=this._isRootNode(this.scrollParent[0]);return{top:a.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.offset.scroll.top:e?0:this.offset.scroll.top)*b,left:a.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.offset.scroll.left:e?0:this.offset.scroll.left)*b}},_generatePosition:function(b,
a){var e,c,q,d,f=this.options,k=this._isRootNode(this.scrollParent[0]),h=b.pageX,l=b.pageY;return k&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),a&&(this.containment&&(this.relativeContainer?(c=this.relativeContainer.offset(),e=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]):e=this.containment,b.pageX-this.offset.click.left<e[0]&&(h=e[0]+this.offset.click.left),b.pageY-
this.offset.click.top<e[1]&&(l=e[1]+this.offset.click.top),b.pageX-this.offset.click.left>e[2]&&(h=e[2]+this.offset.click.left),b.pageY-this.offset.click.top>e[3]&&(l=e[3]+this.offset.click.top)),f.grid&&(q=f.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY,l=e?q-this.offset.click.top>=e[1]||q-this.offset.click.top>e[3]?q:q-this.offset.click.top>=e[1]?q-f.grid[1]:q+f.grid[1]:q,d=f.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/f.grid[0])*
f.grid[0]:this.originalPageX,h=e?d-this.offset.click.left>=e[0]||d-this.offset.click.left>e[2]?d:d-this.offset.click.left>=e[0]?d-f.grid[0]:d+f.grid[0]:d),"y"===f.axis&&(h=this.originalPageX),"x"===f.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:k?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:
k?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),
this.helper.css("bottom","auto"))},_trigger:function(b,a,g){return g=g||this._uiHash(),c.ui.plugin.call(this,b,[a,g,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),g.offset=this.positionAbs),c.Widget.prototype._trigger.call(this,b,a,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.ui.plugin.add("draggable","connectToSortable",{start:function(b,a,g){var e=
c.extend({},a,{item:g.element});g.sortables=[];c(g.options.connectToSortable).each(function(){var a=c(this).sortable("instance");a&&!a.options.disabled&&(g.sortables.push(a),a.refreshPositions(),a._trigger("activate",b,e))})},stop:function(b,a,g){var e=c.extend({},a,{item:g.element});g.cancelHelperRemoval=!1;c.each(g.sortables,function(){this.isOver?(this.isOver=0,g.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),
left:this.placeholder.css("left")},this._mouseStop(b),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",b,e))})},drag:function(b,a,g){c.each(g.sortables,function(){var e=!1,q=this;q.positionAbs=g.positionAbs;q.helperProportions=g.helperProportions;q.offset.click=g.offset.click;q._intersectsWith(q.containerCache)&&(e=!0,c.each(g.sortables,function(){return this.positionAbs=g.positionAbs,this.helperProportions=g.helperProportions,this.offset.click=g.offset.click,
this!==q&&this._intersectsWith(this.containerCache)&&c.contains(q.element[0],this.element[0])&&(e=!1),e}));e?(q.isOver||(q.isOver=1,q.currentItem=a.helper.appendTo(q.element).data("ui-sortable-item",!0),q.options._helper=q.options.helper,q.options.helper=function(){return a.helper[0]},b.target=q.currentItem[0],q._mouseCapture(b,!0),q._mouseStart(b,!0,!0),q.offset.click.top=g.offset.click.top,q.offset.click.left=g.offset.click.left,q.offset.parent.left-=g.offset.parent.left-q.offset.parent.left,q.offset.parent.top-=
g.offset.parent.top-q.offset.parent.top,g._trigger("toSortable",b),g.dropped=q.element,c.each(g.sortables,function(){this.refreshPositions()}),g.currentItem=g.element,q.fromOutside=g),q.currentItem&&(q._mouseDrag(b),a.position=q.position)):q.isOver&&(q.isOver=0,q.cancelHelperRemoval=!0,q.options._revert=q.options.revert,q.options.revert=!1,q._trigger("out",b,q._uiHash(q)),q._mouseStop(b,!0),q.options.revert=q.options._revert,q.options.helper=q.options._helper,q.placeholder&&q.placeholder.remove(),
g._refreshOffsets(b),a.position=g._generatePosition(b,!0),g._trigger("fromSortable",b),g.dropped=!1,c.each(g.sortables,function(){this.refreshPositions()}))})}});c.ui.plugin.add("draggable","cursor",{start:function(b,a,g){b=c("body");g=g.options;b.css("cursor")&&(g._cursor=b.css("cursor"));b.css("cursor",g.cursor)},stop:function(b,a,g){b=g.options;b._cursor&&c("body").css("cursor",b._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(b,a,g){b=c(a.helper);g=g.options;b.css("opacity")&&
(g._opacity=b.css("opacity"));b.css("opacity",g.opacity)},stop:function(b,a,g){b=g.options;b._opacity&&c(a.helper).css("opacity",b._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(b,a,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1));c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,a,g){a=g.options;var e=!1,q=g.scrollParentNotHidden[0],d=g.document[0];
q!==d&&"HTML"!==q.tagName?(a.axis&&"x"===a.axis||(g.overflowOffset.top+q.offsetHeight-b.pageY<a.scrollSensitivity?q.scrollTop=e=q.scrollTop+a.scrollSpeed:b.pageY-g.overflowOffset.top<a.scrollSensitivity&&(q.scrollTop=e=q.scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(g.overflowOffset.left+q.offsetWidth-b.pageX<a.scrollSensitivity?q.scrollLeft=e=q.scrollLeft+a.scrollSpeed:b.pageX-g.overflowOffset.left<a.scrollSensitivity&&(q.scrollLeft=e=q.scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(b.pageY-
c(d).scrollTop()<a.scrollSensitivity?e=c(d).scrollTop(c(d).scrollTop()-a.scrollSpeed):c(window).height()-(b.pageY-c(d).scrollTop())<a.scrollSensitivity&&(e=c(d).scrollTop(c(d).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(b.pageX-c(d).scrollLeft()<a.scrollSensitivity?e=c(d).scrollLeft(c(d).scrollLeft()-a.scrollSpeed):c(window).width()-(b.pageX-c(d).scrollLeft())<a.scrollSensitivity&&(e=c(d).scrollLeft(c(d).scrollLeft()+a.scrollSpeed))));!1!==e&&c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(g,
b)}});c.ui.plugin.add("draggable","snap",{start:function(b,a,g){b=g.options;g.snapElements=[];c(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var b=c(this),a=b.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:a.top,left:a.left})})},drag:function(b,a,g){var e,d,f,k,h,l,r=g.options,n=r.snapTolerance,t=a.offset.left,w=t+g.helperProportions.width,v=a.offset.top,D=v+g.helperProportions.height;for(h=g.snapElements.length-
1;0<=h;h--){var E=g.snapElements[h].left-g.margins.left;var z=E+g.snapElements[h].width;var H=g.snapElements[h].top-g.margins.top;var C=H+g.snapElements[h].height;E-n>w||t>z+n||H-n>D||v>C+n||!c.contains(g.snapElements[h].item.ownerDocument,g.snapElements[h].item)?(g.snapElements[h].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,b,c.extend(g._uiHash(),{snapItem:g.snapElements[h].item})),g.snapElements[h].snapping=!1):("inner"!==r.snapMode&&(e=n>=Math.abs(H-D),d=n>=Math.abs(C-
v),f=n>=Math.abs(E-w),k=n>=Math.abs(z-t),e&&(a.position.top=g._convertPositionTo("relative",{top:H-g.helperProportions.height,left:0}).top),d&&(a.position.top=g._convertPositionTo("relative",{top:C,left:0}).top),f&&(a.position.left=g._convertPositionTo("relative",{top:0,left:E-g.helperProportions.width}).left),k&&(a.position.left=g._convertPositionTo("relative",{top:0,left:z}).left)),l=e||d||f||k,"outer"!==r.snapMode&&(e=n>=Math.abs(H-v),d=n>=Math.abs(C-D),f=n>=Math.abs(E-t),k=n>=Math.abs(z-w),e&&
(a.position.top=g._convertPositionTo("relative",{top:H,left:0}).top),d&&(a.position.top=g._convertPositionTo("relative",{top:C-g.helperProportions.height,left:0}).top),f&&(a.position.left=g._convertPositionTo("relative",{top:0,left:E}).left),k&&(a.position.left=g._convertPositionTo("relative",{top:0,left:z-g.helperProportions.width}).left)),!g.snapElements[h].snapping&&(e||d||f||k||l)&&g.options.snap.snap&&g.options.snap.snap.call(g.element,b,c.extend(g._uiHash(),{snapItem:g.snapElements[h].item})),
g.snapElements[h].snapping=e||d||f||k||l)}}});c.ui.plugin.add("draggable","stack",{start:function(b,a,g){var e;b=c.makeArray(c(g.options.stack)).sort(function(b,a){return(parseInt(c(b).css("zIndex"),10)||0)-(parseInt(c(a).css("zIndex"),10)||0)});b.length&&(e=parseInt(c(b[0]).css("zIndex"),10)||0,c(b).each(function(b){c(this).css("zIndex",e+b)}),this.css("zIndex",e+b.length))}});c.ui.plugin.add("draggable","zIndex",{start:function(b,a,g){b=c(a.helper);g=g.options;b.css("zIndex")&&(g._zIndex=b.css("zIndex"));
b.css("zIndex",g.zIndex)},stop:function(b,a,g){b=g.options;b._zIndex&&c(a.helper).css("zIndex",b._zIndex)}});c.ui.draggable;c.widget("ui.droppable",{version:"1.11.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,a=this.options,g=a.accept;this.isover=!1;this.isout=!0;this.accept=c.isFunction(g)?g:function(b){return b.is(g)};this.proportions=
function(){return arguments.length?(b=arguments[0],void 0):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(a.scope);a.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(b){c.ui.ddmanager.droppables[b]=c.ui.ddmanager.droppables[b]||[];c.ui.ddmanager.droppables[b].push(this)},_splice:function(b){for(var a=0;b.length>a;a++)b[a]===this&&b.splice(a,1)},_destroy:function(){this._splice(c.ui.ddmanager.droppables[this.options.scope]);
this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,a){"accept"===b?this.accept=c.isFunction(a)?a:function(b){return b.is(a)}:"scope"===b&&(this._splice(c.ui.ddmanager.droppables[this.options.scope]),this._addToManager(a));this._super(b,a)},_activate:function(b){var a=c.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);a&&this._trigger("activate",b,this.ui(a))},_deactivate:function(b){var a=c.ui.ddmanager.current;this.options.activeClass&&
this.element.removeClass(this.options.activeClass);a&&this._trigger("deactivate",b,this.ui(a))},_over:function(b){var a=c.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(a)))},_out:function(b){var a=c.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||
a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(a)))},_drop:function(b,a){var e=a||c.ui.ddmanager.current,m=!1;return e&&(e.currentItem||e.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var a=c(this).droppable("instance");return a.options.greedy&&!a.options.disabled&&a.options.scope===e.options.scope&&a.accept.call(a.element[0],e.currentItem||e.element)&&c.ui.intersect(e,
c.extend(a,{offset:a.element.offset()}),a.options.tolerance,b)?(m=!0,!1):void 0}),m?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(e)),this.element):!1):!1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});c.ui.intersect=function(){return function(b,
a,c,m){if(!a.offset)return!1;var e=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,d=e+b.helperProportions.width,f=g+b.helperProportions.height,k=a.offset.left,h=a.offset.top,l=k+a.proportions().width,r=h+a.proportions().height;switch(c){case "fit":return e>=k&&l>=d&&g>=h&&r>=f;case "intersect":return e+b.helperProportions.width/2>k&&l>d-b.helperProportions.width/2&&g+b.helperProportions.height/2>h&&r>f-b.helperProportions.height/2;
case "pointer":b=m.pageY;c=a.proportions().height;if(h=b>=h&&h+c>b)m=m.pageX,a=a.proportions().width,h=m>=k&&k+a>m;return h;case "touch":return(g>=h&&r>=g||f>=h&&r>=f||h>g&&f>r)&&(e>=k&&l>=e||d>=k&&l>=d||k>e&&d>l);default:return!1}}}();c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,a){var e,m=c.ui.ddmanager.droppables[b.options.scope]||[],d=a?a.type:null,f=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();var k=0;a:for(;m.length>k;k++)if(!(m[k].options.disabled||
b&&!m[k].accept.call(m[k].element[0],b.currentItem||b.element))){for(e=0;f.length>e;e++)if(f[e]===m[k].element[0]){m[k].proportions().height=0;continue a}m[k].visible="none"!==m[k].element.css("display");m[k].visible&&("mousedown"===d&&m[k]._activate.call(m[k],a),m[k].offset=m[k].element.offset(),m[k].proportions({width:m[k].element[0].offsetWidth,height:m[k].element[0].offsetHeight}))}},drop:function(b,a){var e=!1;return c.each((c.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&
(!this.options.disabled&&this.visible&&c.ui.intersect(b,this,this.options.tolerance,a)&&(e=this._drop.call(this,a)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,a)))}),e},dragStart:function(b,a){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||c.ui.ddmanager.prepareOffsets(b,a)})},drag:function(b,a){b.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(b,
a);c.each(c.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,m,d,f=c.ui.intersect(b,this,this.options.tolerance,a);(f=!f&&this.isover?"isout":f&&!this.isover?"isover":null)&&(this.options.greedy&&(m=this.options.scope,d=this.element.parents(":data(ui-droppable)").filter(function(){return c(this).droppable("instance").options.scope===m}),d.length&&(e=c(d[0]).droppable("instance"),e.greedyChild="isover"===f)),e&&"isover"===f&&
(e.isover=!1,e.isout=!0,e._out.call(e,a)),this[f]=!0,this["isout"===f?"isover":"isout"]=!1,this["isover"===f?"_over":"_out"].call(this,a),e&&"isout"===f&&(e.isout=!1,e.isover=!0,e._over.call(e,a)))}})},dragStop:function(b,a){b.element.parentsUntil("body").unbind("scroll.droppable");b.options.refreshPositions||c.ui.ddmanager.prepareOffsets(b,a)}};c.ui.droppable;c.widget("ui.resizable",c.ui.mouse,{version:"1.11.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",
aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseInt(b,10)||0},_isNumber:function(b){return!isNaN(parseInt(b,10))},_hasScroll:function(b,a){if("hidden"===c(b).css("overflow"))return!1;a=a&&"left"===a?"scrollLeft":"scrollTop";var e=!1;return 0<b[a]?!0:(b[a]=1,e=0<b[a],b[a]=0,e)},_create:function(){var b,a=this,g=this.options;if(this.element.addClass("ui-resizable"),
c.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=g.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var m=this.handles.split(",");this.handles={};for(b=0;m.length>b;b++){var d=c.trim(m[b]);var f="ui-resizable-"+d;var k=c("<div class='ui-resizable-handle "+f+"'></div>");k.css({zIndex:g.zIndex});"se"===d&&k.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[d]=".ui-resizable-"+d;this.element.append(k)}}this._renderAxis=function(b){var a,e,g,m;b=b||this.element;for(a in this.handles)this.handles[a].constructor===
String&&(this.handles[a]=this.element.children(this.handles[a]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(e=c(this.handles[a],this.element),m=/sw|ne|nw|se|n|s/.test(a)?e.outerHeight():e.outerWidth(),g=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),b.css(g,m),this._proportionallyResize()),c(this.handles[a]).length};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",
this.element).disableSelection();this._handles.mouseover(function(){a.resizing||(this.className&&(k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=k&&k[1]?k[1]:"se")});g.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||(c(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){g.disabled||a.resizing||(c(this).addClass("ui-resizable-autohide"),a._handles.hide())}));this._mouseInit()},
_destroy:function(){this._mouseDestroy();var b,a=function(b){c(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",
this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(b){var a,g=!1;for(a in this.handles){var m=c(this.handles[a])[0];(m===b.target||c.contains(m,b.target))&&(g=!0)}return!this.options.disabled&&g},_mouseStart:function(b){var a,g,m,d=this.options,f=this.element;return this.resizing=!0,this._renderProxy(),a=this._num(this.helper.css("left")),g=this._num(this.helper.css("top")),d.containment&&(a+=c(d.containment).scrollLeft()||0,g+=c(d.containment).scrollTop()||0),this.offset=
this.helper.offset(),this.position={left:a,top:g},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalPosition={left:a,top:g},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:
this.originalSize.width/this.originalSize.height||1,m=c(".ui-resizable-"+this.axis).css("cursor"),c("body").css("cursor","auto"===m?this.axis+"-resize":m),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var a,g,m=this.originalMousePosition,d=b.pageX-m.left||0;m=b.pageY-m.top||0;var f=this._change[this.axis];return this._updatePrevProperties(),f?(a=f.apply(this,[b,d,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(a=this._updateRatio(a,
b)),a=this._respectSize(a,b),this._updateCache(a),this._propagate("resize",b),g=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),c.isEmptyObject(g)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(b){this.resizing=!1;var a,g,m,d,f,k,h,l=this.options;return this._helper&&(a=this._proportionallyResizeElements,g=a.length&&/textarea/i.test(a[0].nodeName),m=g&&this._hasScroll(a[0],
"left")?0:this.sizeDiff.height,d=g?0:this.sizeDiff.width,f={width:this.helper.width()-d,height:this.helper.height()-m},k=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,h=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(c.extend(f,{top:h,left:k})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),c("body").css("cursor",
"auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var b={};return this.position.top!==this.prevPosition.top&&(b.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(b.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&
(b.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(b.height=this.size.height+"px"),this.helper.css(b),b},_updateVirtualBoundaries:function(b){var a,c,m,d;var f=this.options;f={minWidth:this._isNumber(f.minWidth)?f.minWidth:0,maxWidth:this._isNumber(f.maxWidth)?f.maxWidth:1/0,minHeight:this._isNumber(f.minHeight)?f.minHeight:0,maxHeight:this._isNumber(f.maxHeight)?f.maxHeight:1/0};(this._aspectRatio||b)&&(a=f.minHeight*this.aspectRatio,m=f.minWidth/this.aspectRatio,c=f.maxHeight*
this.aspectRatio,d=f.maxWidth/this.aspectRatio,a>f.minWidth&&(f.minWidth=a),m>f.minHeight&&(f.minHeight=m),f.maxWidth>c&&(f.maxWidth=c),f.maxHeight>d&&(f.maxHeight=d));this._vBoundaries=f},_updateCache:function(b){this.offset=this.helper.offset();this._isNumber(b.left)&&(this.position.left=b.left);this._isNumber(b.top)&&(this.position.top=b.top);this._isNumber(b.height)&&(this.size.height=b.height);this._isNumber(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var a=this.position,c=
this.size,m=this.axis;return this._isNumber(b.height)?b.width=b.height*this.aspectRatio:this._isNumber(b.width)&&(b.height=b.width/this.aspectRatio),"sw"===m&&(b.left=a.left+(c.width-b.width),b.top=null),"nw"===m&&(b.top=a.top+(c.height-b.height),b.left=a.left+(c.width-b.width)),b},_respectSize:function(b){var a=this._vBoundaries,c=this.axis,m=this._isNumber(b.width)&&a.maxWidth&&a.maxWidth<b.width,d=this._isNumber(b.height)&&a.maxHeight&&a.maxHeight<b.height,f=this._isNumber(b.width)&&a.minWidth&&
a.minWidth>b.width,k=this._isNumber(b.height)&&a.minHeight&&a.minHeight>b.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,r=/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);return f&&(b.width=a.minWidth),k&&(b.height=a.minHeight),m&&(b.width=a.maxWidth),d&&(b.height=a.maxHeight),f&&r&&(b.left=h-a.minWidth),m&&r&&(b.left=h-a.maxWidth),k&&c&&(b.top=l-a.minHeight),d&&c&&(b.top=l-a.maxHeight),b.width||b.height||b.left||!b.top?b.width||b.height||b.top||!b.left||(b.left=
null):b.top=null,b},_getPaddingPlusBorderDimensions:function(b){var a=0,c=[],m=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")];for(b=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];4>a;a++)c[a]=parseInt(m[a],10)||0,c[a]+=parseInt(b[a],10)||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b,a=0,c=this.helper||this.element;this._proportionallyResizeElements.length>
a;a++)b=this._proportionallyResizeElements[a],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(b)),b.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-
1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-a}},n:function(b,a,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(b,a,c){return{height:this.originalSize.height+c}},se:function(b,
a,g){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,a,g]))},sw:function(b,a,g){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,a,g]))},ne:function(b,a,g){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,a,g]))},nw:function(b,a,g){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,a,g]))}},_propagate:function(b,a){c.ui.plugin.call(this,b,[a,this.ui()]);"resize"!==b&&
this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(b){var a=c(this).resizable("instance"),g=a.options,m=a._proportionallyResizeElements,d=m.length&&/textarea/i.test(m[0].nodeName),f=d&&a._hasScroll(m[0],"left")?0:a.sizeDiff.height;d={width:a.size.width-
(d?0:a.sizeDiff.width),height:a.size.height-f};f=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null;var k=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(c.extend(d,k&&f?{top:k,left:f}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var e={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),
10)};m&&m.length&&c(m[0]).css({width:e.width,height:e.height});a._updateCache(e);a._propagate("resize",b)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var b,a,g,m,d,f,k,h=c(this).resizable("instance"),l=h.element,r=h.options.containment;(l=r instanceof c?r.get(0):/parent/.test(r)?l.parent().get(0):r)&&(h.containerElement=c(l),/document/.test(r)||r===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:c(document),left:0,top:0,width:c(document).width(),
height:c(document).height()||document.body.parentNode.scrollHeight}):(b=c(l),a=[],c(["Top","Right","Left","Bottom"]).each(function(e,c){a[e]=h._num(b.css("padding"+c))}),h.containerOffset=b.offset(),h.containerPosition=b.position(),h.containerSize={height:b.innerHeight()-a[3],width:b.innerWidth()-a[1]},g=h.containerOffset,m=h.containerSize.height,d=h.containerSize.width,f=h._hasScroll(l,"left")?l.scrollWidth:d,k=h._hasScroll(l)?l.scrollHeight:m,h.parentData={element:l,left:g.left,top:g.top,width:f,
height:k}))},resize:function(b){var a=c(this).resizable("instance");var g=a.options;var m=a.containerOffset;var d=a.position;b=a._aspectRatio||b.shiftKey;var f={top:0,left:0},k=a.containerElement,h=!0;k[0]!==document&&/static/.test(k.css("position"))&&(f=m);d.left<(a._helper?m.left:0)&&(a.size.width+=a._helper?a.position.left-m.left:a.position.left-f.left,b&&(a.size.height=a.size.width/a.aspectRatio,h=!1),a.position.left=g.helper?m.left:0);d.top<(a._helper?m.top:0)&&(a.size.height+=a._helper?a.position.top-
m.top:a.position.top,b&&(a.size.width=a.size.height*a.aspectRatio,h=!1),a.position.top=a._helper?m.top:0);g=a.containerElement.get(0)===a.element.parent().get(0);d=/relative|absolute/.test(a.containerElement.css("position"));g&&d?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top);g=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-f.left:a.offset.left-m.left));m=Math.abs(a.sizeDiff.height+
(a._helper?a.offset.top-f.top:a.offset.top-m.top));g+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-g,b&&(a.size.height=a.size.width/a.aspectRatio,h=!1));m+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-m,b&&(a.size.width=a.size.height*a.aspectRatio,h=!1));h||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var b=c(this).resizable("instance"),a=b.options,
g=b.containerOffset,m=b.containerPosition,d=b.containerElement,f=c(b.helper),k=f.offset(),h=f.outerWidth()-b.sizeDiff.width;f=f.outerHeight()-b.sizeDiff.height;b._helper&&!a.animate&&/relative/.test(d.css("position"))&&c(this).css({left:k.left-m.left-g.left,width:h,height:f});b._helper&&!a.animate&&/static/.test(d.css("position"))&&c(this).css({left:k.left-m.left-g.left,width:h,height:f})}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var b=c(this).resizable("instance").options,a=function(b){c(b).each(function(){var b=
c(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?a(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],a(b.alsoResize)):c.each(b.alsoResize,function(b){a(b)})},resize:function(b,a){b=c(this).resizable("instance");var e=b.options,m=b.originalSize,d=b.originalPosition,f={height:b.size.height-m.height||0,width:b.size.width-
m.width||0,top:b.position.top-d.top||0,left:b.position.left-d.left||0},k=function(b,e){c(b).each(function(){var b=c(this),g=c(this).data("ui-resizable-alsoresize"),m={},d=e&&e.length?e:b.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(d,function(b,a){(b=(g[a]||0)+(f[a]||0))&&0<=b&&(m[a]=b||null)});b.css(m)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?k(e.alsoResize):c.each(e.alsoResize,function(b,a){k(b,a)})},stop:function(){c(this).removeData("resizable-alsoresize")}});
c.ui.plugin.add("resizable","ghost",{start:function(){var b=c(this).resizable("instance"),a=b.options,g=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=c(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},
stop:function(){var b=c(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var b,a=c(this).resizable("instance"),g=a.options,m=a.size,d=a.originalSize,f=a.originalPosition,k=a.axis,h="number"==typeof g.grid?[g.grid,g.grid]:g.grid,l=h[0]||1,r=h[1]||1,n=Math.round((m.width-d.width)/l)*l;m=Math.round((m.height-d.height)/r)*r;var t=d.width+n,w=d.height+m,v=g.maxWidth&&t>g.maxWidth,D=g.maxHeight&&w>g.maxHeight,
E=g.minWidth&&g.minWidth>t,z=g.minHeight&&g.minHeight>w;g.grid=h;E&&(t+=l);z&&(w+=r);v&&(t-=l);D&&(w-=r);/^(se|s|e)$/.test(k)?(a.size.width=t,a.size.height=w):/^(ne)$/.test(k)?(a.size.width=t,a.size.height=w,a.position.top=f.top-m):/^(sw)$/.test(k)?(a.size.width=t,a.size.height=w,a.position.left=f.left-n):((0>=w-r||0>=t-l)&&(b=a._getPaddingPlusBorderDimensions(this)),0<w-r?(a.size.height=w,a.position.top=f.top-m):(w=r-b.height,a.size.height=w,a.position.top=f.top+d.height-w),0<t-l?(a.size.width=t,
a.position.left=f.left-n):(t=l-b.width,a.size.width=t,a.position.left=f.left+d.width-t))}});c.ui.resizable;c.widget("ui.selectable",c.ui.mouse,{version:"1.11.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,a=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=c(a.options.filter,a.element[0]);b.addClass("ui-selectee");b.each(function(){var b=
c(this),a=b.offset();c.data(this,"selectable-item",{element:this,$element:b,left:a.left,top:a.top,right:a.left+b.outerWidth(),bottom:a.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");
this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(b){var a=this,g=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=c(g.filter,this.element[0]),this._trigger("start",b),c(g.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=c.data(this,"selectable-item");e.startselected=!0;b.metaKey||
b.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,a._trigger("unselecting",b,{unselecting:e.element}))}),c(b.target).parents().addBack().each(function(){var e,g=c.data(this,"selectable-item");return g?(e=!b.metaKey&&!b.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),g.unselecting=!e,g.selecting=e,g.selected=e,e?a._trigger("selecting",
b,{selecting:g.element}):a._trigger("unselecting",b,{unselecting:g.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var a,g=this,m=this.options,d=this.opos[0],f=this.opos[1],k=b.pageX,h=b.pageY;return d>k&&(a=k,k=d,d=a),f>h&&(a=h,h=f,f=a),this.helper.css({left:d,top:f,width:k-d,height:h-f}),this.selectees.each(function(){var a=c.data(this,"selectable-item"),e=!1;a&&a.element!==g.element[0]&&("touch"===m.tolerance?e=!(a.left>k||d>a.right||a.top>h||f>a.bottom):
"fit"===m.tolerance&&(e=a.left>d&&k>a.right&&a.top>f&&h>a.bottom),e?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,g._trigger("selecting",b,{selecting:a.element}))):(a.selecting&&((b.metaKey||b.ctrlKey)&&a.startselected?(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),
a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),g._trigger("unselecting",b,{unselecting:a.element}))),a.selected&&(b.metaKey||b.ctrlKey||a.startselected||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,g._trigger("unselecting",b,{unselecting:a.element})))))}),!1}},_mouseStop:function(b){var a=this;return this.dragged=!1,c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");
e.$element.removeClass("ui-unselecting");e.unselecting=!1;e.startselected=!1;a._trigger("unselected",b,{unselected:e.element})}),c(".ui-selecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=!1;e.selected=!0;e.startselected=!0;a._trigger("selected",b,{selected:e.element})}),this._trigger("stop",b),this.helper.remove(),!1}});c.widget("ui.sortable",c.ui.mouse,{version:"1.11.3",widgetEventPrefix:"sort",
ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(b,
a,c){return b>=a&&a+c>b},_isFloating:function(b){return/left|right/.test(b.css("float"))||/inline|table-cell/.test(b.css("display"))},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===b.axis||this._isFloating(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(b,a){this._super(b,a);"handle"===b&&this._setHandleClassName()},
_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");c.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+
"-item");return this},_mouseCapture:function(b,a){var e=null,m=!1,d=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),c(b.target).parents().each(function(){return c.data(this,d.widgetName+"-item")===d?(e=c(this),!1):void 0}),c.data(b.target,d.widgetName+"-item")===d&&(e=c(b.target)),e?!this.options.handle||a||(c(this.options.handle,e).find("*").addBack().each(function(){this===b.target&&(m=!0)}),m)?(this.currentItem=e,this._removeCurrentsFromItems(),
!0):!1:!1)},_mouseStart:function(b,a,g){var e;a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},c.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),
this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(e=this.document.find("body"),
this.storedCursor=e.css("cursor"),e.css("cursor",a.cursor),this.storedStylesheet=c("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(e)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=
this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g)for(g=this.containers.length-1;0<=g;g--)this.containers[g]._trigger("activate",b,this._uiHash(this));return c.ui.ddmanager&&(c.ui.ddmanager.current=this),c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var a,g,m;var d=this.options;var f=
!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=
f=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(b.pageY-this.document.scrollTop()<d.scrollSensitivity?f=this.document.scrollTop(this.document.scrollTop()-d.scrollSpeed):this.window.height()-(b.pageY-
this.document.scrollTop())<d.scrollSensitivity&&(f=this.document.scrollTop(this.document.scrollTop()+d.scrollSpeed)),b.pageX-this.document.scrollLeft()<d.scrollSensitivity?f=this.document.scrollLeft(this.document.scrollLeft()-d.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<d.scrollSensitivity&&(f=this.document.scrollLeft(this.document.scrollLeft()+d.scrollSpeed))),!1!==f&&c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");
this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(d=this.items.length-1;0<=d;d--)if(a=this.items[d],g=a.item[0],m=this._intersectsWithPointer(a),m&&a.instance===this.currentContainer&&g!==this.currentItem[0]&&this.placeholder[1===m?"next":"prev"]()[0]!==g&&!c.contains(this.placeholder[0],g)&&("semi-dynamic"===this.options.type?!c.contains(this.element[0],
g):!0)){if(this.direction=1===m?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(b,a);this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),c.ui.ddmanager&&c.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,a){if(b){if(c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,b),this.options.revert){var e=this;a=this.placeholder.offset();
var m=this.options.axis,d={};m&&"x"!==m||(d.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));m&&"y"!==m||(d.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;c(this.helper).animate(d,parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,a);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),c.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var a=this._getItemsAsjQuery(b&&b.connected),g=[];return b=b||{},c(a).each(function(){var a=(c(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);a&&g.push((b.key||
a[1]+"[]")+"="+(b.key&&b.expression?a[1]:a[2]))}),!g.length&&b.key&&g.push(b.key+"="),g.join("&")},toArray:function(b){var a=this._getItemsAsjQuery(b&&b.connected),g=[];return b=b||{},a.each(function(){g.push(c(b.item||this).attr(b.attribute||"id")||"")}),g},_intersectsWith:function(b){var a=this.positionAbs.left,c=a+this.helperProportions.width,m=this.positionAbs.top,d=m+this.helperProportions.height,f=b.left,k=f+b.width,h=b.top,l=h+b.height,r=this.offset.click.top,t=this.offset.click.left;r="x"===
this.options.axis||m+r>h&&l>m+r;t="y"===this.options.axis||a+t>f&&k>a+t;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?r&&t:a+this.helperProportions.width/2>f&&k>c-this.helperProportions.width/2&&m+this.helperProportions.height/2>h&&l>d-this.helperProportions.height/2},_intersectsWithPointer:function(b){var a="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+
this.offset.click.top,b.top,b.height);b="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);a=a&&b;b=this._getDragVerticalDirection();var c=this._getDragHorizontalDirection();return a?this.floating?c&&"right"===c||"down"===b?2:1:b&&("down"===b?2:1):!1},_intersectsWithSides:function(b){var a=this._isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=this._isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+
b.width/2,b.width);var c=this._getDragVerticalDirection(),m=this._getDragHorizontalDirection();return this.floating&&m?"right"===m&&b||"left"===m&&!b:c&&("down"===c&&a||"up"===c&&!a)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!==b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!==b&&(0<b?"right":"left")},refresh:function(b){return this._refreshItems(b),this._setHandleClassName(),
this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor===String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){function a(){d.push(this)}var g,m,d=[],f=[],k=this._connectWith();if(k&&b)for(b=k.length-1;0<=b;b--){var h=c(k[b],this.document[0]);for(g=h.length-1;0<=g;g--)(m=c.data(h[g],this.widgetFullName))&&m!==this&&!m.options.disabled&&f.push([c.isFunction(m.options.items)?m.options.items.call(m.element):c(m.options.items,m.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
m])}f.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=f.length-1;0<=b;b--)f[b][0].each(a);return c(d)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=c.grep(this.items,function(a){for(var e=0;b.length>e;e++)if(b[e]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=
[];this.containers=[this];var a,g,m,d,f=this.items,k=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):c(this.options.items,this.element),this]];if((d=this._connectWith())&&this.ready)for(a=d.length-1;0<=a;a--){var h=c(d[a],this.document[0]);for(g=h.length-1;0<=g;g--)(m=c.data(h[g],this.widgetFullName))&&m!==this&&!m.options.disabled&&(k.push([c.isFunction(m.options.items)?m.options.items.call(m.element[0],b,{item:this.currentItem}):c(m.options.items,
m.element),m]),this.containers.push(m))}for(a=k.length-1;0<=a;a--)for(b=k[a][1],h=k[a][0],g=0,d=h.length;d>g;g++)m=c(h[g]),m.data(this.widgetName+"-item",b),f.push({item:m,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var a,g,m;for(a=this.items.length-1;0<=a;a--){var d=this.items[a];d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(g=this.options.toleranceElement?
c(this.options.toleranceElement,d.item):d.item,b||(d.width=g.outerWidth(),d.height=g.outerHeight()),m=g.offset(),d.left=m.left,d.top=m.top)}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(a=this.containers.length-1;0<=a;a--)m=this.containers[a].element.offset(),this.containers[a].containerCache.left=m.left,this.containers[a].containerCache.top=m.top,this.containers[a].containerCache.width=this.containers[a].element.outerWidth(),
this.containers[a].containerCache.height=this.containers[a].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var a,g=b.options;g.placeholder&&g.placeholder.constructor!==String||(a=g.placeholder,g.placeholder={element:function(){var e=b.currentItem[0].nodeName.toLowerCase(),g=c("<"+e+">",b.document[0]).addClass(a||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?b.currentItem.children().each(function(){c("<td>&#160;</td>",
b.document[0]).attr("colspan",c(this).attr("colspan")||1).appendTo(g)}):"img"===e&&g.attr("src",b.currentItem.attr("src")),a||g.css("visibility","hidden"),g},update:function(e,c){(!a||g.forcePlaceholderSize)&&(c.height()||c.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),c.width()||c.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}});
b.placeholder=c(g.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);g.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var a,g,m,d,f,k=m=null;for(a=this.containers.length-1;0<=a;a--)c.contains(this.currentItem[0],this.containers[a].element[0])||(this._intersectsWith(this.containers[a].containerCache)?m&&c.contains(this.containers[a].element[0],m.element[0])||(m=this.containers[a],k=a):this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",
b,this._uiHash(this)),this.containers[a].containerCache.over=0));if(m)if(1===this.containers.length)this.containers[k].containerCache.over||(this.containers[k]._trigger("over",b,this._uiHash(this)),this.containers[k].containerCache.over=1);else{a=1E4;var h=null;m=(g=m.floating||this._isFloating(this.currentItem))?"left":"top";var l=g?"width":"height";var r=g?"clientX":"clientY";for(g=this.items.length-1;0<=g;g--)c.contains(this.containers[k].element[0],this.items[g].item[0])&&this.items[g].item[0]!==
this.currentItem[0]&&(d=this.items[g].item.offset()[m],f=!1,b[r]-d>this.items[g][l]/2&&(f=!0),a>Math.abs(b[r]-d)&&(a=Math.abs(b[r]-d),h=this.items[g],this.direction=f?"up":"down"));if(h||this.options.dropOnEmpty){if(this.currentContainer===this.containers[k])return this.currentContainer.containerCache.over||(this.containers[k]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[k].element,!0);this._trigger("change",
b,this._uiHash());this.containers[k]._trigger("change",b,this._uiHash(this));this.currentContainer=this.containers[k];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[k]._trigger("over",b,this._uiHash(this));this.containers[k].containerCache.over=1}}},_createHelper:function(b){var a=this.options;b=c.isFunction(a.helper)?c(a.helper.apply(this.element[0],[b,this.currentItem])):"clone"===a.helper?this.currentItem.clone():this.currentItem;return b.parents("body").length||
c("parent"!==a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!b[0].style.width||a.forceHelperSize)&&b.width(this.currentItem.width()),(!b[0].style.height||a.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(b){"string"==
typeof b&&(b=b.split(" "));c.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===
this.cssPosition&&this.scrollParent[0]!==this.document[0]&&c.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===
this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b,a,g,m=this.options;"parent"===m.containment&&(m.containment=this.helper[0].parentNode);"document"!==m.containment&&"window"!==m.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===m.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===m.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(m.containment)||(b=c(m.containment)[0],a=c(m.containment).offset(),g="hidden"!==c(b).css("overflow"),this.containment=[a.left+(parseInt(c(b).css("borderLeftWidth"),10)||0)+(parseInt(c(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(c(b).css("borderTopWidth"),10)||0)+(parseInt(c(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(g?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(c(b).css("borderLeftWidth"),
10)||0)-(parseInt(c(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(g?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(c(b).css("borderTopWidth"),10)||0)-(parseInt(c(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,a){a||(a=this.position);b="absolute"===b?1:-1;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&c.contains(this.scrollParent[0],this.offsetParent[0])?
this.scrollParent:this.offsetParent,m=/(html|body)/i.test(e[0].tagName);return{top:a.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:e.scrollTop())*b,left:a.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:e.scrollLeft())*b}},_generatePosition:function(b){var a,g,m=this.options,d=b.pageX,f=b.pageY,k="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&
c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(k[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(d=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+
this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(d=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),m.grid&&(a=this.originalPageY+Math.round((f-this.originalPageY)/m.grid[1])*m.grid[1],f=this.containment?a-this.offset.click.top>=this.containment[1]&&a-this.offset.click.top<=this.containment[3]?a:a-this.offset.click.top>=this.containment[1]?a-m.grid[1]:a+m.grid[1]:a,g=this.originalPageX+
Math.round((d-this.originalPageX)/m.grid[0])*m.grid[0],d=this.containment?g-this.offset.click.left>=this.containment[0]&&g-this.offset.click.left<=this.containment[2]?g:g-this.offset.click.left>=this.containment[0]?g-m.grid[0]:g+m.grid[0]:g)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:k.scrollTop()),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?
-this.scrollParent.scrollLeft():h?0:k.scrollLeft())}},_rearrange:function(b,a,c,m){c?c[0].appendChild(this.placeholder[0]):a.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?a.item[0]:a.item[0].nextSibling);var e=this.counter=this.counter?++this.counter:1;this._delay(function(){e===this.counter&&this.refreshPositions(!m)})},_clear:function(b,a){function e(b,a,e){return function(c){e._trigger(b,c,a._uiHash(a))}}this.reverting=!1;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&
this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)"auto"!==this._storedCSS[c]&&"static"!==this._storedCSS[c]||(this._storedCSS[c]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!a&&d.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&
this.domPosition.parent===this.currentItem.parent()[0]||a||d.push(function(b){this._trigger("update",b,this._uiHash())});this!==this.currentContainer&&(a||(d.push(function(b){this._trigger("remove",b,this._uiHash())}),d.push(function(b){return function(a){b._trigger("receive",a,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(b){return function(a){b._trigger("update",a,this._uiHash(this))}}.call(this,this.currentContainer))));for(c=this.containers.length-1;0<=c;c--)a||d.push(e("deactivate",
this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(e("out",this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,a||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!a){for(c=0;d.length>c;c++)d[c].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===c.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var a=b||this;return{helper:a.helper,placeholder:a.placeholder||c([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,
sender:b?b.element:null}}});c.widget("ui.accordion",{version:"1.11.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",
height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=c();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():c()}},_createIcons:function(){var b=this.options.icons;b&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();
this._destroyIcons();var b=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&b.css("height","")},_setOption:function(b,a){return"active"===b?(this._activate(a),void 0):("event"===b&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),
this._super(b,a),"collapsible"!==b||a||!1!==this.options.active||this._activate(0),"icons"===b&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===b&&(this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a)),void 0)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var a=c.ui.keyCode,g=this.headers.length,d=this.headers.index(b.target),f=!1;switch(b.keyCode){case a.RIGHT:case a.DOWN:f=this.headers[(d+
1)%g];break;case a.LEFT:case a.UP:f=this.headers[(d-1+g)%g];break;case a.SPACE:case a.ENTER:this._eventHandler(b);break;case a.HOME:f=this.headers[0];break;case a.END:f=this.headers[g-1]}f&&(c(b.target).attr("tabIndex",-1),c(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===c.ui.keyCode.UP&&b.ctrlKey&&c(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?(b.active=
!1,this.active=c()):!1===b.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=c()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var b=this.headers,a=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");
this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();a&&(this._off(b.not(this.headers)),this._off(a.not(this.panels)))},_refresh:function(){var b,a=this.options,g=a.heightStyle,d=this.element.parent();this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();
this.headers.attr("role","tab").each(function(){var b=c(this),a=b.uniqueId().attr("id"),e=b.next(),g=e.uniqueId().attr("id");b.attr("aria-controls",g);e.attr("aria-labelledby",a)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",
0);this._createIcons();this._setupEvents(a.event);"fill"===g?(b=d.height(),this.element.siblings(":visible").each(function(){var a=c(this),e=a.css("position");"absolute"!==e&&"fixed"!==e&&(b-=a.outerHeight(!0))}),this.headers.each(function(){b-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===g&&(b=0,this.headers.next().each(function(){b=Math.max(b,c(this).css("height","").height())}).height(b))},
_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):c()},_setupEvents:function(b){var a={keydown:"_keydown"};b&&c.each(b.split(" "),function(b,e){a[e]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,a);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);
this._focusable(this.headers)},_eventHandler:function(b){var a=this.options,g=this.active,d=c(b.currentTarget),f=d[0]===g[0],k=f&&a.collapsible,h=k?c():d.next(),l=g.next();h={oldHeader:g,oldPanel:l,newHeader:k?c():d,newPanel:h};b.preventDefault();f&&!a.collapsible||!1===this._trigger("beforeActivate",b,h)||(a.active=k?!1:this.headers.index(d),this.active=f?c():d,this._toggle(h),g.removeClass("ui-accordion-header-active ui-state-active"),a.icons&&g.children(".ui-accordion-header-icon").removeClass(a.icons.activeHeader).addClass(a.icons.header),
f||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),a.icons&&d.children(".ui-accordion-header-icon").removeClass(a.icons.header).addClass(a.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var a=b.newPanel,g=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=a;this.prevHide=g;this.options.animate?this._animate(a,g,b):(g.hide(),a.show(),this._toggleComplete(b));
g.attr({"aria-hidden":"true"});g.prev().attr({"aria-selected":"false","aria-expanded":"false"});a.length&&g.length?g.prev().attr({tabIndex:-1,"aria-expanded":"false"}):a.length&&this.headers.filter(function(){return 0===parseInt(c(this).attr("tabIndex"),10)}).attr("tabIndex",-1);a.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(b,a,c){var e,g,d,f=this,k=0,h=b.length&&(!a.length||b.index()<a.index()),l=this.options.animate||{};
h=h&&l.down||l;var r=function(){f._toggleComplete(c)};return"number"==typeof h&&(d=h),"string"==typeof h&&(g=h),g=g||h.easing||l.easing,d=d||h.duration||l.duration,a.length?b.length?(e=b.show().outerHeight(),a.animate(this.hideProps,{duration:d,easing:g,step:function(b,a){a.now=Math.round(b)}}),b.hide().animate(this.showProps,{duration:d,easing:g,complete:r,step:function(b,c){c.now=Math.round(b);"height"!==c.prop?k+=c.now:"content"!==f.options.heightStyle&&(c.now=Math.round(e-a.outerHeight()-k),k=
0)}}),void 0):a.animate(this.hideProps,d,g,r):b.animate(this.showProps,d,g,r)},_toggleComplete:function(b){var a=b.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");a.length&&(a.parent()[0].className=a.parent()[0].className);this._trigger("activate",null,b)}});c.widget("ui.menu",{version:"1.11.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},
role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(b){b.preventDefault()},"click .ui-menu-item":function(b){var a=c(b.target);
!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&c(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var a=c(b.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active");
this.focus(b,a)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,a){var e=this.active||this.element.find(this.options.items).eq(0);a||this.focus(b,e)},blur:function(b){this._delay(function(){c.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){this._closeOnDocumentClick(b)&&this.collapseAll(b);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=c(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var a=!0;switch(b.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(b);break;
case c.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case c.ui.keyCode.HOME:this._move("first","first",b);break;case c.ui.keyCode.END:this._move("last","last",b);break;case c.ui.keyCode.UP:this.previous(b);break;case c.ui.keyCode.DOWN:this.next(b);break;case c.ui.keyCode.LEFT:this.collapse(b);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(b);break;case c.ui.keyCode.ESCAPE:this.collapse(b);
break;default:a=!1;var g=this.previousFilter||"";var d=String.fromCharCode(b.keyCode);var f=!1;clearTimeout(this.filterTimer);d===g?f=!0:d=g+d;g=this._filterMenuItems(d);g=f&&-1!==g.index(this.active.next())?this.active.nextAll(".ui-menu-item"):g;g.length||(d=String.fromCharCode(b.keyCode),g=this._filterMenuItems(d));g.length?(this.focus(b,g),this.previousFilter=d,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}a&&b.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||
(this.active.is("[aria-haspopup='true']")?this.expand(b):this.select(b))},refresh:function(){var b=this,a=this.options.icons.submenu;var g=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);g.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=c(this),e=b.parent(),g=c("<span>").addClass("ui-menu-icon ui-icon "+
a).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(g);b.attr("aria-labelledby",e.attr("id"))});g=g.add(this.element).find(this.options.items);g.not(".ui-menu-item").each(function(){var a=c(this);b._isDivider(a)&&a.addClass("ui-widget-content ui-menu-divider")});g.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});g.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!c.contains(this.element[0],
this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,a){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(a.submenu);"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a);this._super(b,a)},focus:function(b,a){this.blur(b,b&&"focus"===b.type);this._scrollIntoView(a);this.active=a.first();var c=this.active.addClass("ui-state-focus").removeClass("ui-state-active");
this.options.role&&this.element.attr("aria-activedescendant",c.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");b&&"keydown"===b.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);c=a.children(".ui-menu");c.length&&b&&/^mouse/.test(b.type)&&this._startOpening(c);this.activeMenu=a.parent();this._trigger("focus",b,{item:a})},_scrollIntoView:function(b){var a,g,d,f,k,h;this._hasScroll()&&(a=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||
0,g=parseFloat(c.css(this.activeMenu[0],"paddingTop"))||0,d=b.offset().top-this.activeMenu.offset().top-a-g,f=this.activeMenu.scrollTop(),k=this.activeMenu.height(),h=b.outerHeight(),0>d?this.activeMenu.scrollTop(f+d):d+h>k&&this.activeMenu.scrollTop(f+d-k+h))},blur:function(b,a){a||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer);"true"===b.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close();this._open(b)},this.delay))},_open:function(b){var a=c.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(a,e){clearTimeout(this.timer);this.timer=this._delay(function(){var b=e?this.element:c(a&&a.target).closest(this.element.find(".ui-menu"));
b.length||(b=this.element);this._close(b);this.blur(a);this.activeMenu=b},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return!c(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,c,g){var b;this.active&&(b="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));b&&b.length&&this.active||(b=this.activeMenu.find(this.options.items)[c]());this.focus(g,b)},nextPage:function(a){var b,g,d;return this.active?(this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=
c(this),0>b.offset().top-g-d}),this.focus(a,b)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(a),void 0)},previousPage:function(a){var b,g,d;return this.active?(this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=c(this),0<b.offset().top-g+d}),this.focus(a,b)):this.focus(a,this.activeMenu.find(this.options.items).first())),void 0):(this.next(a),
void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||c(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0);this._trigger("select",a,b)},_filterMenuItems:function(a){a=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var b=RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return b.test(c.trim(c(this).text()))})}});
c.widget("ui.autocomplete",{version:"1.11.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,e,g,d=this.element[0].nodeName.toLowerCase(),f="textarea"===d;d="input"===d;this.isMultiLine=f?!0:d?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||
d?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(b){if(this.element.prop("readOnly"))return a=!0,g=!0,e=!0,void 0;e=g=a=!1;var d=c.ui.keyCode;switch(b.keyCode){case d.PAGE_UP:a=!0;this._move("previousPage",b);break;case d.PAGE_DOWN:a=!0;this._move("nextPage",b);break;case d.UP:a=!0;this._keyEvent("previous",b);break;case d.DOWN:a=!0;this._keyEvent("next",b);break;case d.ENTER:this.menu.active&&(a=!0,
b.preventDefault(),this.menu.select(b));break;case d.TAB:this.menu.active&&this.menu.select(b);break;case d.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(b),b.preventDefault());break;default:e=!0,this._searchTimeout(b)}},keypress:function(b){if(a)return a=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&b.preventDefault(),void 0;if(!e){var g=c.ui.keyCode;switch(b.keyCode){case g.PAGE_UP:this._move("previousPage",b);break;case g.PAGE_DOWN:this._move("nextPage",
b);break;case g.UP:this._keyEvent("previous",b);break;case g.DOWN:this._keyEvent("next",b)}}},input:function(a){return g?(g=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}});this._initSource();this.menu=c("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");
this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var b=this.menu.element[0];c(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(e){e.target===a.element[0]||e.target===b||c.contains(b,e.target)||a.close()})})},menufocus:function(a,b){var e,g;return this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))?(this.menu.blur(),
this.document.one("mousemove",function(){c(a.target).trigger(a.originalEvent)}),void 0):(g=b.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",a,{item:g})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(g.value),e=b.item.attr("aria-label")||g.value,e&&c.trim(e).length&&(this.liveRegion.children().hide(),c("<div>").text(e).appendTo(this.liveRegion)),void 0)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&
(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=c("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);
this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,c){this._super(a,c);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?c(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),
a},_initSource:function(){var a,e,g=this;c.isArray(this.options.source)?(a=this.options.source,this.source=function(b,e){e(c.ui.autocomplete.filter(a,b.term))}):"string"==typeof this.options.source?(e=this.options.source,this.source=function(a,b){g.xhr&&g.xhr.abort();g.xhr=c.ajax({url:e,data:a,dataType:"json",success:function(a){b(a)},error:function(){b([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var b=this.term===
this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;b&&(!b||c||d)||(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,c){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(c):!1!==this._trigger("search",c)?this._search(a):void 0},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=
++this.requestIndex;return c.proxy(function(b){a===this.requestIndex&&this.__response(b);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),
this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:c.map(a,function(a){return"string"==typeof a?{label:a,value:a}:c.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(a){var b=this.menu.element.empty();this._renderMenu(b,a);this.isNewMenu=!0;this.menu.refresh();b.show();this._resizeMenu();b.position(c.extend({of:this.element},
this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,e){var b=this;c.each(e,function(c,e){b._renderItemData(a,e)})},_renderItemData:function(a,c){return this._renderItem(a,c).data("ui-autocomplete-item",c)},_renderItem:function(a,e){return c("<li>").text(e.label).appendTo(a)},_move:function(a,c){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&
/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](c),void 0):(this.search(null,c),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,c){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,c),c.preventDefault())}});c.extend(c.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")},filter:function(a,e){var b=RegExp(c.ui.autocomplete.escapeRegex(e),"i");return c.grep(a,function(a){return b.test(a.label||a.value||a)})}});c.widget("ui.autocomplete",c.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):
this.options.messages.noResults,this.liveRegion.children().hide(),c("<div>").text(b).appendTo(this.liveRegion))}});c.ui.autocomplete;var H,C=function(){var a=c(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},z=function(a){var b=a.name,g=a.form,d=c([]);return b&&(b=b.replace(/'/g,"\\'"),d=g?c(g).find("[name='"+b+"'][type=radio]"):c("[name='"+b+"'][type=radio]",a.ownerDocument).filter(function(){return!this.form})),d};c.widget("ui.button",{version:"1.11.3",defaultElement:"<button>",
options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,C);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,e=this.options,g="checkbox"===this.type||"radio"===this.type,d=g?"":
"ui-state-active";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===H&&c(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||c(this).removeClass(d)}).bind("click"+this.eventNamespace,function(a){e.disabled&&
(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});g&&this.element.bind("change"+this.eventNamespace,function(){a.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return e.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1;c(this).addClass("ui-state-active");
a.buttonElement.attr("aria-pressed","true");var b=a.element[0];z(b).not(b).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return e.disabled?!1:(c(this).addClass("ui-state-active"),H=this,a.document.one("mouseup",function(){H=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return e.disabled?!1:(c(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+
this.eventNamespace,function(a){return e.disabled?!1:((a.keyCode===c.ui.keyCode.SPACE||a.keyCode===c.ui.keyCode.ENTER)&&c(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()}));this._setOption("disabled",e.disabled);this._resetButton()},_determineButtonType:function(){var a,c,g;this.type=
this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),c="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(c),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(c),this.buttonElement.length||(this.buttonElement=a.find(c))),this.element.addClass("ui-helper-hidden-accessible"),g=this.element.is(":checked"),
g&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",g)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,c){return this._super(a,c),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),c&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?z(this.element[0]).each(function(){c(this).is(":checked")?c(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",
"false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),e=c("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),g=this.options.icons,d=g.primary&&g.secondary,f=[];g.primary||g.secondary?(this.options.text&&
f.push("ui-button-text-icon"+(d?"s":g.primary?"-primary":"-secondary")),g.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>"),g.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>"),this.options.text||(f.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",c.trim(e)))):f.push("ui-button-text-only");a.addClass(f.join(" "))}});c.widget("ui.buttonset",{version:"1.11.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,c){"disabled"===a&&this.buttons.button("option",a,c);this._super(a,c)},refresh:function(){var a="rtl"===this.element.css("direction"),e=this.element.find(this.options.items),g=e.filter(":ui-button");e.not(":ui-button").button();g.button("refresh");this.buttons=e.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});c.ui.button;c.extend(c.ui,{datepicker:{version:"1.11.3"}});var E;c.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return d(this._defaults,
a||{}),this},_attachDatepicker:function(a,e){var b=a.nodeName.toLowerCase();var d="div"===b||"span"===b;a.id||(this.uuid+=1,a.id="dp"+this.uuid);var f=this._newInst(c(a),d);f.settings=c.extend({},e||{});"input"===b?this._connectDatepicker(a,f):d&&this._inlineDatepicker(a,f)},_newInst:function(a,e){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?t(c("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(a,e){var b=c(a);e.append=c([]);e.trigger=c([]);b.hasClass(this.markerClassName)||(this._attachments(b,e),b.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),c.data(a,"datepicker",e),e.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,e){var b,d;var f=this._get(e,"appendText");var k=this._get(e,"isRTL");e.append&&e.append.remove();f&&(e.append=c("<span class='"+this._appendClass+
"'>"+f+"</span>"),a[k?"before":"after"](e.append));a.unbind("focus",this._showDatepicker);e.trigger&&e.trigger.remove();f=this._get(e,"showOn");"focus"!==f&&"both"!==f||a.focus(this._showDatepicker);"button"!==f&&"both"!==f||(b=this._get(e,"buttonText"),d=this._get(e,"buttonImage"),e.trigger=c(this._get(e,"buttonImageOnly")?c("<img/>").addClass(this._triggerClass).attr({src:d,alt:b,title:b}):c("<button type='button'></button>").addClass(this._triggerClass).html(d?c("<img/>").attr({src:d,alt:b,title:b}):
b)),a[k?"before":"after"](e.trigger),e.trigger.click(function(){return c.datepicker._datepickerShowing&&c.datepicker._lastInput===a[0]?c.datepicker._hideDatepicker():c.datepicker._datepickerShowing&&c.datepicker._lastInput!==a[0]?(c.datepicker._hideDatepicker(),c.datepicker._showDatepicker(a[0])):c.datepicker._showDatepicker(a[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,f,k=new Date(2009,11,20),h=this._get(a,"dateFormat");h.match(/[DM]/)&&(b=function(a){for(f=
d=c=0;a.length>f;f++)a[f].length>c&&(c=a[f].length,d=f);return d},k.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort"))),k.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-k.getDay()));a.input.attr("size",this._formatDate(a,k).length)}},_inlineDatepicker:function(a,e){var b=c(a);b.hasClass(this.markerClassName)||(b.addClass(this.markerClassName).append(e.dpDiv),c.data(a,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),
e.settings.disabled&&this._disableDatepicker(a),e.dpDiv.css("display","block"))},_dialogDatepicker:function(a,e,g,f,q){var b,m,k,h,l;a=this._dialogInst;return a||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=c("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),c("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},c.data(this._dialogInput[0],"datepicker",a)),d(a.settings,
f||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=q?q.length?q:[q.pageX,q.pageY]:null,this._pos||(m=document.documentElement.clientWidth,k=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[m/2-100+h,k/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),c.blockUI&&c.blockUI(this.dpDiv),c.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var b,g=c(a),d=c.data(a,"datepicker");g.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),c.removeData(a,"datepicker"),"input"===b?(d.append.remove(),d.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===b||"span"===b)&&g.removeClass(this.markerClassName).empty(),E===d&&(E=null))},_enableDatepicker:function(a){var b,g,d=c(a),f=c.data(a,"datepicker");d.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),"input"===b?(a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===b||"span"===b)&&(g=d.children("."+this._inlineClass),g.children().removeClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=c.map(this._disabledInputs,function(b){return b===a?null:b}))},_disableDatepicker:function(a){var b,g,d=c(a),f=c.data(a,"datepicker");d.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),"input"===b?(a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===b||"span"===b)&&(g=d.children("."+this._inlineClass),g.children().addClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=c.map(this._disabledInputs,function(b){return b===a?null:b}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return c.data(a,"datepicker")}catch(e){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,e,g){var b,f,k,h,l=this._getInst(a);return 2===arguments.length&&"string"==
typeof e?"defaults"===e?c.extend({},c.datepicker._defaults):l?"all"===e?c.extend({},l.settings):this._get(l,e):null:(b=e||{},"string"==typeof e&&(b={},b[e]=g),l&&(this._curInst===l&&this._hideDatepicker(),f=this._getDateDatepicker(a,!0),k=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),d(l.settings,b),null!==k&&void 0!==b.dateFormat&&void 0===b.minDate&&(l.settings.minDate=this._formatDate(l,k)),null!==h&&void 0!==b.dateFormat&&void 0===b.maxDate&&(l.settings.maxDate=this._formatDate(l,
h)),"disabled"in b&&(b.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(c(a),l),this._autoSize(l),this._setDate(l,f),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(a,c,g){this._optionDatepicker(a,c,g)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,c){(a=this._getInst(a))&&(this._setDate(a,c),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(a,
c){a=this._getInst(a);return a&&!a.inline&&this._setDateFromField(a,c),a?this._getDate(a):null},_doKeyDown:function(a){var b,g,d,f=c.datepicker._getInst(a.target),k=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,c.datepicker._datepickerShowing)switch(a.keyCode){case 9:c.datepicker._hideDatepicker();k=!1;break;case 13:return d=c("td."+c.datepicker._dayOverClass+":not(."+c.datepicker._currentClass+")",f.dpDiv),d[0]&&c.datepicker._selectDay(a.target,f.selectedMonth,f.selectedYear,d[0]),b=c.datepicker._get(f,
"onSelect"),b?(g=c.datepicker._formatDate(f),b.apply(f.input?f.input[0]:null,[g,f])):c.datepicker._hideDatepicker(),!1;case 27:c.datepicker._hideDatepicker();break;case 33:c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(f,"stepBigMonths"):-c.datepicker._get(f,"stepMonths"),"M");break;case 34:c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(f,"stepBigMonths"):+c.datepicker._get(f,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&c.datepicker._clearDate(a.target);
k=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&c.datepicker._gotoToday(a.target);k=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,h?1:-1,"D");k=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(f,"stepBigMonths"):-c.datepicker._get(f,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,-7,"D");k=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&
c.datepicker._adjustDate(a.target,h?-1:1,"D");k=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(f,"stepBigMonths"):+c.datepicker._get(f,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,7,"D");k=a.ctrlKey||a.metaKey;break;default:k=!1}else 36===a.keyCode&&a.ctrlKey?c.datepicker._showDatepicker(this):k=!1;k&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b,g,d=c.datepicker._getInst(a.target);
return c.datepicker._get(d,"constrainInput")?(b=c.datepicker._possibleChars(c.datepicker._get(d,"dateFormat")),g=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">g||!b||-1<b.indexOf(g)):void 0},_doKeyUp:function(a){var b;a=c.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{(b=c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,c.datepicker._getFormatConfig(a)))&&(c.datepicker._setDateFromField(a),c.datepicker._updateAlternate(a),
c.datepicker._updateDatepicker(a))}catch(g){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=c("input",a.parentNode)[0]),!c.datepicker._isDisabledDatepicker(a)&&c.datepicker._lastInput!==a){var b,g,f,q;var k=c.datepicker._getInst(a);c.datepicker._curInst&&c.datepicker._curInst!==k&&(c.datepicker._curInst.dpDiv.stop(!0,!0),k&&c.datepicker._datepickerShowing&&c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));var l=(l=c.datepicker._get(k,"beforeShow"))?
l.apply(a,[a,k]):{};!1!==l&&(d(k.settings,l),k.lastVal=null,c.datepicker._lastInput=a,c.datepicker._setDateFromField(k),c.datepicker._inDialog&&(a.value=""),c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(a),c.datepicker._pos[1]+=a.offsetHeight),b=!1,c(a).parents().each(function(){return b|="fixed"===c(this).css("position"),!b}),g={left:c.datepicker._pos[0],top:c.datepicker._pos[1]},c.datepicker._pos=null,k.dpDiv.empty(),k.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
c.datepicker._updateDatepicker(k),g=c.datepicker._checkOffset(k,g,b),k.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":b?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),k.inline||(f=c.datepicker._get(k,"showAnim"),q=c.datepicker._get(k,"duration"),k.dpDiv.css("z-index",h(c(a))+1),c.datepicker._datepickerShowing=!0,c.effects&&c.effects.effect[f]?k.dpDiv.show(f,c.datepicker._get(k,"showOptions"),q):k.dpDiv[f||"show"](f?q:null),c.datepicker._shouldFocusInput(k)&&k.input.focus(),
c.datepicker._curInst=k))}},_updateDatepicker:function(b){this.maxRows=4;E=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);var e,g=this._getNumberOfMonths(b),d=g[1],f=b.dpDiv.find("."+this._dayOverClass+" a");0<f.length&&a.apply(f.get(0));b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<d&&b.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",17*d+"em");b.dpDiv[(1!==g[0]||1!==g[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===c.datepicker._curInst&&c.datepicker._datepickerShowing&&c.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(e=b.yearshtml,setTimeout(function(){e===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);e=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,
e,g){var b=a.dpDiv.outerWidth(),d=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,k=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(g?0:c(document).scrollLeft()),l=document.documentElement.clientHeight+(g?0:c(document).scrollTop());return e.left-=this._get(a,"isRTL")?b-f:0,e.left-=g&&e.left===a.input.offset().left?c(document).scrollLeft():0,e.top-=g&&e.top===a.input.offset().top+k?c(document).scrollTop():0,e.left-=Math.min(e.left,e.left+b>h&&h>b?Math.abs(e.left+b-h):
0),e.top-=Math.min(e.top,e.top+d>l&&l>d?Math.abs(d+k):0),e},_findPos:function(a){var b,g=this._getInst(a);for(g=this._get(g,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||c.expr.filters.hidden(a));)a=a[g?"previousSibling":"nextSibling"];return b=c(a).offset(),[b.left,b.top]},_hideDatepicker:function(a){var b,g,d,f,k=this._curInst;!k||a&&k!==c.data(a,"datepicker")||this._datepickerShowing&&(b=this._get(k,"showAnim"),g=this._get(k,"duration"),d=function(){c.datepicker._tidyDialog(k)},c.effects&&(c.effects.effect[b]||
c.effects[b])?k.dpDiv.hide(b,c.datepicker._get(k,"showOptions"),g,d):k.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?g:null,d),b||d(),this._datepickerShowing=!1,f=this._get(k,"onClose"),f&&f.apply(k.input?k.input[0]:null,[k.input?k.input.val():"",k]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(c.datepicker._curInst){a=c(a.target);var b=c.datepicker._getInst(a[0]);(!(a[0].id===c.datepicker._mainDivId||0!==a.parents("#"+c.datepicker._mainDivId).length||a.hasClass(c.datepicker.markerClassName)||a.closest("."+c.datepicker._triggerClass).length||!c.datepicker._datepickerShowing||c.datepicker._inDialog&&c.blockUI)||a.hasClass(c.datepicker.markerClassName)&&c.datepicker._curInst!==b)&&c.datepicker._hideDatepicker()}},_adjustDate:function(a,e,g){a=c(a);var b=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(b,e+("M"===g?this._get(b,"showCurrentAtPos"):0),g),this._updateDatepicker(b))},_gotoToday:function(a){var b;a=c(a);var g=this._getInst(a[0]);this._get(g,"gotoCurrent")&&g.currentDay?(g.selectedDay=g.currentDay,g.drawMonth=g.selectedMonth=g.currentMonth,g.drawYear=g.selectedYear=g.currentYear):(b=new Date,g.selectedDay=b.getDate(),g.drawMonth=g.selectedMonth=b.getMonth(),g.drawYear=g.selectedYear=b.getFullYear());this._notifyChange(g);
this._adjustDate(a)},_selectMonthYear:function(a,e,g){a=c(a);var b=this._getInst(a[0]);b["selected"+("M"===g?"Month":"Year")]=b["draw"+("M"===g?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10);this._notifyChange(b);this._adjustDate(a)},_selectDay:function(a,e,g,d){var b,f=c(a);c(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(b=this._getInst(f[0]),b.selectedDay=b.currentDay=c("a",d).html(),b.selectedMonth=b.currentMonth=e,b.selectedYear=b.currentYear=g,this._selectDate(a,
this._formatDate(b,b.currentDay,b.currentMonth,b.currentYear)))},_clearDate:function(a){a=c(a);this._selectDate(a,"")},_selectDate:function(a,e){a=c(a);var b=this._getInst(a[0]);e=null!=e?e:this._formatDate(b);b.input&&b.input.val(e);this._updateAlternate(b);(a=this._get(b,"onSelect"))?a.apply(b.input?b.input[0]:null,[e,b]):b.input&&b.input.trigger("change");b.inline?this._updateDatepicker(b):(this._hideDatepicker(),this._lastInput=b.input[0],"object"!=typeof b.input[0]&&b.input.focus(),this._lastInput=
null)},_updateAlternate:function(a){var b,g,d,f=this._get(a,"altField");f&&(b=this._get(a,"altFormat")||this._get(a,"dateFormat"),g=this._getDate(a),d=this.formatDate(b,g,this._getFormatConfig(a)),c(f).each(function(){c(this).val(d)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,e,
g){if(null==a||null==e)throw"Invalid arguments";if(e="object"==typeof e?""+e:e+"",""===e)return null;var b,d,f,k=0,h=(g?g.shortYearCutoff:null)||this._defaults.shortYearCutoff;h="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10);var l=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,r=(g?g.dayNames:null)||this._defaults.dayNames,t=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort;g=(g?g.monthNames:null)||this._defaults.monthNames;var n=-1,w=-1,v=-1,D=-1,E=!1,z=function(c){c=
a.length>b+1&&a.charAt(b+1)===c;return c&&b++,c},H=function(a){var b=z(a);b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=RegExp("^\\d{"+("y"===a?b:1)+","+b+"}");a=e.substring(k).match(a);if(!a)throw"Missing number at position "+k;return k+=a[0].length,parseInt(a[0],10)},C=function(a,b,g){var d=-1;a=c.map(z(a)?g:b,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(c.each(a,function(a,b){a=b[1];return e.substr(k,a.length).toLowerCase()===a.toLowerCase()?(d=b[0],
k+=a.length,!1):void 0}),-1!==d)return d+1;throw"Unknown name at position "+k;},R=function(){if(e.charAt(k)!==a.charAt(b))throw"Unexpected literal at position "+k;k++};for(b=0;a.length>b;b++)if(E)"'"!==a.charAt(b)||z("'")?R():E=!1;else switch(a.charAt(b)){case "d":v=H("d");break;case "D":C("D",l,r);break;case "o":D=H("o");break;case "m":w=H("m");break;case "M":w=C("M",t,g);break;case "y":n=H("y");break;case "@":var N=new Date(H("@"));n=N.getFullYear();w=N.getMonth()+1;v=N.getDate();break;case "!":N=
new Date((H("!")-this._ticksTo1970)/1E4);n=N.getFullYear();w=N.getMonth()+1;v=N.getDate();break;case "'":z("'")?R():E=!0;break;default:R()}if(e.length>k&&(f=e.substr(k),!/^\s+/.test(f)))throw"Extra/unparsed characters found in date: "+f;if(-1===n?n=(new Date).getFullYear():100>n&&(n+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=n?0:-100)),-1<D)for(w=1,v=D;!(d=this._getDaysInMonth(n,w-1),d>=v);)w++,v-=d;if(N=this._daylightSavingAdjust(new Date(n,w-1,v)),N.getFullYear()!==n||N.getMonth()+
1!==w||N.getDate()!==v)throw"Invalid date";return N},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,c,g){if(!c)return"";var b,e=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,d=(g?g.dayNames:null)||this._defaults.dayNames,f=(g?
g.monthNamesShort:null)||this._defaults.monthNamesShort;g=(g?g.monthNames:null)||this._defaults.monthNames;var k=function(c){c=a.length>b+1&&a.charAt(b+1)===c;return c&&b++,c},h=function(a,b,c){b=""+b;if(k(a))for(;c>b.length;)b="0"+b;return b},l=function(a,b,c,e){return k(a)?e[b]:c[b]},r="",n=!1;if(c)for(b=0;a.length>b;b++)if(n)"'"!==a.charAt(b)||k("'")?r+=a.charAt(b):n=!1;else switch(a.charAt(b)){case "d":r+=h("d",c.getDate(),2);break;case "D":r+=l("D",c.getDay(),e,d);break;case "o":r+=h("o",Math.round(((new Date(c.getFullYear(),
c.getMonth(),c.getDate())).getTime()-(new Date(c.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":r+=h("m",c.getMonth()+1,2);break;case "M":r+=l("M",c.getMonth(),f,g);break;case "y":r+=k("y")?c.getFullYear():(10>c.getYear()%100?"0":"")+c.getYear()%100;break;case "@":r+=c.getTime();break;case "!":r+=1E4*c.getTime()+this._ticksTo1970;break;case "'":k("'")?r+="'":n=!0;break;default:r+=a.charAt(b)}return r},_possibleChars:function(a){var b,c="",d=!1,f=function(c){c=a.length>b+1&&a.charAt(b+1)===
c;return c&&b++,c};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||f("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return void 0!==a.settings[c]?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,c){if(a.input.val()!==a.lastVal){var b=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,d=this._getDefaultDate(a),
f=d,k=this._getFormatConfig(a);try{f=this.parseDate(b,e,k)||d}catch(A){e=c?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,e,g){var b=function(a){var b=new Date;return b.setDate(b.getDate()+
a),b},d=function(b){try{return c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),b,c.datepicker._getFormatConfig(a))}catch(fa){}var e=(b.toLowerCase().match(/^c/)?c.datepicker._getDate(a):null)||new Date,g=e.getFullYear(),d=e.getMonth();e=e.getDate();for(var f=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,m=f.exec(b);m;){switch(m[2]||"d"){case "d":case "D":e+=parseInt(m[1],10);break;case "w":case "W":e+=7*parseInt(m[1],10);break;case "m":case "M":d+=parseInt(m[1],10);e=Math.min(e,c.datepicker._getDaysInMonth(g,
d));break;case "y":case "Y":g+=parseInt(m[1],10),e=Math.min(e,c.datepicker._getDaysInMonth(g,d))}m=f.exec(b)}return new Date(g,d,e)};e=null==e||""===e?g:"string"==typeof e?d(e):"number"==typeof e?isNaN(e)?g:b(e):new Date(e.getTime());return e=e&&"Invalid Date"==""+e?g:e,e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),this._daylightSavingAdjust(e)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,c,g){var b=
!c,e=a.selectedMonth,d=a.selectedYear;c=this._restrictMinMax(a,this._determineDate(a,c,new Date));a.selectedDay=a.currentDay=c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=c.getFullYear();e===a.selectedMonth&&d===a.selectedYear||g||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(b?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),g="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){c(this).bind(this.getAttribute("data-event"),{prev:function(){c.datepicker._adjustDate(g,-b,"M")},next:function(){c.datepicker._adjustDate(g,+b,"M")},hide:function(){c.datepicker._hideDatepicker()},today:function(){c.datepicker._gotoToday(g)},selectDay:function(){return c.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this),!1},selectMonth:function(){return c.datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return c.datepicker._selectMonthYear(g,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,f,k,h,l,r=new Date;r=this._daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()));var n=this._get(a,"isRTL");var t=this._get(a,"showButtonPanel");var w=this._get(a,"hideIfNoPrevNext");var v=this._get(a,"navigationAsDateFormat");var E=this._getNumberOfMonths(a),
D=this._get(a,"showCurrentAtPos");var z=this._get(a,"stepMonths");var H=1!==E[0]||1!==E[1],C=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Y=this._getMinMaxDate(a,"min"),R=this._getMinMaxDate(a,"max");D=a.drawMonth-D;var N=a.drawYear;if(0>D&&(D+=12,N--),R){var B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth()-E[0]*E[1]+1,R.getDate()));for(B=Y&&Y>B?Y:B;this._daylightSavingAdjust(new Date(N,D,1))>B;)D--,0>D&&(D=11,N--)}a.drawMonth=
D;a.drawYear=N;B=this._get(a,"prevText");B=v?this.formatDate(B,this._daylightSavingAdjust(new Date(N,D-z,1)),this._getFormatConfig(a)):B;B=this._canAdjustMonth(a,-1,N,D)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+B+"'><span class='ui-icon ui-icon-circle-triangle-"+(n?"e":"w")+"'>"+B+"</span></a>":w?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+B+"'><span class='ui-icon ui-icon-circle-triangle-"+(n?"e":"w")+"'>"+B+"</span></a>";
var K=this._get(a,"nextText");K=v?this.formatDate(K,this._daylightSavingAdjust(new Date(N,D+z,1)),this._getFormatConfig(a)):K;w=this._canAdjustMonth(a,1,N,D)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+K+"'><span class='ui-icon ui-icon-circle-triangle-"+(n?"w":"e")+"'>"+K+"</span></a>":w?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+K+"'><span class='ui-icon ui-icon-circle-triangle-"+(n?"w":"e")+"'>"+K+"</span></a>";z=this._get(a,
"currentText");K=this._get(a,"gotoCurrent")&&a.currentDay?C:r;z=v?this.formatDate(z,K,this._getFormatConfig(a)):z;v=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";t=t?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(n?v:"")+(this._isInRange(a,K)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
z+"</button>":"")+(n?"":v)+"</div>":"";v=parseInt(this._get(a,"firstDay"),10);v=isNaN(v)?0:v;z=this._get(a,"showWeek");K=this._get(a,"dayNames");var L=this._get(a,"dayNamesMin");var va=this._get(a,"monthNames");var Fa=this._get(a,"monthNamesShort");var Ca=this._get(a,"beforeShowDay");var qa=this._get(a,"showOtherMonths");var W=this._get(a,"selectOtherMonths");var Ba=this._getDefaultDate(a);var la="";for(c=0;E[0]>c;c++){var ca="";this.maxRows=4;for(d=0;E[1]>d;d++){if(f=this._daylightSavingAdjust(new Date(N,
D,a.selectedDay)),b=" ui-corner-all",k="",H){if(k+="<div class='ui-datepicker-group",1<E[1])switch(d){case 0:k+=" ui-datepicker-group-first";b=" ui-corner-"+(n?"right":"left");break;case E[1]-1:k+=" ui-datepicker-group-last";b=" ui-corner-"+(n?"left":"right");break;default:k+=" ui-datepicker-group-middle",b=""}k+="'>"}k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+b+"'>"+(/all|left/.test(b)&&0===c?n?w:B:"")+(/all|right/.test(b)&&0===c?n?B:w:"")+this._generateMonthYearHeader(a,
D,N,Y,R,0<c||0<d,va,Fa)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var ha=z?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(b=0;7>b;b++){var U=(b+v)%7;ha+="<th scope='col'"+(5<=(b+v+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+K[U]+"'>"+L[U]+"</span></th>"}k+=ha+"</tr></thead><tbody>";ha=this._getDaysInMonth(N,D);N===a.selectedYear&&D===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,ha));b=(this._getFirstDayOfMonth(N,D)-v+7)%7;ha=
Math.ceil((b+ha)/7);this.maxRows=ha=H?this.maxRows>ha?this.maxRows:ha:ha;U=this._daylightSavingAdjust(new Date(N,D,1-b));for(h=0;ha>h;h++){k+="<tr>";var wa=z?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(U)+"</td>":"";for(b=0;7>b;b++){var I=Ca?Ca.apply(a.input?a.input[0]:null,[U]):[!0,""];var p=(l=U.getMonth()!==D)&&!W||!I[0]||Y&&Y>U||R&&U>R;wa+="<td class='"+(5<=(b+v+6)%7?" ui-datepicker-week-end":"")+(l?" ui-datepicker-other-month":"")+(U.getTime()===f.getTime()&&D===a.selectedMonth&&
a._keyEvent||Ba.getTime()===U.getTime()&&Ba.getTime()===f.getTime()?" "+this._dayOverClass:"")+(p?" "+this._unselectableClass+" ui-state-disabled":"")+(l&&!qa?"":" "+I[1]+(U.getTime()===C.getTime()?" "+this._currentClass:"")+(U.getTime()===r.getTime()?" ui-datepicker-today":""))+"'"+(l&&!qa||!I[2]?"":" title='"+I[2].replace(/'/g,"&#39;")+"'")+(p?"":" data-handler='selectDay' data-event='click' data-month='"+U.getMonth()+"' data-year='"+U.getFullYear()+"'")+">"+(l&&!qa?"&#xa0;":p?"<span class='ui-state-default'>"+
U.getDate()+"</span>":"<a class='ui-state-default"+(U.getTime()===r.getTime()?" ui-state-highlight":"")+(U.getTime()===C.getTime()?" ui-state-active":"")+(l?" ui-priority-secondary":"")+"' href='#'>"+U.getDate()+"</a>")+"</td>";U.setDate(U.getDate()+1);U=this._daylightSavingAdjust(U)}k+=wa+"</tr>"}D++;11<D&&(D=0,N++);k+="</tbody></table>"+(H?"</div>"+(0<E[0]&&d===E[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");ca+=k}la+=ca}return la+=t,a._keyEvent=!1,la},_generateMonthYearHeader:function(a,
c,d,f,k,h,l,r){var b,e=this._get(a,"changeMonth"),g=this._get(a,"changeYear"),m=this._get(a,"showMonthAfterYear"),q="<div class='ui-datepicker-title'>",y="";if(h||!e)y+="<span class='ui-datepicker-month'>"+l[c]+"</span>";else{l=f&&f.getFullYear()===d;var n=k&&k.getFullYear()===d;y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(b=0;12>b;b++)(!l||b>=f.getMonth())&&(!n||k.getMonth()>=b)&&(y+="<option value='"+b+"'"+(b===c?" selected='selected'":"")+">"+r[b]+
"</option>");y+="</select>"}if(m||(q+=y+(!h&&e&&g?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",h||!g)q+="<span class='ui-datepicker-year'>"+d+"</span>";else{r=this._get(a,"yearRange").split(":");var t=(new Date).getFullYear();l=function(a){a=a.match(/c[+\-].*/)?d+parseInt(a.substring(1),10):a.match(/[+\-].*/)?t+parseInt(a,10):parseInt(a,10);return isNaN(a)?t:a};c=l(r[0]);r=Math.max(c,l(r[1]||""));c=f?Math.max(c,f.getFullYear()):c;r=k?Math.min(r,k.getFullYear()):r;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";r>=
c;c++)a.yearshtml+="<option value='"+c+"'"+(c===d?" selected='selected'":"")+">"+c+"</option>";a.yearshtml+="</select>";q+=a.yearshtml;a.yearshtml=null}return q+=this._get(a,"yearSuffix"),m&&(q+=(!h&&e&&g?"":"&#xa0;")+y),q+="</div>"},_adjustInstDate:function(a,c,d){var b=a.drawYear+("Y"===d?c:0),e=a.drawMonth+("M"===d?c:0);c=Math.min(a.selectedDay,this._getDaysInMonth(b,e))+("D"===d?c:0);b=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(b,e,c)));a.selectedDay=b.getDate();a.drawMonth=a.selectedMonth=
b.getMonth();a.drawYear=a.selectedYear=b.getFullYear();"M"!==d&&"Y"!==d||this._notifyChange(a)},_restrictMinMax:function(a,c){var b=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");c=b&&b>c?b:c;return a&&c>a?a:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,
c){return this._determineDate(a,this._get(a,c+"Date"),null)},_getDaysInMonth:function(a,c){return 32-this._daylightSavingAdjust(new Date(a,c,32)).getDate()},_getFirstDayOfMonth:function(a,c){return(new Date(a,c,1)).getDay()},_canAdjustMonth:function(a,c,d,f){var b=this._getNumberOfMonths(a);d=this._daylightSavingAdjust(new Date(d,f+(0>c?c:b[0]*b[1]),1));return 0>c&&d.setDate(this._getDaysInMonth(d.getFullYear(),d.getMonth())),this._isInRange(a,d)},_isInRange:function(a,c){var b,e,d=this._getMinMaxDate(a,
"min"),f=this._getMinMaxDate(a,"max"),k=null,h=null;a=this._get(a,"yearRange");return a&&(b=a.split(":"),e=(new Date).getFullYear(),k=parseInt(b[0],10),h=parseInt(b[1],10),b[0].match(/[+\-].*/)&&(k+=e),b[1].match(/[+\-].*/)&&(h+=e)),(!d||c.getTime()>=d.getTime())&&(!f||c.getTime()<=f.getTime())&&(!k||c.getFullYear()>=k)&&(!h||h>=c.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,
dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,c,d,f){c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);c=c?"object"==typeof c?c:this._daylightSavingAdjust(new Date(f,d,c)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),c,this._getFormatConfig(a))}});
c.fn.datepicker=function(a){if(!this.length)return this;c.datepicker.initialized||(c(document).mousedown(c.datepicker._checkExternalClick),c.datepicker.initialized=!0);0===c("#"+c.datepicker._mainDivId).length&&c("body").append(c.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this[0]].concat(b)):
this.each(function(){"string"==typeof a?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this].concat(b)):c.datepicker._attachDatepicker(this,a)}):c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this[0]].concat(b))};c.datepicker=new l;c.datepicker.initialized=!1;c.datepicker.uuid=(new Date).getTime();c.datepicker.version="1.11.3";c.datepicker;c.widget("ui.dialog",{version:"1.11.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,
hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=c(this).css(a).offset().top;0>b&&c(this).css("top",a.top-b)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,
width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||
this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&c.fn.draggable&&this._makeDraggable();this.options.resizable&&c.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?c(a):
this.document.find(a||"body").eq(0)},_destroy:function(){var a=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);var c=a.parent.children().eq(a.index);c.length&&c[0]!==this.element[0]?c.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},disable:c.noop,
enable:c.noop,close:function(a){var b,d=this;if(this._isOpen&&!1!==this._trigger("beforeClose",a)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(b=this.document[0].activeElement)&&"body"!==b.nodeName.toLowerCase()&&c(b).blur()}catch(m){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,
e){var b=!1,d=this.uiDialog.siblings(".ui-front:visible").map(function(){return+c(this).css("z-index")}).get();d=Math.max.apply(null,d);return d>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",d+1),b=!0),b&&!e&&this._trigger("focus",a),b},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=c(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&
this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable();a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},
_keepFocus:function(a){function b(){var a=this.document[0].activeElement;this.uiDialog[0]===a||c.contains(this.uiDialog[0],a)||this._focusTabbable()}a.preventDefault();b.call(this);this._delay(b)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&
a.keyCode&&a.keyCode===c.ui.keyCode.ESCAPE)return a.preventDefault(),this.close(a),void 0;if(a.keyCode===c.ui.keyCode.TAB&&!a.isDefaultPrevented()){var b=this.uiDialog.find(":tabbable"),d=b.filter(":first"),f=b.filter(":last");a.target!==f[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==d[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){f.focus()}),a.preventDefault()):(this._delay(function(){d.focus()}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});
this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(a){c(a.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=c("<button type='button'></button>").button({label:this.options.closeText,
icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});var a=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(a);this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=
c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var a=this,e=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),c.isEmptyObject(e)||c.isArray(e)&&!e.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(c.each(e,function(b,e){e=c.isFunction(e)?{click:e,text:b}:e;e=c.extend({type:"button"},
e);var d=e.click;e.click=function(){d.apply(a.element[0],arguments)};b={icons:e.icons,text:e.showText};delete e.icons;delete e.showText;c("<button></button>",e).button(b).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var e=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",
containment:"document",start:function(b,d){c(this).addClass("ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",b,a(d))},drag:function(b,c){e._trigger("drag",b,a(c))},stop:function(b,g){var f=g.offset.left-e.document.scrollLeft(),m=g.offset.top-e.document.scrollTop();d.position={my:"left top",at:"left"+(0<=f?"+":"")+f+" top"+(0<=m?"+":"")+m,of:e.window};c(this).removeClass("ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",b,a(g))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,
originalSize:a.originalSize,position:a.position,size:a.size}}var e=this,d=this.options,f=d.resizable,k=this.uiDialog.css("position");f="string"==typeof f?f:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:f,start:function(b,d){c(this).addClass("ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",b,a(d))},resize:function(b,
c){e._trigger("resize",b,a(c))},stop:function(b,g){var f=e.uiDialog.offset(),m=f.left-e.document.scrollLeft();f=f.top-e.document.scrollTop();d.height=e.uiDialog.height();d.width=e.uiDialog.width();d.position={my:"left top",at:"left"+(0<=m?"+":"")+m+" top"+(0<=f?"+":"")+f,of:e.window};c(this).removeClass("ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",b,a(g))}}).css("position",k)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget();this._focusedElement=
c(a.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),e=c.inArray(this,a);-1!==e&&a.splice(e,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");
a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(a){var b=this,d=!1,f={};c.each(a,function(a,c){b._setOption(a,c);a in b.sizeRelatedOptions&&(d=!0);a in b.resizableRelatedOptions&&(f[a]=c)});d&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(a,c){var b,e,d=this.uiDialog;"dialogClass"===a&&d.removeClass(this.options.dialogClass).addClass(c);"disabled"!==
a&&(this._super(a,c),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===a&&(b=d.is(":data(ui-draggable)"),b&&!c&&d.draggable("destroy"),!b&&c&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(e=d.is(":data(ui-resizable)"),e&&!c&&d.resizable("destroy"),e&&"string"==typeof c&&d.resizable("option","handles",c),e||!1===c||this._makeResizable()),"title"===a&&
this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});a.minWidth>a.width&&(a.width=a.minWidth);var c=this.uiDialog.css({height:"auto",width:a.width}).outerHeight();var d=Math.max(0,a.minHeight-c);var f="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-c):"none";"auto"===a.height?this.element.css({minHeight:d,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,a.height-
c));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=c(this);return c("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return c(a.target).closest(".ui-dialog").length?
!0:!!c(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",
(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});c.widget("ui.progressbar",{version:"1.11.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar",
"aria-valuemin":this.min});this.valueDiv=c("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),
void 0)},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,c){"max"===a&&(c=Math.max(this.min,c));"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c);this._super(a,
c)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(e.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=c("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):
(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==a&&(this.oldValue=a,this._trigger("change"));a===this.options.max&&this._trigger("complete")}});c.widget("ui.selectmenu",{version:"1.11.3",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,
select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var a=this;this.label=c("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=c("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);c("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=c("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",
function(){a.menuItems||a._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=c("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=c("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(b,c){b.preventDefault();a._setSelection();a._select(c.item.data("ui-selectmenu-item"),b)},focus:function(b,
c){c=c.item.data("ui-selectmenu-item");null!=a.focusIndex&&c.index!==a.focusIndex&&(a._trigger("focus",b,{item:c}),a.isOpen||a._select(c,b));a.focusIndex=c.index;a.button.attr("aria-activedescendant",a.menuItems.eq(c.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();
this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,c=this.element.find("option");c.length&&(this._parseOptions(c),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},
open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(c.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=
null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,e){var b=this,d="";c.each(e,function(e,g){g.optgroup!==d&&(c("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(g.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:g.optgroup}).appendTo(a),d=g.optgroup);b._renderItemData(a,g)})},_renderItemData:function(a,c){return this._renderItem(a,c).data("ui-selectmenu-item",
c)},_renderItem:function(a,e){var b=c("<li>");return e.disabled&&b.addClass("ui-state-disabled"),this._setText(b,e.label),b.appendTo(a)},_setText:function(a,c){c?a.text(c):a.html("&#160;")},_move:function(a,c){var b,e=".ui-menu-item";this.isOpen?b=this.menuItems.eq(this.focusIndex):(b=this.menuItems.eq(this.element[0].selectedIndex),e+=":not(.ui-state-disabled)");a="first"===a||"last"===a?b["first"===a?"prevAll":"nextAll"](e).eq(-1):b[a+"All"](e).eq(0);a.length&&this.menuInstance.focus(c,a)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},
_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(a){this.isOpen&&(c(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):
this.range=document.selection.createRange()},click:function(a){this._setSelection();this._toggle(a)},keydown:function(a){var b=!0;switch(a.keyCode){case c.ui.keyCode.TAB:case c.ui.keyCode.ESCAPE:this.close(a);b=!1;break;case c.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case c.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case c.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case c.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):
this._toggle(a);break;case c.ui.keyCode.LEFT:this._move("prev",a);break;case c.ui.keyCode.RIGHT:this._move("next",a);break;case c.ui.keyCode.HOME:case c.ui.keyCode.PAGE_UP:this._move("first",a);break;case c.ui.keyCode.END:case c.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),b=!1}b&&a.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,
c){var b=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this._setText(this.buttonText,a.label);this._setAria(a);this._trigger("select",c,{item:a});a.index!==b&&this._trigger("change",c,{item:a});this.close(c)},_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",a)},_setOption:function(a,c){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(c.button);
this._super(a,c);"appendTo"===a&&this.menuWrap.appendTo(this._appendTo());"disabled"===a&&(this.menuInstance.option("disabled",c),this.button.toggleClass("ui-state-disabled",c).attr("aria-disabled",c),this.element.prop("disabled",c),c?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));"width"===a&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?c(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),
a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide());this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),
this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var b=[];a.each(function(a,e){e=c(e);var d=e.parent("optgroup");b.push({element:e,index:a,value:e.val(),label:e.text(),optgroup:d.attr("label")||"",disabled:d.prop("disabled")||e.prop("disabled")})});this.items=b},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});
c.widget("ui.slider",c.ui.mouse,{version:"1.11.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");
this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var a=this.options;var e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),d=[];var f=a.values&&a.values.length||1;e.length>f&&(e.slice(f).remove(),e=e.slice(0,f));for(a=e.length;f>a;a++)d.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");
this.handles=e.add(c(d.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){c(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,e="";a.range?(!0===a.range&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:c.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=c("<div></div>").appendTo(this.element),e="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(e+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(a){var b,d,f,k,h,l,r,n,t=this,w=this.options;return w.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},d=this._normValueFromMouse(b),f=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var b=Math.abs(d-t.values(a));(f>b||f===b&&(a===t._lastChangedValue||t.values(a)===w.min))&&(f=b,k=c(this),h=a)}),l=this._start(a,h),!1===l?!1:
(this._mouseSliding=!0,this._handleIndex=h,k.addClass("ui-state-active").focus(),r=k.offset(),n=!c(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=n?{left:0,top:0}:{left:a.pageX-r.left-k.width()/2,top:a.pageY-r.top-k.height()/2-(parseInt(k.css("borderTopWidth"),10)||0)-(parseInt(k.css("borderBottomWidth"),10)||0)+(parseInt(k.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,h,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,f,k;return"horizontal"===
this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,1<d&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),f=this._valueMax()-this._valueMin(),k=this._valueMin()+d*f,this._trimAlignValue(k)},_start:function(a,c){var b={handle:this.handles[c],value:this.value()};return this.options.values&&this.options.values.length&&(b.value=
this.values(c),b.values=this.values()),this._trigger("start",a,b)},_slide:function(a,c,d){var b,e,g;this.options.values&&this.options.values.length?(b=this.values(c?0:1),2===this.options.values.length&&!0===this.options.range&&(0===c&&d>b||1===c&&b>d)&&(d=b),d!==this.values(c)&&(e=this.values(),e[c]=d,g=this._trigger("slide",a,{handle:this.handles[c],value:d,values:e}),this.values(c?0:1),!1!==g&&this.values(c,d))):d!==this.value()&&(g=this._trigger("slide",a,{handle:this.handles[c],value:d}),!1!==
g&&this.value(d))},_stop:function(a,c){var b={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(c),b.values=this.values());this._trigger("stop",a,b)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(c),b.values=this.values());this._lastChangedValue=c;this._trigger("change",a,b)}},value:function(a){return arguments.length?
(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,e){var b;if(1<arguments.length)return this.options.values[a]=this._trimAlignValue(e),this._refreshValue(),this._change(null,a),void 0;if(!arguments.length)return this._values();if(!c.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();var d=this.options.values;var f=arguments[0];for(b=0;d.length>b;b+=1)d[b]=this._trimAlignValue(f[b]),
this._change(null,b);this._refreshValue()},_setOption:function(a,e){var b=0;switch("range"===a&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(b=this.options.values.length),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!e),this._super(a,e),a){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();this.handles.css("horizontal"===e?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(a=0;b>a;a+=1)this._change(null,a);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=
!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var b,c;if(arguments.length)return b=this.options.values[a],this._trimAlignValue(b);if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(c=0;b.length>c;c+=1)b[c]=this._trimAlignValue(b[c]);return b}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,
c=(a-this._valueMin())%b;a-=c;return 2*Math.abs(c)>=b&&(a+=0<c?b:-b),parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,c=this._valueMin(),d=this.options.step;a=Math.floor((a-c)/d)*d+c;this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=""+a;var b=a.indexOf(".");return-1===b?0:a.length-b-1},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.max},_refreshValue:function(){var a,e,d,f,k,h=this.options.range,l=this.options,r=this,n=this._animateOff?!1:l.animate,t={};this.options.values&&this.options.values.length?this.handles.each(function(b){e=100*((r.values(b)-r._valueMin())/(r._valueMax()-r._valueMin()));t["horizontal"===r.orientation?"left":"bottom"]=e+"%";c(this).stop(1,1)[n?"animate":"css"](t,l.animate);!0===r.options.range&&("horizontal"===r.orientation?(0===b&&r.range.stop(1,1)[n?"animate":"css"]({left:e+
"%"},l.animate),1===b&&r.range[n?"animate":"css"]({width:e-a+"%"},{queue:!1,duration:l.animate})):(0===b&&r.range.stop(1,1)[n?"animate":"css"]({bottom:e+"%"},l.animate),1===b&&r.range[n?"animate":"css"]({height:e-a+"%"},{queue:!1,duration:l.animate})));a=e}):(d=this.value(),f=this._valueMin(),k=this._valueMax(),e=k!==f?(d-f)/(k-f)*100:0,t["horizontal"===this.orientation?"left":"bottom"]=e+"%",this.handle.stop(1,1)[n?"animate":"css"](t,l.animate),"min"===h&&"horizontal"===this.orientation&&this.range.stop(1,
1)[n?"animate":"css"]({width:e+"%"},l.animate),"max"===h&&"horizontal"===this.orientation&&this.range[n?"animate":"css"]({width:100-e+"%"},{queue:!1,duration:l.animate}),"min"===h&&"vertical"===this.orientation&&this.range.stop(1,1)[n?"animate":"css"]({height:e+"%"},l.animate),"max"===h&&"vertical"===this.orientation&&this.range[n?"animate":"css"]({height:100-e+"%"},{queue:!1,duration:l.animate}))},_handleEvents:{keydown:function(a){var b,d,f,k=c(a.target).data("ui-slider-handle-index");switch(a.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(a.preventDefault(),
!this._keySliding&&(this._keySliding=!0,c(a.target).addClass("ui-state-active"),b=this._start(a,k),!1===b))return}switch(f=this.options.step,b=d=this.options.values&&this.options.values.length?this.values(k):this.value(),a.keyCode){case c.ui.keyCode.HOME:d=this._valueMin();break;case c.ui.keyCode.END:d=this._valueMax();break;case c.ui.keyCode.PAGE_UP:d=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(b-(this._valueMax()-
this._valueMin())/this.numPages);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(b===this._valueMax())return;d=this._trimAlignValue(b+f);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(b===this._valueMin())return;d=this._trimAlignValue(b-f)}this._slide(a,k,d)},keyup:function(a){var b=c(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),c(a.target).removeClass("ui-state-active"))}}});c.widget("ui.spinner",{version:"1.11.3",
defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,
{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},e=this.element;return c.each(["min","max","step"],function(b,c){b=e.attr(c);void 0!==b&&b.length&&(a[c]=b)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&
this._trigger("change",a),void 0)},mousewheel:function(a,c){if(c){if(!this.spinning&&!this._start(a))return!1;this._spin((0<c?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function b(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d=this.element[0]===this.document[0].activeElement?
this.previous:this.element.val();a.preventDefault();b.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;b.call(this)});!1!==this._start(a)&&this._repeat(null,c(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return c(a.currentTarget).hasClass("ui-state-active")?!1===this._start(a)?!1:(this._repeat(null,c(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},
_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(a){var b=this.options,d=c.ui.keyCode;switch(a.keyCode){case d.UP:return this._repeat(null,
1,a),!0;case d.DOWN:return this._repeat(null,-1,a),!0;case d.PAGE_UP:return this._repeat(null,b.page,a),!0;case d.PAGE_DOWN:return this._repeat(null,-b.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+
this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||!1!==this._trigger("start",a)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,c,d){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,d)},a);this._spin(c*this.options.step,d)},_spin:function(a,c){var b=this.value()||0;this.counter||(this.counter=1);b=this._adjustValue(b+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",c,{value:b})||
(this._value(b),this.counter++)},_increment:function(a){var b=this.options.incremental;return b?c.isFunction(b)?b(a):Math.floor(a*a*a/5E4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=""+a;var b=a.indexOf(".");return-1===b?0:a.length-b-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*
d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&d.min>a?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,c){if("culture"===a||"numberFormat"===a){var b=this._parse(this.element.val());return this.options[a]=c,this.element.val(this._format(b)),void 0}"max"!==a&&"min"!==a&&"step"!==a||"string"!=typeof c||(c=this._parse(c));
"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(c.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(c.down));this._super(a,c);"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!c),this.element.prop("disabled",!!c),this.buttons.button(c?"disable":"enable"))},_setOptions:k(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,
10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,c){var b;""!==a&&(b=this._parse(a),null!==
b&&(c||(b=this._adjustValue(b)),a=this._format(b)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:k(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:k(function(a){this._stepDown(a)}),
_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:k(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:k(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(k(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});c.widget("ui.tabs",{version:"1.11.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,
show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){b=b.cloneNode(!1);var c=b.href.replace(a,"");var e=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(q){}try{e=decodeURIComponent(e)}catch(q){}return 1<b.hash.length&&c===e}}(),_create:function(){var a=this,e=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible);this._processTabs();
e.active=this._initialActive();c.isArray(e.disabled)&&(e.disabled=c.unique(e.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(e.active):c();this._refresh();this.active.length&&this.load(e.active)},_initialActive:function(){var a=this.options.active,e=this.options.collapsible,d=location.hash.substring(1);return null===a&&(d&&this.tabs.each(function(b,e){return c(e).attr("aria-controls")===
d?(a=b,!1):void 0}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),!1!==a&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=e?!1:0)),!e&&!1===a&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(a){var b=c(this.document[0].activeElement).closest("li"),d=this.tabs.index(b),f=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:d++;
break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:f=!1;d--;break;case c.ui.keyCode.END:d=this.anchors.length-1;break;case c.ui.keyCode.HOME:d=0;break;case c.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),this._activate(d),void 0;case c.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),this._activate(d===this.options.active?!1:d),void 0;default:return}a.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,f);a.ctrlKey||a.metaKey||(b.attr("aria-selected",
"false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===c.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===c.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===c.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+
1,!0)),!0):void 0},_findNextTab:function(a,e){for(var b=this.tabs.length-1;-1!==c.inArray((a>b&&(a=0),0>a&&(a=b),a),this.options.disabled);)a=e?a+1:a-1;return a},_focusNextTab:function(a,c){return a=this._findNextTab(a,c),this.tabs.eq(a).focus(),a},_setOption:function(a,c){return"active"===a?(this._activate(c),void 0):"disabled"===a?(this._setupDisabled(c),void 0):(this._super(a,c),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",c),c||!1!==this.options.active||this._activate(0)),
"event"===a&&this._setupEvents(c),"heightStyle"===a&&this._setupHeightStyle(c),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,d=this.tablist.children(":has(a[href])");a.disabled=c.map(d.filter(".ui-state-disabled"),function(a){return d.index(a)});this._processTabs();!1!==a.active&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?
(a.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=c());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});
this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this,d=this.tabs,f=this.anchors,m=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,
function(a){c(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(b,d){var e,
f,g,m=c(d).uniqueId().attr("id"),k=c(d).closest("li"),q=k.attr("aria-controls");a._isLocal(d)?(e=d.hash,g=e.substring(1),f=a.element.find(a._sanitizeSelector(e))):(g=k.attr("aria-controls")||c({}).uniqueId()[0].id,e="#"+g,f=a.element.find(e),f.length||(f=a._createPanel(g),f.insertAfter(a.panels[b-1]||a.tablist)),f.attr("aria-live","polite"));f.length&&(a.panels=a.panels.add(f));q&&k.data("ui-tabs-aria-controls",q);k.attr({"aria-controls":g,"aria-labelledby":m});f.attr("aria-labelledby",m)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel");d&&(this._off(d.not(this.tabs)),this._off(f.not(this.anchors)),this._off(m.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return c("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){c.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var b,d=0;b=this.tabs[d];d++)!0===a||-1!==c.inArray(d,a)?c(b).addClass("ui-state-disabled").attr("aria-disabled",
"true"):c(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={};a&&c.each(a.split(" "),function(a,c){b[c]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,b);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,
d=this.element.parent();"fill"===a?(b=d.height(),b-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=c(this),d=a.css("position");"absolute"!==d&&"fixed"!==d&&(b-=a.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,
c(this).height("").height())}).height(b))},_eventHandler:function(a){var b=this.options,d=this.active,f=c(a.currentTarget).closest("li"),k=f[0]===d[0],h=k&&b.collapsible,l=h?c():this._getPanelForTab(f),r=d.length?this._getPanelForTab(d):c();d={oldTab:d,oldPanel:r,newTab:h?c():f,newPanel:l};a.preventDefault();f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||k&&!b.collapsible||!1===this._trigger("beforeActivate",a,d)||(b.active=h?!1:this.tabs.index(f),this.active=k?c():
f,this.xhr&&this.xhr.abort(),r.length||l.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(f),a),this._toggle(a,d))},_toggle:function(a,d){function b(){f.running=!1;f._trigger("activate",a,d)}function e(){d.newTab.closest("li").addClass("ui-tabs-active ui-state-active");k.length&&f.options.show?f._show(k,f.options.show,b):(k.show(),b())}var f=this,k=d.newPanel,h=d.oldPanel;this.running=!0;h.length&&this.options.hide?this._hide(h,this.options.hide,
function(){d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");e()}):(d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e());h.attr("aria-hidden","true");d.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});k.length&&h.length?d.oldTab.attr("tabIndex",-1):k.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);k.attr("aria-hidden","false");d.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},
_activate:function(a){var b;a=this._findActive(a);a[0]!==this.active[0]&&(a.length||(a=this.active),b=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:c.noop}))},_findActive:function(a){return!1===a?c():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");
this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});
this.tabs.each(function(){var a=c(this),d=a.data("ui-tabs-aria-controls");d?a.attr("aria-controls",d).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;!1!==b&&(void 0===a?b=!1:(a=this._getIndex(a),b=c.isArray(b)?c.map(b,function(b){return b!==a?b:null}):c.map(this.tabs,function(b,c){return c!==a?c:null})),this._setupDisabled(b))},disable:function(a){var b=
this.options.disabled;if(!0!==b){if(void 0===a)b=!0;else{if(a=this._getIndex(a),-1!==c.inArray(a,b))return;b=c.isArray(b)?c.merge([a],b).sort():[a]}this._setupDisabled(b)}},load:function(a,d){a=this._getIndex(a);var b=this,e=this.tabs.eq(a);a=e.find(".ui-tabs-anchor");var f=this._getPanelForTab(e),k={tab:e,panel:f};this._isLocal(a[0])||(this.xhr=c.ajax(this._ajaxSettings(a,d,k)),this.xhr&&"canceled"!==this.xhr.statusText&&(e.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){f.html(a);
b._trigger("load",d,k)},1)}).complete(function(a,c){setTimeout(function(){"abort"===c&&b.panels.stop(!1,!0);e.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");a===b.xhr&&delete b.xhr},1)})))},_ajaxSettings:function(a,d,f){var b=this;return{url:a.attr("href"),beforeSend:function(a,e){return b._trigger("beforeLoad",d,c.extend({jqXHR:a,ajaxSettings:e},f))}}},_getPanelForTab:function(a){a=c(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}});c.widget("ui.tooltip",
{version:"1.11.3",options:{content:function(){var a=c(this).attr("title")||"";return c("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(a,d){var b=(a.attr("aria-describedby")||"").split(/\s+/);b.push(d);a.data("ui-tooltip-id",d).attr("aria-describedby",c.trim(b.join(" ")))},_removeDescribedBy:function(a){var b=a.data("ui-tooltip-id"),
d=(a.attr("aria-describedby")||"").split(/\s+/);b=c.inArray(b,d);-1!==b&&d.splice(b,1);a.removeData("ui-tooltip-id");(d=c.trim(d.join(" ")))?a.attr("aria-describedby",d):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=c("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(a,d){var b=this;return"disabled"===a?(this[d?"_disable":"_enable"](),this.options[a]=d,void 0):(this._super(a,d),"content"===a&&c.each(this.tooltips,function(a,c){b._updateContent(c.element)}),void 0)},_disable:function(){var a=this;c.each(this.tooltips,function(b,d){b=c.Event("blur");b.target=b.currentTarget=d.element[0];a.close(b,!0)});this.element.find(this.options.items).addBack().each(function(){var a=c(this);a.is("[title]")&&a.data("ui-tooltip-title",a.attr("title")).removeAttr("title")})},
_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=c(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var b=this,d=c(a?a.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&d.parents().each(function(){var a,d=c(this);d.data("ui-tooltip-open")&&(a=c.Event("blur"),a.target=
a.currentTarget=this,b.close(a,!0));d.attr("title")&&(d.uniqueId(),b.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._updateContent(d,a))},_updateContent:function(a,c){var b,d=this.options.content,e=this,f=c?c.type:null;return"string"==typeof d?this._open(c,a,d):(b=d.call(a[0],function(b){a.data("ui-tooltip-open")&&e._delay(function(){c&&(c.type=f);this._open(c,a,b)})}),b&&this._open(c,a,b),void 0)},_open:function(a,d,f){function b(a){h.of=a;l.is(":hidden")||l.position(h)}
var e,g,k,h=c.extend({},this.options.position);if(f){if(e=this._find(d))return e.tooltip.find(".ui-tooltip-content").html(f),void 0;d.is("[title]")&&(a&&"mouseover"===a.type?d.attr("title",""):d.removeAttr("title"));e=this._tooltip(d);var l=e.tooltip;this._addDescribedBy(d,l.attr("id"));l.find(".ui-tooltip-content").html(f);this.liveRegion.children().hide();f.clone?(k=f.clone(),k.removeAttr("id").find("[id]").removeAttr("id")):k=f;c("<div>").html(k).appendTo(this.liveRegion);this.options.track&&a&&
/^mouse/.test(a.type)?(this._on(this.document,{mousemove:b}),b(a)):l.position(c.extend({of:d},this.options.position));l.hide();this._show(l,this.options.show);this.options.show&&this.options.show.delay&&(g=this.delayedShow=setInterval(function(){l.is(":visible")&&(b(h.of),clearInterval(g))},c.fx.interval));this._trigger("open",a,{tooltip:l});f={keyup:function(a){a.keyCode===c.ui.keyCode.ESCAPE&&(a=c.Event(a),a.currentTarget=d[0],this.close(a,!0))}};d[0]!==this.element[0]&&(f.remove=function(){this._removeTooltip(l)});
a&&"mouseover"!==a.type||(f.mouseleave="close");a&&"focusin"!==a.type||(f.focusout="close");this._on(!0,d,f)}},close:function(a){var b,d=this,f=c(a?a.currentTarget:this.element),k=this._find(f);k&&(b=k.tooltip,k.closing||(clearInterval(this.delayedShow),f.data("ui-tooltip-title")&&!f.attr("title")&&f.attr("title",f.data("ui-tooltip-title")),this._removeDescribedBy(f),k.hiding=!0,b.stop(!0),this._hide(b,this.options.hide,function(){d._removeTooltip(c(this))}),f.removeData("ui-tooltip-open"),this._off(f,
"mouseleave focusout keyup"),f[0]!==this.element[0]&&this._off(f,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&c.each(this.parents,function(a,b){c(b.element).attr("title",b.title);delete d.parents[a]}),k.closing=!0,this._trigger("close",a,{tooltip:b}),k.hiding||(k.closing=!1)))},_tooltip:function(a){var b=c("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),d=b.uniqueId().attr("id");return c("<div>").addClass("ui-tooltip-content").appendTo(b),
b.appendTo(this.document[0].body),this.tooltips[d]={element:a,tooltip:b}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;c.each(this.tooltips,function(b,d){var e=c.Event("blur");d=d.element;e.target=e.currentTarget=d[0];a.close(e,!0);c("#"+b).remove();d.data("ui-tooltip-title")&&(d.attr("title")||d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))});
this.liveRegion.remove()}});c.effects={effect:{}};(function(a,c){function b(a,b,c){var d=r[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:a>d.max?d.max:a)}function d(b){var d=h(),e=d._rgba=[];return b=b.toLowerCase(),w(k,function(a,f){var g;a=(a=f.re.exec(b))&&f.parse(a);f=f.space||"rgba";return a?(g=d[f](a),d[l[f].cache]=g[l[f].cache],e=d._rgba=g._rgba,!1):c}),e.length?("0,0,0,0"===e.join()&&a.extend(e,v.transparent),d):v[b]}
function e(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var f=/^([\-+])=\s*(\d+\.?\d*)/,k=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],h=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},r={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=h.support={},t=a("<p>")[0],w=a.each;t.style.cssText="background-color:rgba(1,1,1,.5)";n.rgba=-1<t.style.backgroundColor.indexOf("rgba");w(l,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});h.fn=a.extend(h.prototype,{parse:function(e,f,g,k){if(e===c)return this._rgba=[null,null,
null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(f),f=c);var m=this,q=a.type(e),r=this._rgba=[];return f!==c&&(e=[e,f,g,k],q="array"),"string"===q?this.parse(d(e)||v._default):"array"===q?(w(l.rgba.props,function(a,c){r[c.idx]=b(e[c.idx],c)}),this):"object"===q?(e instanceof h?w(l,function(a,b){e[b.cache]&&(m[b.cache]=e[b.cache].slice())}):w(l,function(c,d){var f=d.cache;w(d.props,function(a,c){if(!m[f]&&d.to){if("alpha"===a||null==e[a])return;m[f]=d.to(m._rgba)}m[f][c.idx]=b(e[a],c,!0)});m[f]&&
0>a.inArray(null,m[f].slice(0,3))&&(m[f][3]=1,d.from&&(m._rgba=d.from(m[f])))}),this):c},is:function(a){var b=h(a),d=!0,e=this;return w(l,function(a,f){var g,m=b[f.cache];return m&&(g=e[f.cache]||f.to&&f.to(e._rgba)||[],w(f.props,function(a,b){return null!=m[b.idx]?d=m[b.idx]===g[b.idx]:c})),d}),d},_space:function(){var a=[],b=this;return w(l,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,c){var d=h(a);a=d._space();var e=l[a],f=0===this.alpha()?h("transparent"):this,g=f[e.cache]||
e.to(f._rgba),m=g.slice();return d=d[e.cache],w(e.props,function(a,e){a=e.idx;var f=g[a],k=d[a],q=r[e.type]||{};null!==k&&(null===f?m[a]=k:(q.mod&&(k-f>q.mod/2?f+=q.mod:f-k>q.mod/2&&(f-=q.mod)),m[a]=b((k-f)*c+f,e)))}),this[a](m)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=h(b)._rgba;return h(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===c[3]&&(c.pop(),
b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});h.fn.parse.prototype=h.fn;l.hsla.to=
function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(d,e,f),m=Math.min(d,e,f),k=g-m,q=g+m,h=.5*q;return b=m===g?0:d===g?60*(e-f)/k+360:e===g?60*(f-d)/k+120:60*(d-e)/k+240,c=0===k?0:.5>=h?k/q:k/(2-q),[Math.round(b)%360,c,h,null==a?1:a]};l.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2];a=a[3];c=.5>=d?d*(1+c):d+c-d*c;d=2*d-c;return[Math.round(255*
e(d,c,b+1/3)),Math.round(255*e(d,c,b)),Math.round(255*e(d,c,b-1/3)),a]};w(l,function(d,e){var g=e.props,m=e.cache,k=e.to,q=e.from;h.fn[d]=function(d){if(k&&!this[m]&&(this[m]=k(this._rgba)),d===c)return this[m].slice();var e,f=a.type(d),l="array"===f||"object"===f?d:arguments,r=this[m].slice();return w(g,function(a,c){a=l["object"===f?a:c.idx];null==a&&(a=r[c.idx]);r[c.idx]=b(a,c)}),q?(e=h(q(r)),e[m]=r,e):h(r)};w(g,function(b,c){h.fn[b]||(h.fn[b]=function(e){var g,m=a.type(e),k="alpha"===b?this._hsla?
"hsla":"rgba":d,q=this[k](),h=q[c.idx];return"undefined"===m?h:("function"===m&&(e=e.call(this,h),m=a.type(e)),null==e&&c.empty?this:("string"===m&&(g=f.exec(e),g&&(e=h+parseFloat(g[2])*("+"===g[1]?1:-1))),q[c.idx]=e,this[k](q)))})})});h.hook=function(b){b=b.split(" ");w(b,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=h(f||e),!n.rgba&&1!==e._rgba[3]){for(f="backgroundColor"===c?b.parentNode:b;(""===g||"transparent"===g)&&f&&
f.style;)try{g=a.css(f,"backgroundColor"),f=f.parentNode}catch(B){}e=e.blend(g&&"transparent"!==g?g:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(B){}}};a.fx.step[c]=function(b){b.colorInit||(b.start=h(b.elem,c),b.end=h(b.end),b.colorInit=!0);a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})};h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(a){var b={};return w(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}};var v=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(c);(function(){function a(a){var b=a.ownerDocument.defaultView?
a.ownerDocument.defaultView.getComputedStyle(a,null):a.currentStyle,d={};if(b&&b.length&&b[0]&&b[b[0]])for(a=b.length;a--;){var e=b[a];"string"==typeof b[e]&&(d[c.camelCase(e)]=b[e])}else for(e in b)"string"==typeof b[e]&&(d[e]=b[e]);return d}var d=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(a,b){c.fx.step[b]=function(a){("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(c.style(a.elem,b,a.end),a.setAttr=!0)}});c.fn.addBack||(c.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});c.effects.animateClass=function(b,e,g,k){var m=c.speed(e,g,k);return this.queue(function(){var e=c(this),g=e.attr("class")||"",k=m.children?e.find("*").addBack():e;k=k.map(function(){return{el:c(this),start:a(this)}});var q=function(){c.each(d,function(a,c){b[c]&&e[c+"Class"](b[c])})};q();k=k.map(function(){this.end=
a(this.el[0]);var b=this.start,d=this.end,e,g={};for(e in d){var k=d[e];b[e]!==k&&(f[e]||(c.fx.step[e]||!isNaN(parseFloat(k)))&&(g[e]=k))}return this.diff=g,this});e.attr("class",g);k=k.map(function(){var a=this,b=c.Deferred(),d=c.extend({},m,{queue:!1,complete:function(){b.resolve(a)}});return this.el.animate(this.diff,d),b.promise()});c.when.apply(c,k.get()).done(function(){q();c.each(arguments,function(){var a=this.el;c.each(this.diff,function(b){a.css(b,"")})});m.complete.call(e[0])})})};c.fn.extend({addClass:function(a){return function(b,
d,e,f){return d?c.effects.animateClass.call(this,{add:b},d,e,f):a.apply(this,arguments)}}(c.fn.addClass),removeClass:function(a){return function(b,d,e,f){return 1<arguments.length?c.effects.animateClass.call(this,{remove:b},d,e,f):a.apply(this,arguments)}}(c.fn.removeClass),toggleClass:function(a){return function(b,d,e,f,g){return"boolean"==typeof d||void 0===d?e?c.effects.animateClass.call(this,d?{add:b}:{remove:b},e,f,g):a.apply(this,arguments):c.effects.animateClass.call(this,{toggle:b},d,e,f)}}(c.fn.toggleClass),
switchClass:function(a,b,d,e,f){return c.effects.animateClass.call(this,{add:b,remove:a},d,e,f)}})})();(function(){function a(a,b,d,e){return c.isPlainObject(a)&&(b=a,a=a.effect),a={effect:a},null==b&&(b={}),c.isFunction(b)&&(e=b,d=null,b={}),("number"==typeof b||c.fx.speeds[b])&&(e=d,d=b,b={}),c.isFunction(d)&&(e=d,d=null),b&&c.extend(a,b),d=d||b.duration,a.duration=c.fx.off?0:"number"==typeof d?d:d in c.fx.speeds?c.fx.speeds[d]:c.fx.speeds._default,a.complete=e||b.complete,a}function d(a){return!a||
"number"==typeof a||c.fx.speeds[a]?!0:"string"!=typeof a||c.effects.effect[a]?c.isFunction(a)?!0:"object"!=typeof a||a.effect?!1:!0:!0}c.extend(c.effects,{version:"1.11.3",save:function(a,b){for(var c=0;b.length>c;c++)null!==b[c]&&a.data("ui-effects-"+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;b.length>d;d++)null!==b[d]&&(c=a.data("ui-effects-"+b[d]),void 0===c&&(c=""),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,
b){switch(a[0]){case "top":var c=0;break;case "middle":c=.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":a=0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},d=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),e={width:a.width(),height:a.height()},f=document.activeElement;try{f.id}catch(A){f=document.body}return a.wrap(d),(a[0]===f||c.contains(a[0],f))&&c(f).focus(),d=a.parent(),"static"===a.css("position")?(d.css({position:"relative"}),a.css({position:"relative"})):(c.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),c.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d);isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"})),a.css(e),d.css(b).show()},removeWrapper:function(a){var b=document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===b||c.contains(a[0],b))&&c(b).focus()),a},setTransition:function(a,b,d,e){return e=e||{},c.each(b,function(b,c){b=a.cssUnit(c);0<b[0]&&(e[c]=b[0]*d+b[1])}),e}});c.fn.extend({effect:function(){function b(a){function b(){c.isFunction(f)&&f.call(e[0]);c.isFunction(a)&&a()}var e=c(this),f=d.complete,g=d.mode;(e.is(":hidden")?"hide"===
g:"show"===g)?(e[g](),b()):k.call(e[0],d,b)}var d=a.apply(this,arguments),e=d.mode,f=d.queue,k=c.effects.effect[d.effect];return c.fx.off||!k?e?this[e](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):!1===f?this.each(b):this.queue(f||"fx",b)},show:function(b){return function(c){if(d(c))return b.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(c.fn.show),hide:function(b){return function(c){if(d(c))return b.apply(this,
arguments);var e=a.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(c.fn.hide),toggle:function(b){return function(c){if(d(c)||"boolean"==typeof c)return b.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(c.fn.toggle),cssUnit:function(a){var b=this.css(a),d=[];return c.each(["em","px","%","pt"],function(a,c){0<b.indexOf(c)&&(d=[parseFloat(b),c])}),d}})})();(function(){var a={};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,
c){a[c]=function(a){return Math.pow(a,b+2)}});c.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});c.each(a,function(a,b){c.easing["easeIn"+a]=b;c.easing["easeOut"+a]=function(a){return 1-
b(1-a)};c.easing["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})})();c.effects;c.effects.effect.blind=function(a,d){var b=c(this),e="position top bottom left right height width".split(" "),f=c.effects.setMode(b,a.mode||"hide");var k=a.direction||"up";var h=/up|down|vertical/.test(k),l=h?"height":"width",r=h?"top":"left",n=/up|left|vertical|horizontal/.test(k),t={},w="show"===f;b.parent().is(".ui-effects-wrapper")?c.effects.save(b.parent(),e):c.effects.save(b,e);b.show();k=c.effects.createWrapper(b).css({overflow:"hidden"});
var v=k[l]();var E=parseFloat(k.css(r))||0;t[l]=w?v:0;n||(b.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),t[r]=w?E:v+E);w&&(k.css(l,0),n||k.css(r,E+v));k.animate(t,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){"hide"===f&&b.hide();c.effects.restore(b,e);c.effects.removeWrapper(b);d()}})};c.effects.effect.bounce=function(a,d){var b,e=c(this),f="position top bottom left right height width".split(" "),k=c.effects.setMode(e,a.mode||"effect"),h="hide"===
k;var l="show"===k;var r=a.direction||"up";k=a.distance;var n=a.times||5,t=2*n+(l||h?1:0),w=a.duration/t;a=a.easing;var v="up"===r||"down"===r?"top":"left";r="up"===r||"left"===r;var E=e.queue(),z=E.length;(l||h)&&f.push("opacity");c.effects.save(e,f);e.show();c.effects.createWrapper(e);k||(k=e["top"===v?"outerHeight":"outerWidth"]()/3);l&&(b={opacity:1},b[v]=0,e.css("opacity",0).css(v,r?2*-k:2*k).animate(b,w,a));h&&(k/=Math.pow(2,n-1));b={};for(l=b[v]=0;n>l;l++){var H={};H[v]=(r?"-=":"+=")+k;e.animate(H,
w,a).animate(b,w,a);k=h?2*k:k/2}h&&(H={opacity:0},H[v]=(r?"-=":"+=")+k,e.animate(H,w,a));e.queue(function(){h&&e.hide();c.effects.restore(e,f);c.effects.removeWrapper(e);d()});1<z&&E.splice.apply(E,[1,0].concat(E.splice(z,t+1)));e.dequeue()};c.effects.effect.clip=function(a,d){var b=c(this),e="position top bottom left right height width".split(" "),f="show"===c.effects.setMode(b,a.mode||"hide"),k="vertical"===(a.direction||"vertical"),h=k?"height":"width";k=k?"top":"left";var l={};c.effects.save(b,
e);b.show();var r=c.effects.createWrapper(b).css({overflow:"hidden"});r="IMG"===b[0].tagName?r:b;var n=r[h]();f&&(r.css(h,0),r.css(k,n/2));l[h]=f?n:0;l[k]=f?0:n/2;r.animate(l,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){f||b.hide();c.effects.restore(b,e);c.effects.removeWrapper(b);d()}})};c.effects.effect.drop=function(a,d){var b=c(this),e="position top bottom left right opacity height width".split(" "),f=c.effects.setMode(b,a.mode||"hide"),k="show"===f;var h=a.direction||"left";
var l="up"===h||"down"===h?"top":"left",r="up"===h||"left"===h?"pos":"neg",n={opacity:k?1:0};c.effects.save(b,e);b.show();c.effects.createWrapper(b);h=a.distance||b["top"===l?"outerHeight":"outerWidth"](!0)/2;k&&b.css("opacity",0).css(l,"pos"===r?-h:h);n[l]=(k?"pos"===r?"+=":"-=":"pos"===r?"-=":"+=")+h;b.animate(n,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&b.hide();c.effects.restore(b,e);c.effects.removeWrapper(b);d()}})};c.effects.effect.explode=function(a,d){function b(){v.push(this);
v.length===k*h&&(l.css({visibility:"visible"}),c(v).remove(),r||l.hide(),d())}var e,f,k=a.pieces?Math.round(Math.sqrt(a.pieces)):3,h=k,l=c(this),r="show"===c.effects.setMode(l,a.mode||"hide"),n=l.show().css("visibility","hidden").offset(),t=Math.ceil(l.outerWidth()/h),w=Math.ceil(l.outerHeight()/k),v=[];for(e=0;k>e;e++){var E=n.top+e*w;var z=e-(k-1)/2;for(f=0;h>f;f++){var H=n.left+f*t;var C=f-(h-1)/2;l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*
t,top:-e*w}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:t,height:w,left:H+(r?C*t:0),top:E+(r?z*w:0),opacity:r?0:1}).animate({left:H+(r?0:C*t),top:E+(r?0:z*w),opacity:r?1:0},a.duration||500,a.easing,b)}}};c.effects.effect.fade=function(a,d){var b=c(this),e=c.effects.setMode(b,a.mode||"toggle");b.animate({opacity:e},{queue:!1,duration:a.duration,easing:a.easing,complete:d})};c.effects.effect.fold=function(a,d){var b,e=c(this),f="position top bottom left right height width".split(" ");
var k=c.effects.setMode(e,a.mode||"hide");var h="show"===k,l="hide"===k,r=a.size||15,n=/([0-9]+)%/.exec(r),t=!!a.horizFirst,w=(b=h!==t)?["width","height"]:["height","width"],v=a.duration/2,E={},z={};c.effects.save(e,f);e.show();k=c.effects.createWrapper(e).css({overflow:"hidden"});b=b?[k.width(),k.height()]:[k.height(),k.width()];n&&(r=parseInt(n[1],10)/100*b[l?0:1]);h&&k.css(t?{height:0,width:r}:{height:r,width:0});E[w[0]]=h?b[0]:r;z[w[1]]=h?b[1]:0;k.animate(E,v,a.easing).animate(z,v,a.easing,function(){l&&
e.hide();c.effects.restore(e,f);c.effects.removeWrapper(e);d()})};c.effects.effect.highlight=function(a,d){var b=c(this),e=["backgroundImage","backgroundColor","opacity"],f=c.effects.setMode(b,a.mode||"show"),k={backgroundColor:b.css("backgroundColor")};"hide"===f&&(k.opacity=0);c.effects.save(b,e);b.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&b.hide();c.effects.restore(b,e);d()}})};
c.effects.effect.size=function(a,d){var b,e=c(this),f="position top bottom left right width height overflow opacity".split(" ");var k="position top bottom left right overflow opacity".split(" ");var h=["width","height","overflow"],l=["fontSize"],r=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],t=c.effects.setMode(e,a.mode||"effect"),w=a.restore||"effect"!==t,v=a.scale||"both",E=a.origin||["middle","center"],
z=e.css("position"),H=w?f:k,C={height:0,width:0,outerHeight:0,outerWidth:0};"show"===t&&e.show();k={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};"toggle"===a.mode&&"show"===t?(e.from=a.to||C,e.to=a.from||k):(e.from=a.from||("show"===t?C:k),e.to=a.to||("hide"===t?C:k));var ba=e.from.height/k.height;var Y=e.from.width/k.width;var R=e.to.height/k.height;var N=e.to.width/k.width;("box"===v||"both"===v)&&(ba!==R&&(H=H.concat(r),e.from=c.effects.setTransition(e,
r,ba,e.from),e.to=c.effects.setTransition(e,r,R,e.to)),Y!==N&&(H=H.concat(n),e.from=c.effects.setTransition(e,n,Y,e.from),e.to=c.effects.setTransition(e,n,N,e.to)));("content"===v||"both"===v)&&ba!==R&&(H=H.concat(l).concat(h),e.from=c.effects.setTransition(e,l,ba,e.from),e.to=c.effects.setTransition(e,l,R,e.to));c.effects.save(e,H);e.show();c.effects.createWrapper(e);e.css("overflow","hidden").css(e.from);E&&(b=c.effects.getBaseline(E,k),e.from.top=(k.outerHeight-e.outerHeight())*b.y,e.from.left=
(k.outerWidth-e.outerWidth())*b.x,e.to.top=(k.outerHeight-e.to.outerHeight)*b.y,e.to.left=(k.outerWidth-e.to.outerWidth)*b.x);e.css(e.from);"content"!==v&&"both"!==v||(r=r.concat(["marginTop","marginBottom"]).concat(l),n=n.concat(["marginLeft","marginRight"]),h=f.concat(r).concat(n),e.find("*[width]").each(function(){var b=c(this),d=b.height(),e=b.width(),f=b.outerHeight(),g=b.outerWidth();w&&c.effects.save(b,h);b.from={height:d*ba,width:e*Y,outerHeight:f*ba,outerWidth:g*Y};b.to={height:d*R,width:e*
N,outerHeight:d*R,outerWidth:e*N};ba!==R&&(b.from=c.effects.setTransition(b,r,ba,b.from),b.to=c.effects.setTransition(b,r,R,b.to));Y!==N&&(b.from=c.effects.setTransition(b,n,Y,b.from),b.to=c.effects.setTransition(b,n,N,b.to));b.css(b.from);b.animate(b.to,a.duration,a.easing,function(){w&&c.effects.restore(b,h)})}));e.animate(e.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){0===e.to.opacity&&e.css("opacity",e.from.opacity);"hide"===t&&e.hide();c.effects.restore(e,H);w||("static"===
z?e.css({position:"relative",top:e.to.top,left:e.to.left}):c.each(["top","left"],function(a,b){e.css(b,function(b,c){b=parseInt(c,10);var d=a?e.to.left:e.to.top;return"auto"===c?d+"px":b+d+"px"})}));c.effects.removeWrapper(e);d()}})};c.effects.effect.scale=function(a,d){var b=c(this),e=c.extend(!0,{},a),f=c.effects.setMode(b,a.mode||"effect"),k=parseInt(a.percent,10)||(0===parseInt(a.percent,10)?0:"hide"===f?0:100),h=a.direction||"both",l=a.origin,r={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),
outerWidth:b.outerWidth()},n="horizontal"!==h?k/100:1;k="vertical"!==h?k/100:1;e.effect="size";e.queue=!1;e.complete=d;"effect"!==f&&(e.origin=l||["middle","center"],e.restore=!0);e.from=a.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:r);e.to={height:r.height*n,width:r.width*k,outerHeight:r.outerHeight*n,outerWidth:r.outerWidth*k};e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0));b.effect(e)};c.effects.effect.puff=function(a,d){var b=
c(this),e=c.effects.setMode(b,a.mode||"hide"),f="hide"===e,k=parseInt(a.percent,10)||150,h=k/100,l={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};c.extend(a,{effect:"scale",queue:!1,fade:!0,mode:e,complete:d,percent:f?k:100,from:f?l:{height:l.height*h,width:l.width*h,outerHeight:l.outerHeight*h,outerWidth:l.outerWidth*h}});b.effect(a)};c.effects.effect.pulsate=function(a,d){var b=c(this),e=c.effects.setMode(b,a.mode||"show");var f="show"===e;var k="hide"===
e;e=2*(a.times||5)+(f||"hide"===e?1:0);var h=a.duration/e,l=0,r=b.queue(),n=r.length;(f||!b.is(":visible"))&&(b.css("opacity",0).show(),l=1);for(f=1;e>f;f++)b.animate({opacity:l},h,a.easing),l=1-l;b.animate({opacity:l},h,a.easing);b.queue(function(){k&&b.hide();d()});1<n&&r.splice.apply(r,[1,0].concat(r.splice(n,e+1)));b.dequeue()};c.effects.effect.shake=function(a,d){var b=c(this),e="position top bottom left right height width".split(" "),f=c.effects.setMode(b,a.mode||"effect"),k=a.direction||"left";
var h=a.distance||20;var l=a.times||3,r=2*l+1,n=Math.round(a.duration/r),t="up"===k||"down"===k?"top":"left",w="up"===k||"left"===k;k={};var v={},E={},z=b.queue(),H=z.length;c.effects.save(b,e);b.show();c.effects.createWrapper(b);k[t]=(w?"-=":"+=")+h;v[t]=(w?"+=":"-=")+2*h;E[t]=(w?"-=":"+=")+2*h;b.animate(k,n,a.easing);for(h=1;l>h;h++)b.animate(v,n,a.easing).animate(E,n,a.easing);b.animate(v,n,a.easing).animate(k,n/2,a.easing).queue(function(){"hide"===f&&b.hide();c.effects.restore(b,e);c.effects.removeWrapper(b);
d()});1<H&&z.splice.apply(z,[1,0].concat(z.splice(H,r+1)));b.dequeue()};c.effects.effect.slide=function(a,d){var b=c(this),e="position top bottom left right width height".split(" "),f=c.effects.setMode(b,a.mode||"show"),k="show"===f;var h=a.direction||"left";var l="up"===h||"down"===h?"top":"left",r="up"===h||"left"===h,n={};c.effects.save(b,e);b.show();h=a.distance||b["top"===l?"outerHeight":"outerWidth"](!0);c.effects.createWrapper(b).css({overflow:"hidden"});k&&b.css(l,r?isNaN(h)?"-"+h:-h:h);n[l]=
(k?r?"+=":"-=":r?"-=":"+=")+h;b.animate(n,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&b.hide();c.effects.restore(b,e);c.effects.removeWrapper(b);d()}})};c.effects.effect.transfer=function(a,d){var b=c(this),e=c(a.to),f="fixed"===e.css("position"),k=c("body"),h=f?k.scrollTop():0;k=f?k.scrollLeft():0;var l=e.offset();e={top:l.top-h,left:l.left-k,height:e.innerHeight(),width:e.innerWidth()};l=b.offset();var r=c("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(a.className).css({top:l.top-
h,left:l.left-k,height:b.innerHeight(),width:b.innerWidth(),position:f?"fixed":"absolute"}).animate(e,a.duration,a.easing,function(){r.remove();d()})}});/*
 jquery.event.drag - v 2.3.0
 Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 Open Source MIT License - http://threedubmedia.com/code/license
*/
(function(c){c.fn.drag=function(f,a,d){var k="string"==typeof f?f:"",h=c.isFunction(f)?f:c.isFunction(a)?a:null;0!==k.indexOf("drag")&&(k="drag"+k);d=(f==h?a:d)||{};return h?this.on(k,d,h):this.trigger(k)};var n=c.event,f=n.special,h=f.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(f){var a=c.data(this,h.datakey),d=f.data||{};a.related+=1;c.each(h.defaults,function(c,f){void 0!==d[c]&&(a[c]=d[c])})},remove:function(){--c.data(this,
h.datakey).related},setup:function(){if(!c.data(this,h.datakey)){var f=c.extend({related:0},h.defaults);c.data(this,h.datakey,f);n.add(this,"touchstart mousedown",h.init,f);this.attachEvent&&this.attachEvent("ondragstart",h.dontstart)}},teardown:function(){(c.data(this,h.datakey)||{}).related||(c.removeData(this,h.datakey),n.remove(this,"touchstart mousedown",h.init),h.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",h.dontstart))},init:function(l){if(!h.touched){var a=l.data;if(!(0!=
l.which&&0<a.which&&l.which!=a.which||c(l.target).is(a.not)||a.handle&&!c(l.target).closest(a.handle,l.currentTarget).length)){h.touched="touchstart"==l.type?this:null;a.propagates=1;a.mousedown=this;a.interactions=[h.interaction(this,a)];a.target=l.target;a.pageX=l.pageX;a.pageY=l.pageY;a.dragging=null;var d=h.hijack(l,"draginit",a);if(a.propagates&&((d=h.flatten(d))&&d.length&&(a.interactions=[],c.each(d,function(){a.interactions.push(h.interaction(this,a))})),a.propagates=a.interactions.length,
!1!==a.drop&&f.drop&&f.drop.handler(l,a),h.textselect(!1),h.touched?n.add(h.touched,"touchmove touchend",h.handler,a):n.add(document,"mousemove mouseup",h.handler,a),!h.touched||a.live))return!1}}},interaction:function(f,a){a=f&&f.ownerDocument?c(f)[a.relative?"position":"offset"]()||{top:0,left:0}:{top:0,left:0};return{drag:f,callback:new h.callback,droppable:[],offset:a}},handler:function(l){var a=l.data;switch(l.type){case !a.dragging&&"touchmove":l.preventDefault();case !a.dragging&&"mousemove":if(Math.pow(l.pageX-
a.pageX,2)+Math.pow(l.pageY-a.pageY,2)<Math.pow(a.distance,2))break;l.target=a.target;h.hijack(l,"dragstart",a);a.propagates&&(a.dragging=!0);case "touchmove":l.preventDefault();case "mousemove":if(a.dragging){h.hijack(l,"drag",a);if(a.propagates){!1!==a.drop&&f.drop&&f.drop.handler(l,a);break}l.type="mouseup"}default:h.touched?n.remove(h.touched,"touchmove touchend",h.handler):n.remove(document,"mousemove mouseup",h.handler),a.dragging&&(!1!==a.drop&&f.drop&&f.drop.handler(l,a),h.hijack(l,"dragend",
a)),h.textselect(!0),!1===a.click&&a.dragging&&c.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=h.touched=!1}},hijack:function(f,a,d,k,l){if(d){var r=f.originalEvent,t=f.type,H=a.indexOf("drop")?"drag":"drop",C,z=k||0,E;k=isNaN(k)?d.interactions.length:k;f.type=a;var b=function(){};f.originalEvent=new jQuery.Event(r,{preventDefault:b,stopPropagation:b,stopImmediatePropagation:b});d.results=[];do if((E=d.interactions[z])&&("dragend"===a||!E.cancelled)){var e=h.properties(f,d,
E);E.results=[];c(l||E[H]||d.droppable).each(function(b,k){e.target=k;f.isPropagationStopped=function(){return!1};C=k?n.dispatch.call(k,f,e):null;!1===C?("drag"==H&&(E.cancelled=!0,--d.propagates),"drop"==a&&(E[H][b]=null)):"dropinit"==a&&E.droppable.push(h.element(C)||k);"dragstart"==a&&(E.proxy=c(h.element(C)||E.drag)[0]);E.results.push(C);delete f.result;if("dropinit"!==a)return C});d.results[z]=h.flatten(E.results);"dropinit"==a&&(E.droppable=h.flatten(E.droppable));"dragstart"!=a||E.cancelled||
e.update()}while(++z<k);f.type=t;f.originalEvent=r;return h.flatten(d.results)}},properties:function(c,a,d){var f=d.callback;f.drag=d.drag;f.proxy=d.proxy||d.drag;f.startX=a.pageX;f.startY=a.pageY;f.deltaX=c.pageX-a.pageX;f.deltaY=c.pageY-a.pageY;f.originalX=d.offset.left;f.originalY=d.offset.top;f.offsetX=f.originalX+f.deltaX;f.offsetY=f.originalY+f.deltaY;f.drop=h.flatten((d.drop||[]).slice());f.available=h.flatten((d.droppable||[]).slice());return f},element:function(c){if(c&&(c.jquery||1==c.nodeType))return c},
flatten:function(f){return c.map(f,function(a){return a&&a.jquery?c.makeArray(a):a&&a.length?h.flatten(a):a})},textselect:function(f){c(document)[f?"off":"on"]("selectstart",h.dontstart).css("MozUserSelect",f?"":"none");document.unselectable=f?"off":"on"},dontstart:function(){return!1},callback:function(){}};h.callback.prototype={update:function(){f.drop&&this.available.length&&c.each(this.available,function(c){f.drop.locate(this,c)})}};var l=n.dispatch;n.dispatch=function(f){if(0<c.data(this,"suppress."+
f.type)-(new Date).getTime())c.removeData(this,"suppress."+f.type);else return l.apply(this,arguments)};f.draginit=f.dragstart=f.dragend=h})(jQuery);(function(c){function n(){var a=!1,c=!1;this.stopPropagation=function(){a=!0};this.isPropagationStopped=function(){return a};this.stopImmediatePropagation=function(){c=!0};this.isImmediatePropagationStopped=function(){return c}}function f(){this.__nonDataRow=!0}function h(){this.__group=!0;this.count=this.level=0;this.title=this.value=null;this.selectChecked=this.collapsed=!1;this.totals=null;this.rows=[];this.groupingKey=this.groups=null}function l(){this.__groupTotals=!0;this.group=null;this.initialized=
!1}function t(){var a=null;this.isActive=function(c){return c?a===c:null!==a};this.activate=function(c){if(c!==a){if(null!==a)throw Error("SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController");if(!c.commitCurrentEdit)throw Error("SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()");if(!c.cancelCurrentEdit)throw Error("SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()");a=c}};this.deactivate=
function(c){if(a!==c)throw Error("SlickGrid.EditorLock.deactivate: specified editController is not the currently active one");a=null};this.commitCurrentEdit=function(){return a?a.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return a?a.cancelCurrentEdit():!0}}c.extend(!0,window,{Slick:{Event:function(){var a=[];this.subscribe=function(c){a.push(c)};this.unsubscribe=function(c){for(var d=a.length-1;0<=d;d--)a[d]===c&&a.splice(d,1)};this.notify=function(c,f,h){f=f||new n;h=h||this;for(var d,
k=0;k<a.length&&!f.isPropagationStopped()&&!f.isImmediatePropagationStopped();k++)d=a[k].call(h,f,c);return d}},EventData:n,EventHandler:function(){var a=[];this.subscribe=function(c,f){a.push({event:c,handler:f});c.subscribe(f);return this};this.unsubscribe=function(c,f){for(var d=a.length;d--;)if(a[d].event===c&&a[d].handler===f){a.splice(d,1);c.unsubscribe(f);return}return this};this.unsubscribeAll=function(){for(var c=a.length;c--;)a[c].event.unsubscribe(a[c].handler);a=[];return this}},Range:function(a,
c,f,h){void 0===f&&void 0===h&&(f=a,h=c);this.fromRow=Math.min(a,f);this.fromCell=Math.min(c,h);this.toRow=Math.max(a,f);this.toCell=Math.max(c,h);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(a,c){return a>=this.fromRow&&a<=this.toRow&&c>=this.fromCell&&c<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+
":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:f,Group:h,GroupTotals:l,EditorLock:t,GlobalEditorLock:new t,keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38},preClickClassName:"slick-edit-preclick"}});h.prototype=new f;h.prototype.equals=function(a){return this.value===a.value&&this.count===a.count&&this.collapsed===a.collapsed&&this.title===a.title};l.prototype=new f})(jQuery);(function(c){c.extend(!0,window,{Slick:{AutoTooltips:function(n){function f(a){if(a=l.getCellFromEvent(a)){a=c(l.getCellNode(a.row,a.cell));if(a.innerWidth()<a[0].scrollWidth){var d=c.trim(a.text());n.maxToolTipLength&&d.length>n.maxToolTipLength&&(d=d.substr(0,n.maxToolTipLength-3)+"...")}else d="";a.attr("title",d)}}function h(a,d){d=d.column;a=c(a.target).closest(".slick-header-column");d&&!d.toolTip&&a.attr("title",a.innerWidth()<a[0].scrollWidth?d.name:"")}var l,t={enableForCells:!0,enableForHeaderCells:!1,
maxToolTipLength:null};c.extend(this,{init:function(a){n=c.extend(!0,{},t,n);l=a;n.enableForCells&&l.onMouseEnter.subscribe(f);n.enableForHeaderCells&&l.onHeaderMouseEnter.subscribe(h)},destroy:function(){n.enableForCells&&l.onMouseEnter.unsubscribe(f);n.enableForHeaderCells&&l.onHeaderMouseEnter.unsubscribe(h)}})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{CellRangeDecorator:function(n,f){var h;f=c.extend(!0,{},{selectionCssClass:"slick-range-decorator",selectionCss:{zIndex:"9999",border:"2px dashed red"},offset:{top:-1,left:-1,height:-2,width:-2}},f);c.extend(this,{show:function(l){h||(h=c("<div></div>",{css:f.selectionCss}).addClass(f.selectionCssClass).css("position","absolute").appendTo(n.getCanvasNode()));var t=n.getCellNodeBox(l.fromRow,l.fromCell);l=n.getCellNodeBox(l.toRow,l.toCell);h.css({top:t.top+f.offset.top,
left:t.left+f.offset.left,height:l.bottom-t.top+f.offset.height,width:l.right-t.left+f.offset.width});return h},hide:function(){h&&(h.remove(),h=null)}})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{CellRangeSelector:function(n){function f(a,c){a.stopImmediatePropagation()}function h(f,h){var b=a.getCellFromEvent(f);!1!==v.onBeforeCellRangeSelected.notify(b)&&a.canCellBeSelected(b.row,b.cell)&&(r=!0,f.stopImmediatePropagation());if(r)return a.focus(),f=a.getCellFromPoint(h.startX-c(k).offset().left,h.startY-c(k).offset().top),h.range={start:f,end:{}},d=h.range,w.show(new Slick.Range(f.row,f.cell))}function l(f,h){r&&(f.stopImmediatePropagation(),f=a.getCellFromPoint(f.pageX-
c(k).offset().left,f.pageY-c(k).offset().top),a.canCellBeSelected(f.row,f.cell)&&(h.range.end=f,d=h.range,w.show(new Slick.Range(h.range.start.row,h.range.start.cell,f.row,f.cell))))}function t(a,c){r&&(r=!1,a.stopImmediatePropagation(),w.hide(),v.onCellRangeSelected.notify({range:new Slick.Range(c.range.start.row,c.range.start.cell,c.range.end.row,c.range.end.cell)}))}var a,d,k,r,w,v=this,H=new Slick.EventHandler,C={selectionCss:{border:"2px dashed blue"}};c.extend(this,{init:function(d){n=c.extend(!0,
{},C,n);w=n.cellDecorator||new Slick.CellRangeDecorator(d,n);a=d;k=a.getCanvasNode();H.subscribe(a.onDragInit,f).subscribe(a.onDragStart,h).subscribe(a.onDrag,l).subscribe(a.onDragEnd,t)},destroy:function(){H.unsubscribeAll()},getCellDecorator:function(){return w},getCurrentRange:function(){return d},onBeforeCellRangeSelected:new Slick.Event,onCellRangeSelected:new Slick.Event})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{CellSelectionModel:function(n){function f(a){for(var c=[],b=0;b<a.length;b++){var d=a[b];k.canCellBeSelected(d.fromRow,d.fromCell)&&k.canCellBeSelected(d.toRow,d.toCell)&&c.push(d)}return c}function h(a){if(r&&0!==r.length||a&&0!==a.length)r=f(a),w.onSelectedRangesChanged.notify(r)}function l(a,c){if(k.getEditorLock().isActive())return a.stopPropagation(),!1}function t(a,c){k.setActiveCell(c.range.fromRow,c.range.fromCell,!1,!1,!0);h([c.range])}function a(a,
c){H.selectActiveCell&&null!=c.row&&null!=c.cell&&h([new Slick.Range(c.row,c.cell)])}function d(a){var c=k.getActiveCell();var b=a.ctrlKey||a.metaKey;if(c&&a.shiftKey&&!b&&!a.altKey&&(37==a.which||39==a.which||38==a.which||40==a.which)){b=r;b.length||b.push(new Slick.Range(c.row,c.cell));var d=b.pop();d.contains(c.row,c.cell)||(d=new Slick.Range(c.row,c.cell));var g=d.toRow-d.fromRow,m=d.toCell-d.fromCell,l=c.row==d.fromRow?1:-1,n=c.cell==d.fromCell?1:-1;37==a.which?m-=n:39==a.which?m+=n:38==a.which?
g-=l:40==a.which&&(g+=l);c=new Slick.Range(c.row,c.cell,c.row+l*g,c.cell+n*m);f([c]).length?(b.push(c),d=0<l?c.toRow:c.fromRow,n=0<n?c.toCell:c.fromCell,k.scrollRowIntoView(d),k.scrollCellIntoView(d,n)):b.push(d);h(b);a.preventDefault();a.stopPropagation()}}var k,r=[],w=this;var v="undefined"===typeof n||"undefined"===typeof n.cellRangeSelector?new Slick.CellRangeSelector({selectionCss:{border:"2px solid black"}}):n.cellRangeSelector;var H,C={selectActiveCell:!0};c.extend(this,{getSelectedRanges:function(){return r},
setSelectedRanges:h,init:function(f){H=c.extend(!0,{},C,n);k=f;k.getCanvasNode();k.onActiveCellChanged.subscribe(a);k.onKeyDown.subscribe(d);f.registerPlugin(v);v.onCellRangeSelected.subscribe(t);v.onBeforeCellRangeSelected.subscribe(l)},destroy:function(){k.onActiveCellChanged.unsubscribe(a);k.onKeyDown.unsubscribe(d);v.onCellRangeSelected.unsubscribe(t);v.onBeforeCellRangeSelected.unsubscribe(l);k.unregisterPlugin(v)},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{CellExternalCopyManager:function(n){function f(a,b){if(H.dataItemColumnValueExtractor){var d=H.dataItemColumnValueExtractor(a,b);if(d)return d}b.editor?(d={container:c("<p>"),column:b,position:{top:0,left:0},grid:r},b=new b.editor(d),b.loadValue(a),a=b.serializeValue(),b.destroy()):a=a[b.field];return a}function h(a,b,d){if(H.dataItemColumnValueSetter)return H.dataItemColumnValueSetter(a,b,d);if(b.editor){var e={container:c("body"),column:b,position:{top:0,
left:0},grid:r};b=new b.editor(e);b.loadValue(a);b.applyValue(a,d);b.destroy()}else a[b.field]=d}function l(a){var c=document.createElement("textarea");c.style.position="absolute";c.style.left="-1000px";c.style.top=document.body.scrollTop+"px";c.value=a;b.appendChild(c);c.select();return c}function t(a,c){var e=a.getColumns(),f=c.value.split(/[\n\f\r]/);""==f[f.length-1]&&f.pop();var k=[],g=0;b.removeChild(c);for(c=0;c<f.length;c++)""!=f[c]?k[g++]=f[c].split("\t"):k[c]=[""];f=a.getActiveCell();c=
(g=a.getSelectionModel().getSelectedRanges())&&g.length?g[0]:null;var m=null,l=null;if(c)m=c.fromRow,l=c.fromCell;else if(f)m=f.row,l=f.cell;else return;var q=!1;g=(f=k.length)?k[0].length:0;1==k.length&&1==k[0].length&&c&&(q=!0,f=c.toRow-c.fromRow+1,g=c.toCell-c.fromCell+1);c=a.getData().length-m;var r=0;if(c<f){var n=a.getData();for(r=1;r<=f-c;r++)n.push({});a.setData(n);a.render()}c=m+f>a.getDataLength();H.newRowCreator&&c&&(c=m+f-a.getDataLength(),H.newRowCreator(c));f={isClipboardCommand:!0,
clippedRange:k,oldValues:[],cellExternalCopyManager:w,_options:H,setDataItemValueForColumn:h,markCopySelection:d,oneCellToMultiple:q,activeRow:m,activeCell:l,destH:f,destW:g,maxDestY:a.getDataLength(),maxDestX:a.getColumns().length,h:0,w:0,execute:function(){for(var b=this.h=0;b<this.destH;b++){this.oldValues[b]=[];this.w=0;this.h++;for(var c=0;c<this.destW;c++){this.w++;var d=m+b,f=l+c;if(d<this.maxDestY&&f<this.maxDestX){a.getCellNode(d,f);var g=a.getDataItem(d);this.oldValues[b][c]=g[e[f].field];
q?this.setDataItemValueForColumn(g,e[f],k[0][0]):this.setDataItemValueForColumn(g,e[f],k[b]?k[b][c]:"");a.updateCell(d,f);a.onCellChange.notify({row:d,cell:f,item:g,grid:a})}}}b={fromCell:l,fromRow:m,toCell:l+this.w-1,toRow:m+this.h-1};this.markCopySelection([b]);a.getSelectionModel().setSelectedRanges([b]);this.cellExternalCopyManager.onPasteCells.notify({ranges:[b]})},undo:function(){for(var b=0;b<this.destH;b++)for(var c=0;c<this.destW;c++){var d=m+b,f=l+c;if(d<this.maxDestY&&f<this.maxDestX){a.getCellNode(d,
f);var k=a.getDataItem(d);q?this.setDataItemValueForColumn(k,e[f],this.oldValues[0][0]):this.setDataItemValueForColumn(k,e[f],this.oldValues[b][c]);a.updateCell(d,f);a.onCellChange.notify({row:d,cell:f,item:k,grid:a})}}b={fromCell:l,fromRow:m,toCell:l+this.w-1,toRow:m+this.h-1};this.markCopySelection([b]);a.getSelectionModel().setSelectedRanges([b]);this.cellExternalCopyManager.onPasteCells.notify({ranges:[b]});if(1<r){for(b=a.getData();1<r;r--)b.splice(b.length-1,1);a.setData(b);a.render()}}};H.clipboardCommandHandler?
H.clipboardCommandHandler(f):f.execute()}function a(a,c){if(!r.getEditorLock().isActive()||r.getOptions().autoEdit){a.which==m.ESC&&v&&(a.preventDefault(),k(),w.onCopyCancelled.notify({ranges:v}),v=null);if((a.which===m.C||a.which===m.INSERT)&&(a.ctrlKey||a.metaKey)&&!a.shiftKey&&(e&&e.call(),c=r.getSelectionModel().getSelectedRanges(),0!=c.length)){v=c;d(c);w.onCopyCells.notify({ranges:c});a=r.getColumns();for(var h="",q=0;q<c.length;q++){for(var n=c[q],y=[],E=n.fromRow;E<n.toRow+1;E++){var z=[],
C=r.getDataItem(E);if(""==y&&H.includeHeaderWhenCopying){for(var V=[],D=n.fromCell;D<n.toCell+1;D++)0<a[D].name.length&&V.push(a[D].name);y.push(V.join("\t"))}for(D=n.fromCell;D<n.toCell+1;D++)z.push(f(C,a[D]));y.push(z.join("\t"))}h+=y.join("\r\n")+"\r\n"}if(window.clipboardData)return window.clipboardData.setData("Text",h),!0;var S=document.activeElement,Va=l(h);Va.focus();setTimeout(function(){b.removeChild(Va);S?S.focus():console.log("Not element to restore focus to after copy?")},100);g&&(a=
0,a=1===c.length?c[0].toRow+1-c[0].fromRow:c.length,g.call(this,a));return!1}if(!H.readOnlyMode&&(a.which===m.V&&(a.ctrlKey||a.metaKey)&&!a.shiftKey||a.which===m.INSERT&&a.shiftKey&&!a.ctrlKey))return Va=l(""),setTimeout(function(){t(r,Va)},100),!1}}function d(a){k();for(var b=r.getColumns(),c={},d=0;d<a.length;d++)for(var e=a[d].fromRow;e<=a[d].toRow;e++){c[e]={};for(var f=a[d].fromCell;f<=a[d].toCell&&f<b.length;f++)c[e][b[f].id]=z}r.setCellCssStyles(C,c);clearTimeout(E);E=setTimeout(function(){w.clearCopySelection()},
2E3)}function k(){r.removeCellCssStyles(C)}var r,w=this,v,H=n||{},C=H.copiedCellStyleLayerKey||"copy-manager",z=H.copiedCellStyle||"copied",E=0,b=H.bodyElement||document.body,e=H.onCopyInit||null,g=H.onCopySuccess||null,m={C:67,V:86,ESC:27,INSERT:45};c.extend(this,{init:function(b){r=b;r.onKeyDown.subscribe(a);b=b.getSelectionModel();if(!b)throw Error("Selection model is mandatory for this plugin. Please set a selection model on the grid before adding this plugin: grid.setSelectionModel(new Slick.CellSelectionModel())");
b.onSelectedRangesChanged.subscribe(function(a,b){r.focus()})},destroy:function(){r.onKeyDown.unsubscribe(a)},clearCopySelection:k,handleKeyDown:a,onCopyCells:new Slick.Event,onCopyCancelled:new Slick.Event,onPasteCells:new Slick.Event})}}})})(jQuery);(function(c){function n(f){function h(){var a=f.column.editorFixedDecimalPlaces;"undefined"==typeof a&&(a=n.DefaultDecimalPlaces);return a||0===a?a:null}var l,t;this.init=function(){l=c("<INPUT type=text class='editor-text' />");l.on("keydown.nav",function(a){a.keyCode!==c.ui.keyCode.LEFT&&a.keyCode!==c.ui.keyCode.RIGHT||a.stopImmediatePropagation()});l.appendTo(f.container);l.focus().select()};this.destroy=function(){l.remove()};this.focus=function(){l.focus()};this.loadValue=function(a){t=a[f.column.field];
a=h();null!==a&&(t||0===t)&&t.toFixed&&(t=t.toFixed(a));l.val(t);l[0].defaultValue=t;l.select()};this.serializeValue=function(){var a=parseFloat(l.val());n.AllowEmptyValue?a||0===a||(a=""):a|=0;var c=h();null!==c&&(a||0===a)&&a.toFixed&&(a=parseFloat(a.toFixed(c)));return a};this.applyValue=function(a,c){a[f.column.field]=c};this.isValueChanged=function(){return!(""==l.val()&&null==t)&&l.val()!=t};this.validate=function(){if(isNaN(l.val()))return{valid:!1,msg:"Please enter a valid number"};if(f.column.validator){var a=
f.column.validator(l.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()}c.extend(!0,window,{Slick:{Editors:{Text:function(f){var h,l;this.init=function(){h=c("<INPUT type=text class='editor-text' />").appendTo(f.container).on("keydown.nav",function(f){f.keyCode!==c.ui.keyCode.LEFT&&f.keyCode!==c.ui.keyCode.RIGHT||f.stopImmediatePropagation()}).focus().select()};this.destroy=function(){h.remove()};this.focus=function(){h.focus()};this.getValue=function(){return h.val()};this.setValue=
function(c){h.val(c)};this.loadValue=function(c){l=c[f.column.field]||"";h.val(l);h[0].defaultValue=l;h.select()};this.serializeValue=function(){return h.val()};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return!(""==h.val()&&null==l)&&h.val()!=l};this.validate=function(){if(f.column.validator){var c=f.column.validator(h.val());if(!c.valid)return c}return{valid:!0,msg:null}};this.init()},Integer:function(f){var h,l;this.init=function(){h=c("<INPUT type=text class='editor-text' />");
h.on("keydown.nav",function(f){f.keyCode!==c.ui.keyCode.LEFT&&f.keyCode!==c.ui.keyCode.RIGHT||f.stopImmediatePropagation()});h.appendTo(f.container);h.focus().select()};this.destroy=function(){h.remove()};this.focus=function(){h.focus()};this.loadValue=function(c){l=c[f.column.field];h.val(l);h[0].defaultValue=l;h.select()};this.serializeValue=function(){return parseInt(h.val(),10)||0};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return!(""==h.val()&&null==l)&&
h.val()!=l};this.validate=function(){if(isNaN(h.val()))return{valid:!1,msg:"Please enter a valid integer"};if(f.column.validator){var c=f.column.validator(h.val());if(!c.valid)return c}return{valid:!0,msg:null}};this.init()},Float:n,Date:function(f){var h,l,n=!1;this.init=function(){h=c("<INPUT type=text class='editor-text' />");h.appendTo(f.container);h.focus().select();h.datepicker({showOn:"button",buttonImageOnly:!0,beforeShow:function(){n=!0},onClose:function(){n=!1}});h.width(h.width()-18)};
this.destroy=function(){c.datepicker.dpDiv.stop(!0,!0);h.datepicker("hide");h.datepicker("destroy");h.remove()};this.show=function(){n&&c.datepicker.dpDiv.stop(!0,!0).show()};this.hide=function(){n&&c.datepicker.dpDiv.stop(!0,!0).hide()};this.position=function(a){n&&c.datepicker.dpDiv.css("top",a.top+30).css("left",a.left)};this.focus=function(){h.focus()};this.loadValue=function(a){l=a[f.column.field];h.val(l);h[0].defaultValue=l;h.select()};this.serializeValue=function(){return h.val()};this.applyValue=
function(a,c){a[f.column.field]=c};this.isValueChanged=function(){return!(""==h.val()&&null==l)&&h.val()!=l};this.validate=function(){if(f.column.validator){var a=f.column.validator(h.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()},YesNoSelect:function(f){var h,l;this.init=function(){h=c("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>");h.appendTo(f.container);h.focus()};this.destroy=function(){h.remove()};this.focus=
function(){h.focus()};this.loadValue=function(c){h.val((l=c[f.column.field])?"yes":"no");h.select()};this.serializeValue=function(){return"yes"==h.val()};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return h.val()!=l};this.validate=function(){return{valid:!0,msg:null}};this.init()},Checkbox:function(f){var h,l;this.init=function(){h=c("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>");h.appendTo(f.container);h.focus()};this.destroy=function(){h.remove()};
this.focus=function(){h.focus()};this.loadValue=function(c){(l=!!c[f.column.field])?h.prop("checked",!0):h.prop("checked",!1)};this.preClick=function(){h.prop("checked",!h.prop("checked"))};this.serializeValue=function(){return h.prop("checked")};this.applyValue=function(c,a){c[f.column.field]=a};this.isValueChanged=function(){return this.serializeValue()!==l};this.validate=function(){return{valid:!0,msg:null}};this.init()},PercentComplete:function(f){var h,l,n;this.init=function(){h=c("<INPUT type=text class='editor-percentcomplete' />");
h.width(c(f.container).innerWidth()-25);h.appendTo(f.container);l=c("<div class='editor-percentcomplete-picker' />").appendTo(f.container);l.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>");l.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>");
h.focus().select();l.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:n,slide:function(a,c){h.val(c.value)}});l.find(".editor-percentcomplete-buttons button").on("click",function(a){h.val(c(this).attr("val"));l.find(".editor-percentcomplete-slider").slider("value",c(this).attr("val"))})};this.destroy=function(){h.remove();l.remove()};this.focus=function(){h.focus()};this.loadValue=function(a){h.val(n=a[f.column.field]);h.select()};this.serializeValue=function(){return parseInt(h.val(),
10)||0};this.applyValue=function(a,c){a[f.column.field]=c};this.isValueChanged=function(){return!(""==h.val()&&null==n)&&(parseInt(h.val(),10)||0)!=n};this.validate=function(){return isNaN(parseInt(h.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}};this.init()},LongText:function(f){var h,l,n,a=this;this.init=function(){var d=c("body");l=c("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(d);
h=c("<TEXTAREA hidefocus rows=5 style='background:white;width:250px;height:80px;border:0;outline:0'>").appendTo(l);c("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(l);l.find("button:first").on("click",this.save);l.find("button:last").on("click",this.cancel);h.on("keydown",this.handleKeyDown);a.position(f.position);h.focus().select()};this.handleKeyDown=function(d){d.which==c.ui.keyCode.ENTER&&d.ctrlKey?a.save():d.which==c.ui.keyCode.ESCAPE?(d.preventDefault(),
a.cancel()):d.which==c.ui.keyCode.TAB&&d.shiftKey?(d.preventDefault(),f.grid.navigatePrev()):d.which==c.ui.keyCode.TAB&&(d.preventDefault(),f.grid.navigateNext())};this.save=function(){f.commitChanges()};this.cancel=function(){h.val(n);f.cancelChanges()};this.hide=function(){l.hide()};this.show=function(){l.show()};this.position=function(a){l.css("top",a.top-5).css("left",a.left-5)};this.destroy=function(){l.remove()};this.focus=function(){h.focus()};this.loadValue=function(a){h.val(n=a[f.column.field]);
h.select()};this.serializeValue=function(){return h.val()};this.applyValue=function(a,c){a[f.column.field]=c};this.isValueChanged=function(){return!(""==h.val()&&null==n)&&h.val()!=n};this.validate=function(){if(f.column.validator){var a=f.column.validator(h.val());if(!a.valid)return a}return{valid:!0,msg:null}};this.init()}}}});n.DefaultDecimalPlaces=null;n.AllowEmptyValue=!1})(jQuery);(function(c){c.extend(!0,window,{Slick:{Formatters:{PercentComplete:function(c,f,h,l,t){return null==h||""===h?"-":50>h?"<span style='color:red;font-weight:bold;'>"+h+"%</span>":"<span style='color:green'>"+h+"%</span>"},PercentCompleteBar:function(c,f,h,l,t){return null==h||""===h?"":"<span class='percent-complete-bar' style='background:"+(30>h?"red":70>h?"silver":"green")+";width:"+h+"%'></span>"},YesNo:function(c,f,h,l,t){return h?"Yes":"No"},Checkmark:function(c,f,h,l,t){return h?"<img src='../images/tick.png'>":
""},Checkbox:function(c,f,h,l,t){return'<img class="slick-edit-preclick" src="../images/'+(h?"CheckboxY":"CheckboxN")+'.png">'}}}})})(jQuery);/*

 (c) 2009-2016 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.3

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
if("undefined"===typeof jQuery)throw Error("SlickGrid requires jquery module to be loaded");if(!jQuery.fn.drag)throw Error("SlickGrid requires jquery.event.drag module to be loaded");if("undefined"===typeof Slick)throw Error("slick.core.js not loaded");
(function(c){c.extend(!0,window,{Slick:{Grid:function(h,l,t,a){function d(){if(!ab){ab=!0;fb=parseFloat(c.css(ua[0],"width",!0));y();z(Ra);if(!a.enableTextSelectionOnCells)M.on("selectstart.ui",function(a){return c(a.target).is("input,textarea")});S();b();e();Q();wa();E();ua.on("resize.slickgrid",wa);M.on("scroll",rc);Hb.on("scroll",ub).on("contextmenu",zd).on("click",Ad).on("mouseenter",".slick-header-column",yd).on("mouseleave",".slick-header-column",Md);sb.on("scroll",Vc);if(a.createFooterRow)yb.on("scroll",
P);if(a.createPreHeaderPanel)zb.on("scroll",Ld);Hc.add(Gd).on("keydown",nc);Ea.on("keydown",nc).on("click",jc).on("dblclick",fd).on("contextmenu",Xc).on("draginit",Fd).on("dragstart",{distance:3},Ed).on("drag",Qc).on("dragend",Vb).on("mouseenter",".slick-cell",md).on("mouseleave",".slick-cell",Rc);if(navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/))Ea.on("mousewheel",xd);r()}}function k(){nd=ua.parents().addBack().not(":visible");nd.each(function(){var a=
{},b;for(b in od)a[b]=this.style[b],this.style[b]=od[b];td.push(a)})}function r(){nd.each(function(a){a=td[a];for(var b in od)this.style[b]=a[b]})}function w(a){for(var b=Ob.length;0<=b;b--)if(Ob[b]===a){Ob[b].destroy&&Ob[b].destroy();Ob.splice(b,1);break}}function v(){for(var b=0,c=0,d=t.length;c<d;c++)b+=t[c].width;a.autoHeight||(b+=n.width);return Math.max(b,fb)+1E3}function H(){for(var b=oc?fb-n.width:fb,c=0,d=t.length;d--;)c+=t[d].width;return a.fullWidthRows?Math.max(c,b):c}function C(b){var c=
mb;mb=H();mb!=c&&(Ea.width(mb),cc.width(mb),a.createFooterRow&&Ia.width(mb),a.createPreHeaderPanel&&Jc.width(mb),Ra.width(v()),Yc=mb>fb-n.width);var d=mb+(oc?n.width:0);uc.width(d);a.createFooterRow&&Ic.width(d);a.createPreHeaderPanel&&vc.width(d);(mb!=c||b)&&da()}function z(a){if(a&&a.jquery)a.attr("unselectable","on").css("MozUserSelect","none").on("selectstart.ui",function(){return!1})}function E(){for(var a=Ea[0];(a=a.parentNode)!=document.body&&null!=a;)if(a==M[0]||a.scrollWidth!=a.clientWidth||
a.scrollHeight!=a.clientHeight){var b=c(a);Ta=Ta?Ta.add(b):b;b.on("scroll."+Aa,Wb)}}function b(){function b(){c(this).addClass("ui-state-hover")}function d(){c(this).removeClass("ui-state-hover")}Ra.find(".slick-header-column").each(function(){var a=c(this).data("column");a&&A(G.onBeforeHeaderCellDestroy,{node:this,column:a,grid:G})});Ra.empty();Ra.width(v());cc.find(".slick-headerrow-column").each(function(){var a=c(this).data("column");a&&A(G.onBeforeHeaderRowCellDestroy,{node:this,column:a,grid:G})});
cc.empty();a.createFooterRow&&(Ia.find(".slick-footerrow-column").each(function(){var a=c(this).data("column");a&&A(G.onBeforeFooterRowCellDestroy,{node:this,column:a})}),Ia.empty());for(var e=0;e<t.length;e++){var f=t[e],k=c("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+f.name+"</span>").width(f.width-Eb).attr("id",""+Aa+f.id).attr("title",f.toolTip||"").data("column",f).addClass(f.headerCssClass||"").appendTo(Ra);if(a.enableColumnReorder||f.sortable)k.on("mouseenter",
b).on("mouseleave",d);f.sortable&&(k.addClass("slick-header-sortable"),k.append("<span class='"+bd+"' />"));A(G.onHeaderCellRendered,{node:k[0],column:f,grid:G});a.showHeaderRow&&(k=c("<div class='ui-state-default slick-headerrow-column l"+e+" r"+e+"'></div>").data("column",f).appendTo(cc),A(G.onHeaderRowCellRendered,{node:k[0],column:f,grid:G}));a.createFooterRow&&a.showFooterRow&&(k=c("<div class='ui-state-default slick-footerrow-column l"+e+" r"+e+"'></div>").data("column",f).appendTo(Ia),A(G.onFooterRowCellRendered,
{node:k[0],column:f}))}V(ya);m();a.enableColumnReorder&&("function"==typeof a.enableColumnReorder?a.enableColumnReorder(G,Ra,Eb,Va,m,t,T,Aa,A):g())}function e(){Ra.click(function(b){if(!qc&&(b.metaKey=b.metaKey||b.ctrlKey,!c(b.target).hasClass("slick-resizable-handle"))){var d=c(b.target).closest(".slick-header-column");if(d.length&&(d=d.data("column"),d.sortable&&O().commitCurrentEdit())){for(var e=null,f=0;f<ya.length;f++)if(ya[f].columnId==d.id){e=ya[f];e.sortAsc=!e.sortAsc;break}var k=!!e;a.tristateMultiColumnSort?
(e||(e={columnId:d.id,sortAsc:d.defaultSortAsc}),k&&e.sortAsc&&(ya.splice(f,1),e=null),a.multiColumnSort||(ya=[]),!e||k&&a.multiColumnSort||ya.push(e)):b.metaKey&&a.multiColumnSort?e&&ya.splice(f,1):((b.shiftKey||b.metaKey)&&a.multiColumnSort||(ya=[]),e?0==ya.length&&ya.push(e):(e={columnId:d.id,sortAsc:d.defaultSortAsc},ya.push(e)));V(ya);0<ya.length&&(a.multiColumnSort?A(G.onSort,{multiColumnSort:!0,sortCols:c.map(ya,function(a){return{sortCol:t[jb[a.columnId]],sortAsc:a.sortAsc}}),grid:G},b):A(G.onSort,
{multiColumnSort:!1,sortCol:d,sortAsc:ya[0].sortAsc,grid:G},b))}}})}function g(){Ra.filter(":ui-sortable").sortable("destroy");Ra.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(a,b){b.placeholder.width(b.helper.outerWidth()-Eb);c(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){c(b.helper).removeClass("slick-header-column-active")},
stop:function(a){if(O().commitCurrentEdit()){for(var b=Ra.sortable("toArray"),d=[],e=0;e<b.length;e++)d.push(t[jb[b[e].replace(Aa,"")]]);Va(d);A(G.onColumnsReordered,{grid:G});a.stopPropagation();m()}else c(this).sortable("cancel")}})}function m(){var b,d,e,f,k,g,h;var m=Ra.children();m.find(".slick-resizable-handle").remove();m.each(function(a,b){a>=t.length||!t[a].resizable||(void 0===g&&(g=a),h=a)});void 0!==g&&m.each(function(l,q){l>=t.length||l<g||a.forceFitColumns&&l>=h||(c(q),c("<div class='slick-resizable-handle' />").appendTo(q).on("dragstart",
function(g,h){if(!O().commitCurrentEdit())return!1;e=g.pageX;c(this).parent().addClass("slick-header-column-active");h=g=null;m.each(function(a,b){a>=t.length||(t[a].previousWidth=c(b).outerWidth())});if(a.forceFitColumns)for(h=g=0,b=l+1;b<t.length;b++)d=t[b],d.resizable&&(null!==h&&(h=d.maxWidth?h+(d.maxWidth-d.previousWidth):null),g+=d.previousWidth-Math.max(d.minWidth||0,gc));var q=0,r=0;for(b=0;b<=l;b++)d=t[b],d.resizable&&(null!==r&&(r=d.maxWidth?r+(d.maxWidth-d.previousWidth):null),q+=d.previousWidth-
Math.max(d.minWidth||0,gc));null===g&&(g=1E5);null===q&&(q=1E5);null===h&&(h=1E5);null===r&&(r=1E5);k=e+Math.min(g,r);f=e-Math.min(q,h)}).on("drag",function(c,g){qc=!0;g=Math.min(k,Math.max(f,c.pageX))-e;if(0>g){var h=g;for(b=l;0<=b;b--)d=t[b],d.resizable&&(c=Math.max(d.minWidth||0,gc),h&&d.previousWidth+h<c?(h+=d.previousWidth-c,d.width=c):(d.width=d.previousWidth+h,h=0));if(a.forceFitColumns)for(h=-g,b=l+1;b<t.length;b++)d=t[b],d.resizable&&(h&&d.maxWidth&&d.maxWidth-d.previousWidth<h?(h-=d.maxWidth-
d.previousWidth,d.width=d.maxWidth):(d.width=d.previousWidth+h,h=0))}else{h=g;for(b=l;0<=b;b--)d=t[b],d.resizable&&(h&&d.maxWidth&&d.maxWidth-d.previousWidth<h?(h-=d.maxWidth-d.previousWidth,d.width=d.maxWidth):(d.width=d.previousWidth+h,h=0));if(a.forceFitColumns)for(h=-g,b=l+1;b<t.length;b++)d=t[b],d.resizable&&(c=Math.max(d.minWidth||0,gc),h&&d.previousWidth+h<c?(h+=d.previousWidth-c,d.width=c):(d.width=d.previousWidth+h,h=0))}fa();a.syncColumnCellResize&&da()}).on("dragend",function(a,e){c(this).parent().removeClass("slick-header-column-active");
for(b=0;b<t.length;b++)d=t[b],a=c(m[b]).outerWidth(),d.previousWidth!==a&&d.rerenderOnResize&&qa();C(!0);Ma();A(G.onColumnsResized,{grid:G});setTimeout(function(){qc=!1},300)}))})}function q(a){var b=0;c.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,d){b+=parseFloat(a.css(d))||0});return b}function y(){var a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],b=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=c.fn.jquery.split(".");
Hd=1==d[0]&&8<=d[1]||2<=d[0];var e=c("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(Ra);Eb=Ac=0;"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(c.each(a,function(a,b){Eb+=parseFloat(e.css(b))||0}),c.each(b,function(a,b){Ac+=parseFloat(e.css(b))||0}));e.remove();d=c("<div class='slick-row' />").appendTo(Ea);e=c("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(d);
pd=qd=0;"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(c.each(a,function(a,b){pd+=parseFloat(e.css(b))||0}),c.each(b,function(a,b){qd+=parseFloat(e.css(b))||0}));d.remove();gc=Math.max(Eb,pd)}function Q(){Ab=c("<style type='text/css' rel='stylesheet' />").appendTo(c("head"));for(var b=["."+Aa+" .slick-header-column { left: 1000px; }","."+Aa+" .slick-top-panel { height:"+a.topPanelHeight+"px; }","."+Aa+" .slick-preheader-panel { height:"+
a.preHeaderPanelHeight+"px; }","."+Aa+" .slick-headerrow-columns { height:"+a.headerRowHeight+"px; }","."+Aa+" .slick-footerrow-columns { height:"+a.footerRowHeight+"px; }","."+Aa+" .slick-cell { height:"+(a.rowHeight-qd)+"px; }","."+Aa+" .slick-row { height:"+a.rowHeight+"px; }"],d=0;d<t.length;d++)b.push("."+Aa+" .l"+d+" { }"),b.push("."+Aa+" .r"+d+" { }");Ab[0].styleSheet?Ab[0].styleSheet.cssText=b.join(" "):Ab[0].appendChild(document.createTextNode(b.join(" ")))}function A(a,b,c){c=c||new Slick.EventData;
b=b||{};b.grid=G;return a.notify(b,c,G)}function O(){return a.editorLock}function T(a){return jb[a]}function J(){var a,b=[],c=0,d=0,e,f=oc?fb-n.width:fb;for(a=0;a<t.length;a++){var k=t[a];b.push(k.width);d+=k.width;k.resizable&&(c+=k.width-Math.max(k.minWidth,gc))}for(e=d;d>f&&c;){var g=(d-f)/c;for(a=0;a<t.length&&d>f;a++){k=t[a];var h=b[a];if(!(!k.resizable||h<=k.minWidth||h<=gc)){k=Math.max(k.minWidth,gc);var m=Math.floor(g*(h-k))||1;m=Math.min(m,h-k);d-=m;c-=m;b[a]-=m}}if(e<=d)break;e=d}for(e=
d;d<f;){c=f/d;for(a=0;a<t.length&&d<f;a++)k=t[a],g=b[a],k=!k.resizable||k.maxWidth<=g?0:Math.min(Math.floor(c*g)-g,k.maxWidth-g||1E6)||1,d+=k,b[a]+=d<=f?k:0;if(e>=d)break;e=d}d=!1;for(a=0;a<t.length;a++)t[a].rerenderOnResize&&t[a].width!=b[a]&&(d=!0),t[a].width=b[a];fa();C(!0);d&&(qa(),Ma())}function fa(){if(ab){for(var a,b=0,d=Ra.children(),e=t.length;b<e;b++)a=c(d[b]),Hd?a.outerWidth()!==t[b].width&&a.outerWidth(t[b].width):a.width()!==t[b].width-Eb&&a.width(t[b].width-Eb);S()}}function da(){for(var a,
b,c=0,d,e=0;e<t.length;e++){d=t[e].width;var f;b=e;if(!ec){var k=document.styleSheets;for(a=0;a<k.length;a++)if((k[a].ownerNode||k[a].owningElement)==Ab[0]){ec=k[a];break}if(!ec)throw Error("Cannot find stylesheet.");Wc=[];re=[];k=ec.cssRules||ec.rules;for(a=0;a<k.length;a++){var g=k[a].selectorText;if(f=/\.l\d+/.exec(g))f=parseInt(f[0].substr(2,f[0].length-2),10),Wc[f]=k[a];else if(f=/\.r\d+/.exec(g))f=parseInt(f[0].substr(2,f[0].length-2),10),re[f]=k[a]}}a=Wc[b];b=re[b];a.style.left=c+"px";b.style.right=
mb-c-d+"px";c+=t[e].width}}function V(b){ya=b;var d=a.numberedMultiColumnSort&&1<ya.length,e=Ra.children(),f=e.removeClass("slick-header-column-sorted").find("."+bd).removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");d&&f.text("");c.each(ya,function(a,b){null==b.sortAsc&&(b.sortAsc=!0);var c=jb[b.columnId];null!=c&&(f=e.eq(c).addClass("slick-header-column-sorted").find("."+bd).addClass(b.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),d&&f.text(a+1))})}function D(b,
c){za=[];for(var d={},e=0;e<c.length;e++)for(var f=c[e].fromRow;f<=c[e].toRow;f++){d[f]||(za.push(f),d[f]={});for(var k=c[e].fromCell;k<=c[e].toCell;k++)Sb(f,k)&&(d[f][t[k].id]=a.selectedCellCssClass)}Ec(a.selectedCellCssClass,d);A(G.onSelectedRowsChanged,{rows:$b(),grid:G},b)}function S(){Dc=[];xc=[];for(var a=0,b=0,c=t.length;b<c;b++)Dc[b]=a,xc[b]=a+t[b].width,a+=t[b].width}function Va(a){t=a;jb={};for(a=0;a<t.length;a++){var d=t[a]=c.extend({},Gc,t[a]);jb[d.id]=a;d.minWidth&&d.width<d.minWidth&&
(d.width=d.minWidth);d.maxWidth&&d.width>d.maxWidth&&(d.width=d.maxWidth)}S();ab&&(qa(),b(),Ab.remove(),ec=null,Q(),wa(),da(),rc())}function ba(){return l.getLength?l.getLength():l.length}function Y(){return ba()+(a.enableAddRow?!ae||rd?1:0:0)}function R(a){return l.getItem?l.getItem(a):l[a]}function N(b){return Math.floor((b+Ha)/a.rowHeight)}function B(b){b=Math.max(b,0);b=Math.min(b,wb-Ua+(Yc?n.height:0));var c=Ha;bc=Math.min(ac-1,Math.floor(b/Oa));Ha=Math.round(bc*rb);b-=Ha;if(Ha!=c){var d=p(b);
Ca(d);for(var e in ra)ra[e].rowNode.style.top=a.rowHeight*e-Ha+"px"}Mc!=b&&(hb=Mc+c<b+Ha?1:-1,M[0].scrollTop=Zc=Qa=Mc=b,A(G.onViewportChanged,{grid:G}))}function K(b,c){var d=(b=l.getItemMetadata&&l.getItemMetadata(b))&&b.columns&&(b.columns[c.id]||b.columns[jb[c.id]]);return d&&d.formatter||b&&b.formatter||c.formatter||a.formatterFactory&&a.formatterFactory.getFormatter(c)||a.defaultFormatter}function L(b,c){var d=t[c];return(b=(b=l.getItemMetadata&&l.getItemMetadata(b))&&b.columns)&&b[d.id]&&void 0!==
b[d.id].editor?b[d.id].editor:b&&b[c]&&void 0!==b[c].editor?b[c].editor:d.editor||a.editorFactory&&a.editorFactory.getEditor(d)}function va(b,c){return a.dataItemColumnValueExtractor?a.dataItemColumnValueExtractor(b,c):b[c.field]}function Fa(a,b,c,d,e){var f=t[c],k="slick-cell l"+c+" r"+Math.min(t.length-1,c+d-1)+(f.cssClass?" "+f.cssClass:"");b===Z&&c===Da&&(k+=" active");for(var g in cb)cb[g][b]&&cb[g][b][f.id]&&(k+=" "+cb[g][b][f.id]);g=null;e&&(g=va(e,f));f=K(b,f)(b,c,g,f,e);g=A(G.onBeforeAppendCell,
{row:b,cell:c,grid:G,value:g,dataContext:e})||"";g+=f.addClasses?(g?" ":"")+f.addClasses:"";a.push("<div class='"+k+(g?" "+g:"")+"'>");e&&a.push("[object Object]"!==Object.prototype.toString.call(f)?f:f.text);a.push("</div>");ra[b].cellRenderQueue.push(c);ra[b].cellColSpans[c]=d}function Ca(b){for(var c in ra)(c=parseInt(c,10))!==Z&&(c<b.top||c>b.bottom)&&Ba(c);a.enableAsyncPostRenderCleanup&&Db()}function qa(){X&&db();for(var b in ra)Ba(b);a.enableAsyncPostRenderCleanup&&Db()}function W(a,b,d){Pc++;
for(var e in b)b.hasOwnProperty(e)&&ic.push({actionType:"C",groupId:Pc,node:a.cellNodesByColumnIdx[e|0],columnIdx:e|0,rowIdx:d});ic.push({actionType:"R",groupId:Pc,node:a.rowNode});c(a.rowNode).detach()}function Ba(b){var c=ra[b];c&&($a===c.rowNode?(c.rowNode.style.display="none",Gb=$a,sd=c,ad=bb[b]):a.enableAsyncPostRenderCleanup&&bb[b]?W(c,bb[b],b):Ea[0].removeChild(c.rowNode),delete ra[b],delete bb[b],cd--,ed++)}function la(b){var c;if(b&&b.length){hb=0;var d=b.length;for(c=0;c<d;c++)X&&Z===b[c]&&
db(),ra[b[c]]&&Ba(b[c]);a.enableAsyncPostRenderCleanup&&Db()}}function ca(a){la([a])}function ha(a,b,d){"[object Object]"!==Object.prototype.toString.call(a)?b.innerHTML=a:(b.innerHTML=a.text,a.removeClasses&&!d&&c(b).removeClass(a.removeClasses),a.addClasses&&c(b).addClass(a.addClasses))}function U(a){var b=ra[a];if(b){Mb(a);var c=R(a),d;for(d in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(d)){d|=0;var e=t[d];var f=b.cellNodesByColumnIdx[d];a===Z&&d===Da&&X?X.loadValue(c):c?(e=
K(a,e)(a,d,va(c,e),e,c),ha(e,f)):f.innerHTML=""}kb(a)}}function wa(){ab&&(Ua=a.autoHeight?a.rowHeight*Y():parseFloat(c.css(ua[0],"height",!0))-parseFloat(c.css(ua[0],"paddingTop",!0))-parseFloat(c.css(ua[0],"paddingBottom",!0))-parseFloat(c.css(Hb[0],"height"))-q(Hb)-(a.showTopPanel?a.topPanelHeight+q(Tb):0)-(a.showHeaderRow?a.headerRowHeight+q(sb):0)-(a.createFooterRow&&a.showFooterRow?a.footerRowHeight+q(yb):0)-(a.createPreHeaderPanel&&a.showPreHeaderPanel?a.preHeaderPanelHeight+q(zb):0),dd=Math.ceil(Ua/
a.rowHeight),fb=parseFloat(c.css(ua[0],"width",!0)),a.autoHeight||M.height(Ua),a.forceFitColumns&&J(),I(),rc(),Fb=-1,Ma())}function I(){if(ab){var b=ba(),c=Y()+(a.leaveSpaceForNewRows?dd-1:0),d=oc;oc=!a.autoHeight&&c*a.rowHeight>Ua;Yc=mb>fb-n.width;db();--b;for(var e in ra)e>b&&Ba(e);a.enableAsyncPostRenderCleanup&&Db();sa&&Z>b&&ta();e=xb;wb=Math.max(a.rowHeight*c,Ua-n.height);wb<f?(xb=Oa=wb,ac=1,rb=0):(xb=f,Oa=xb/100,ac=Math.floor(wb/Oa),rb=(wb-xb)/(ac-1));xb!==e&&(Ea.css("height",xb),Qa=M[0].scrollTop);
c=Qa+Ha<=wb-Ua;0==wb||0==Qa?bc=Ha=0:c?B(Qa+Ha):B(wb-Ua);xb!=e&&a.autoHeight&&wa();a.forceFitColumns&&d!=oc&&J();C(!1)}}function p(a,b){null==a&&(a=Qa);null==b&&(b=gb);return{top:N(a),bottom:N(a+Ua)+1,leftPx:b,rightPx:b+fb}}function Ka(b,c){b=p(b,c);c=Math.round(Ua/a.rowHeight);-1==hb?(b.top-=c,b.bottom+=3):1==hb?(b.top-=3,b.bottom+=c):(b.top-=3,b.bottom+=3);b.top=Math.max(0,b.top);b.bottom=Math.min(Y()-1,b.bottom);b.leftPx-=fb;b.rightPx+=fb;b.leftPx=Math.max(0,b.leftPx);b.rightPx=Math.min(mb,b.rightPx);
return b}function Mb(a){if((a=ra[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function Xb(){a.enableAsyncPostRender&&(clearTimeout(ia),ia=setTimeout(wd,a.asyncPostRenderDelay))}function Db(){a.enableAsyncPostRenderCleanup&&(clearTimeout(hc),hc=setTimeout(Bb,a.asyncPostRenderCleanupDelay))}function kb(a){for(var b in bb[a])bb[a].hasOwnProperty(b)&&(bb[a][b]="C");Oc=Math.min(Oc,a);
nb=Math.max(nb,a);Xb()}function Ma(){if(ab){var b=p(),d=Ka();Ca(d);if(Fb!=gb){for(var e,f=[],k=[],g,h,m=d.top,q=d.bottom;m<=q;m++)if(e=ra[m]){Mb(m);var r=void 0;h=d;g=m;var n=0,w=ra[g],v=[];for(r in w.cellNodesByColumnIdx)if(w.cellNodesByColumnIdx.hasOwnProperty(r)){r|=0;var B=w.cellColSpans[r];(Dc[r]>h.rightPx||xc[Math.min(t.length-1,r+B-1)]<h.leftPx)&&(g!=Z||r!=Da)&&v.push(r)}for(Pc++;null!=(r=v.pop());)h=w.cellNodesByColumnIdx[r],a.enableAsyncPostRenderCleanup&&bb[g]&&bb[g][r]?(ic.push({actionType:"C",
groupId:Pc,node:h,columnIdx:r,rowIdx:g}),c(h).detach()):w.rowNode.removeChild(h),delete w.cellColSpans[r],delete w.cellNodesByColumnIdx[r],bb[g]&&delete bb[g][r],n++;g=0;n=(n=l.getItemMetadata&&l.getItemMetadata(m))&&n.columns;w=R(m);v=0;for(r=t.length;v<r&&!(Dc[v]>d.rightPx);v++)null==(h=e.cellColSpans[v])&&(h=1,n&&(h=(h=n[t[v].id]||n[v])&&h.colspan||1,"*"===h&&(h=r-v)),xc[Math.min(r-1,v+h-1)]>d.leftPx&&(Fa(f,m,v,h,w),g++)),v+=1<h?h-1:0;g&&k.push(m)}if(f.length)for(m=document.createElement("div"),
m.innerHTML=f.join("");null!=(e=k.pop());)for(e=ra[e];null!=(q=e.cellRenderQueue.pop());)f=m.lastChild,e.rowNode.appendChild(f),e.cellNodesByColumnIdx[q]=f}k=Ea[0];e=[];f=[];m=!1;n=ba();q=d.top;for(g=d.bottom;q<=g;q++)if(!ra[q]){cd++;f.push(q);ra[q]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};w=e;v=q;r=d;B=n;h=R(v);var K="slick-row"+(v<B&&!h?" loading":"")+(v===Z?" active":"")+(1==v%2?" odd":" even");h||(K+=" "+a.addNewRowCssClass);(B=l.getItemMetadata&&l.getItemMetadata(v))&&
B.cssClasses&&(K+=" "+B.cssClasses);w.push("<div class='ui-widget-content "+K+"' style='top:"+(a.rowHeight*v-Ha)+"px'>");K=0;for(var u=t.length;K<u;K++){var y=t[K];var L=1;B&&B.columns&&(L=(y=B.columns[y.id]||B.columns[K])&&y.colspan||1,"*"===L&&(L=u-K));if(xc[Math.min(u-1,K+L-1)]>r.leftPx){if(Dc[K]>r.rightPx)break;Fa(w,v,K,L,h)}1<L&&(K+=L-1)}w.push("</div>");sa&&Z===q&&(m=!0);Kd++}if(f.length){d=document.createElement("div");d.innerHTML=e.join("");q=0;for(g=f.length;q<g;q++)ra[f[q]].rowNode=k.appendChild(d.firstChild);
m&&(sa=Ga(Z,Da))}Oc=b.top;nb=Math.min(Y()-1,b.bottom);Xb();Zc=Qa;Fb=gb;Pb=null}}function ub(){Yb(Hb[0])}function Vc(){Yb(sb[0])}function P(){Yb(yb[0])}function Ld(){Yb(zb[0])}function Yb(a){a=a.scrollLeft;a!=M[0].scrollLeft&&(M[0].scrollLeft=a)}function rc(){Qa=M[0].scrollTop;gb=M[0].scrollLeft;var b=Math.abs(Qa-Mc),c=Math.abs(gb-Zd);c&&(Zd=gb,Hb[0].scrollLeft=gb,Tb[0].scrollLeft=gb,sb[0].scrollLeft=gb,a.createFooterRow&&(yb[0].scrollLeft=gb),a.createPreHeaderPanel&&(zb[0].scrollLeft=gb));if(b)if(hb=
Mc<Qa?1:-1,Mc=Qa,b<Ua)B(Qa+Ha);else{var d=Ha;bc=xb==Ua?0:Math.min(ac-1,Math.floor((wb-Ua)/(xb-Ua)*Qa*(1/Oa)));Ha=Math.round(bc*rb);d!=Ha&&qa()}if(c||b)if(Pb&&clearTimeout(Pb),20<Math.abs(Zc-Qa)||20<Math.abs(Fb-gb))a.forceSyncScrolling||Math.abs(Zc-Qa)<Ua&&Math.abs(Fb-gb)<fb?Ma():Pb=setTimeout(Ma,50),A(G.onViewportChanged,{grid:G});A(G.onScroll,{scrollLeft:gb,scrollTop:Qa,grid:G})}function wd(){for(var b=ba();Oc<=nb;){var c=0<=hb?Oc++:nb--,d=ra[c];if(d&&!(c>=b)){bb[c]||(bb[c]={});Mb(c);for(var e in d.cellNodesByColumnIdx)if(d.cellNodesByColumnIdx.hasOwnProperty(e)){e|=
0;b=t[e];var f=bb[c][e];if(b.asyncPostRender&&"R"!==f){var k=d.cellNodesByColumnIdx[e];k&&b.asyncPostRender(k,c,R(c),b,"C"===f);bb[c][e]="R"}}ia=setTimeout(wd,a.asyncPostRenderDelay);break}}}function Bb(){if(0<ic.length){for(var b=ic[0].groupId;0<ic.length&&ic[0].groupId==b;){var d=ic.shift();"R"==d.actionType&&c(d.node).remove();if("C"==d.actionType){var e=t[d.columnIdx];e.asyncPostRenderCleanup&&d.node&&e.asyncPostRenderCleanup(d.node,d.rowIdx,e)}}hc=setTimeout(Bb,a.asyncPostRenderCleanupDelay)}}
function Lc(a,b){var d,e,f;for(f in ra){var k=b&&b[f];var g=a&&a[f];if(k)for(e in k)g&&k[e]==g[e]||(d=Ga(f,jb[e]))&&c(d).removeClass(k[e]);if(g)for(e in g)k&&k[e]==g[e]||(d=Ga(f,jb[e]))&&c(d).addClass(g[e])}}function Ec(a,b){var c=cb[a];cb[a]=b;Lc(b,c);A(G.onCellCssStylesChanged,{key:a,hash:b,grid:G})}function xd(b){b=c(b.target).closest(".slick-row")[0];b!=$a&&(Gb&&Gb!=b&&(a.enableAsyncPostRenderCleanup&&ad?W(sd,ad):Ea[0].removeChild(Gb),ad=sd=Gb=null,a.enableAsyncPostRenderCleanup&&Db()),$a=b)}
function Fd(a,b){var c=Zb(a);if(!c||!Sc(c.row,c.cell))return!1;b=A(G.onDragInit,b,a);return a.isImmediatePropagationStopped()?b:!1}function Ed(a,b){var c=Zb(a);if(!c||!Sc(c.row,c.cell))return!1;b=A(G.onDragStart,b,a);return a.isImmediatePropagationStopped()?b:!1}function Qc(a,b){return A(G.onDrag,b,a)}function Vb(a,b){A(G.onDragEnd,b,a)}function nc(b){A(G.onKeyDown,{row:Z,cell:Da,grid:G},b);var c=b.isImmediatePropagationStopped(),d=Slick.keyCode;if(!c)if(b.shiftKey||b.altKey||b.ctrlKey)b.which!=d.TAB||
!b.shiftKey||b.ctrlKey||b.altKey||(c=ee());else{if(a.editable&&X&&X.keyCaptureList&&-1<X.keyCaptureList.indexOf(b.which))return;if(b.which==d.ESCAPE){if(!O().isActive())return;Za()}else b.which==d.PAGE_DOWN?(pb(),c=!0):b.which==d.PAGE_UP?(u(),c=!0):b.which==d.LEFT?c=Nd():b.which==d.RIGHT?c=de():b.which==d.UP?c=Lb():b.which==d.DOWN?c=Rb():b.which==d.TAB?c=fc():b.which==d.ENTER&&(a.editable&&(X?Z===ba()?Rb():ob():O().commitCurrentEdit()&&oa()),c=!0)}if(c){b.stopPropagation();b.preventDefault();try{b.originalEvent.keyCode=
0}catch(pc){}}}function jc(a){X||(a.target!=document.activeElement||c(a.target).hasClass("slick-cell"))&&na();var b=Zb(a);!b||null!==X&&Z==b.row&&Da==b.cell||(A(G.onClick,{row:b.row,cell:b.cell,grid:G},a),a.isImmediatePropagationStopped()||!Ya(b.row,b.cell)||O().isActive()&&!O().commitCurrentEdit()||(ib(b.row,!1),a=a.target&&a.target.className===Slick.preClickClassName,vb(Ga(b.row,b.cell),null,a)))}function Xc(a){var b=c(a.target).closest(".slick-cell",Ea);0===b.length||sa===b[0]&&null!==X||A(G.onContextMenu,
{grid:G},a)}function fd(b){var c=Zb(b);!c||null!==X&&Z==c.row&&Da==c.cell||(A(G.onDblClick,{row:c.row,cell:c.cell,grid:G},b),b.isImmediatePropagationStopped()||a.editable&&tc(c.row,c.cell,!0))}function yd(a){A(G.onHeaderMouseEnter,{column:c(this).data("column"),grid:G},a)}function Md(a){A(G.onHeaderMouseLeave,{column:c(this).data("column"),grid:G},a)}function zd(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");b=b&&b.data("column");A(G.onHeaderContextMenu,{column:b,grid:G},
a)}function Ad(a){if(!qc){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&A(G.onHeaderClick,{column:b,grid:G},a)}}function md(a){A(G.onMouseEnter,{grid:G},a)}function Rc(a){A(G.onMouseLeave,{grid:G},a)}function Sc(a,b){return!(0>a||a>=ba()||0>b||b>=t.length)}function Tc(a){var b=/l\d+/.exec(a.className);if(!b)throw Error("getCellFromNode: cannot get cell - "+a.className);return parseInt(b[0].substr(1,b[0].length-1),10)}function gd(a){for(var b in ra)if(ra[b].rowNode===
a)return b|0;return null}function Zb(a){var b=c(a.target).closest(".slick-cell",Ea);if(!b.length)return null;a=gd(b[0].parentNode);b=Tc(b[0]);return null==a||null==b?null:{row:a,cell:b}}function ta(){vb(null,!1)}function na(){-1==Id?Hc[0].focus():Gd[0].focus()}function sc(a,b,c){ib(a,c);a=Na(a,b);Fc(Dc[b],xc[b+(1<a?a-1:0)])}function Fc(a,b){var c=gb+fb;a<gb?(M.scrollLeft(a),rc(),Ma()):b>c&&(M.scrollLeft(Math.min(a,b-M[0].clientWidth)),rc(),Ma())}function vb(b,d,e,f){null!==sa&&(db(),c(sa).removeClass("active"),
ra[Z]&&c(ra[Z].rowNode).removeClass("active"));sa=b;null!=sa?(Z=gd(sa.parentNode),Da=yc=Tc(sa),null==d&&(d=Z==ba()||a.autoEdit),a.showCellSelection&&(c(sa).addClass("active"),c(ra[Z].rowNode).addClass("active")),a.editable&&d&&Ub(Z,Da)&&(clearTimeout(Wa),a.asyncEditorLoading?Wa=setTimeout(function(){oa(void 0,e)},a.asyncEditorLoadDelay):oa(void 0,e))):Z=Da=null;f||A(G.onActiveCellChanged,Xa())}function Ub(a,b){var c=ba();return a<c&&!R(a)||t[b].cannotTriggerInsert&&a>=c||!L(a,b)?!1:!0}function db(){if(X){A(G.onBeforeCellEditorDestroy,
{editor:X,grid:G});X.destroy();X=null;if(sa){var a=R(Z);c(sa).removeClass("editable invalid");if(a){var b=t[Da];a=K(Z,b)(Z,Da,va(a,b),b,a,G);ha(a,sa);kb(Z)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(ud){}else window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();O().deactivate($c)}}function oa(b,d){if(sa){if(!a.editable)throw Error("Grid : makeActiveCellEditable : should never get called when options.editable is false");
clearTimeout(Wa);if(Ub(Z,Da)){var e=t[Da],f=R(Z);if(!1===A(G.onBeforeEditCell,{row:Z,cell:Da,item:f,column:e,grid:G}))na();else{O().activate($c);c(sa).addClass("editable");var k=b||L(Z,Da);b||k.suppressClearOnEdit||(sa.innerHTML="");X=new k({grid:G,gridPosition:Cb(ua[0]),position:Cb(sa),container:sa,column:e,item:f||{},commitChanges:ob,cancelChanges:Za});f&&(X.loadValue(f),d&&X.preClick&&X.preClick());Jd=X.serializeValue();X.position&&Wb()}}}}function ob(){O().commitCurrentEdit()&&(na(),a.autoEdit&&
Rb())}function Za(){O().cancelCurrentEdit()&&na()}function Cb(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:c(a).outerWidth(),height:c(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var d=a.offsetParent;(a=a.parentNode)!=document.body&&null!=a;)b.visible&&a.scrollHeight!=a.offsetHeight&&"visible"!=c(a).css("overflowY")&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&"visible"!=c(a).css("overflowX")&&
(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===d&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,d=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function kc(){return Cb(sa)}function Wb(){if(sa&&(A(G.onActiveCellPositionChanged,{grid:G}),X)){var a=kc();X.show&&X.hide&&(a.visible?X.show():X.hide());X.position&&X.position(a)}}function Xa(){return sa?{row:Z,cell:Da,grid:G}:null}function ib(b,c){var d=b*a.rowHeight,e=
(b+1)*a.rowHeight-Ua+(Yc?n.height:0);(b+1)*a.rowHeight>Qa+Ua+Ha?(B(c?d:e),Ma()):b*a.rowHeight<Qa+Ha&&(B(c?e:d),Ma())}function Qb(b){b*=dd;B((N(Qa)+b)*a.rowHeight);Ma();if(a.enableCellNavigation&&null!=Z){b=Z+b;var c=Y();b>=c&&(b=c-1);0>b&&(b=0);c=0;for(var d=null,e=yc;c<=yc;)Ya(b,c)&&(d=c),c+=Na(b,c);null!==d?(vb(Ga(b,d)),yc=e):ta()}}function pb(){Qb(1)}function u(){Qb(-1)}function Na(a,b){a=l.getItemMetadata&&l.getItemMetadata(a);if(!a||!a.columns)return 1;a=(a=a.columns[t[b].id]||a.columns[b])&&
a.colspan;return a="*"===a?t.length-b:a||1}function Vd(a){for(var b=0;b<t.length;){if(Ya(a,b))return b;b+=Na(a,b)}return null}function ea(a,b,c){if(b>=t.length)return null;do b+=Na(a,b);while(b<t.length&&!Ya(a,b));return b<t.length?{row:a,cell:b,posX:b}:null}function be(a,b,c){if(0>=b)return null;c=Vd(a);if(null===c||c>=b)return null;for(a={row:a,cell:c,posX:c};;){c=ea(a.row,a.cell,a.posX);if(!c)return null;if(c.cell>=b)return a;a=c}}function ce(a,b,c){for(var d,e=Y();;){if(++a>=e)return null;for(d=
b=0;b<=c;)d=b,b+=Na(a,b);if(Ya(a,d))return{row:a,cell:d,posX:c}}}function Ud(a,b,c){for(var d;;){if(0>--a)return null;for(d=b=0;b<=c;)d=b,b+=Na(a,b);if(Ya(a,d))return{row:a,cell:d,posX:c}}}function Ja(a,b,c){if(null==a&&null==b&&(a=b=c=0,Ya(a,b)))return{row:a,cell:b,posX:b};if(b=ea(a,b,c))return b;c=Y();for(a===c-1&&a--;++a<c;)if(b=Vd(a),null!==b)return{row:a,cell:b,posX:b};return null}function eb(a,b,c){if(null==a&&null==b&&(a=Y()-1,b=c=t.length-1,Ya(a,b)))return{row:a,cell:b,posX:b};for(var d,e;!d&&
!(d=be(a,b,c));){if(0>--a)return null;b=0;e=a;for(var f=0,k=null;f<t.length;)Ya(e,f)&&(k=f),f+=Na(e,f);e=k;null!==e&&(d={row:a,cell:e,posX:e})}return d}function de(){return qb("right")}function Nd(){return qb("left")}function Rb(){return qb("down")}function Lb(){return qb("up")}function fc(){return qb("next")}function ee(){return qb("prev")}function qb(b){if(!a.enableCellNavigation||!sa&&"prev"!=b&&"next"!=b)return!1;if(!O().commitCurrentEdit())return!0;na();Id={up:-1,down:1,left:-1,right:1,prev:-1,
next:1}[b];if(b=(0,{up:Ud,down:ce,left:be,right:ea,prev:eb,next:Ja}[b])(Z,Da,yc)){var c=b.row==ba();sc(b.row,b.cell,!c);vb(Ga(b.row,b.cell));yc=b.posX;return!0}vb(Ga(Z,Da));return!1}function Ga(a,b){return ra[a]?(Mb(a),ra[a].cellNodesByColumnIdx[b]):null}function Ya(b,c){return!a.enableCellNavigation||b>=Y()||0>b||c>=t.length||0>c?!1:(b=l.getItemMetadata&&l.getItemMetadata(b))&&"undefined"!==typeof b.focusable?!!b.focusable:(b=b&&b.columns)&&b[t[c].id]&&"undefined"!==typeof b[t[c].id].focusable?!!b[t[c].id].focusable:
b&&b[c]&&"undefined"!==typeof b[c].focusable?!!b[c].focusable:!!t[c].focusable}function Sb(a,b){return a>=ba()||0>a||b>=t.length||0>b?!1:(a=l.getItemMetadata&&l.getItemMetadata(a))&&"undefined"!==typeof a.selectable?!!a.selectable:(a=a&&a.columns&&(a.columns[t[b].id]||a.columns[b]))&&"undefined"!==typeof a.selectable?!!a.selectable:!!t[b].selectable}function tc(b,c,d){ab&&Ya(b,c)&&O().commitCurrentEdit()&&(sc(b,c,!1),c=Ga(b,c),vb(c,d||b===ba()||a.autoEdit),X||na())}function we(){var b=R(Z),d=t[Da];
if(X){if(X.isValueChanged()){var e=X.validate();if(e.valid)return Z<ba()?(e={row:Z,cell:Da,editor:X,serializedValue:X.serializeValue(),prevSerializedValue:Jd,execute:function(){this.editor.applyValue(b,this.serializedValue);U(this.row);A(G.onCellChange,{row:this.row,cell:this.cell,item:b,grid:G})},undo:function(){this.editor.applyValue(b,this.prevSerializedValue);U(this.row);A(G.onCellChange,{row:this.row,cell:this.cell,item:b,grid:G})}},a.editCommandHandler?(db(),a.editCommandHandler(b,d,e)):(e.execute(),
db())):(e={},X.applyValue(e,X.serializeValue()),db(),A(G.onAddNewRow,{item:e,column:d,grid:G})),!O().isActive();c(sa).removeClass("invalid");c(sa).width();c(sa).addClass("invalid");A(G.onValidationError,{editor:X,cellNode:sa,validationResults:e,row:Z,cell:Da,column:d,grid:G});X.focus();return!1}db()}return!0}function lc(){db();return!0}function xe(a){for(var b=[],c=t.length-1,d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function $b(){if(!Nb)throw Error("Selection model is not set");
return za}var Od={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,
createPreHeaderPanel:!1,showPreHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,defaultFormatter:function(a,b,c,d,e){return null==c?"":(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},
forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,showCellSelection:!0,viewportClass:null},Gc={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},wb,xb,Oa,ac,rb,bc=0,Ha=0,hb=1,ab=!1,ua,Aa="slickgrid_"+Math.round(1E6*Math.random()),G=this,Hc,Gd,Hb,Ra,cc,sb,uc,Ia,yb,Ic,Jc,zb,vc,Tb,x,M,Ea,Ab,Ta,ec,Wc,re,Ua,fb,mb,Yc,oc,Eb=0,Ac=0,pd=0,qd=0,Hd=!1,gc,bd="slick-sort-indicator",Id=1,yc,Z,Da,sa=
null,X=null,Jd,$c,ra={},cd=0,dd,Mc=0,Qa=0,Zc=0,Fb=0,Zd=0,gb=0,Nb,za=[],Ob=[],cb={},jb={},ya=[],Dc=[],xc=[],ae=!1,rd=!1,Wa=null,Pb=null,ia=null,hc=null,bb={},nb=null,Oc=null,ic=[],Pc=0,Kd=0,ed=0,$a,Gb,sd,ad,od={position:"absolute",visibility:"hidden",display:"block"},nd,td=[],qc=!1;this.debug=function(){var a="\ncounter_rows_rendered:  "+Kd;a+="\ncounter_rows_removed:  "+ed;a+="\nrenderedRows:  "+cd;a+="\nnumVisibleRows:  "+dd;a+="\nmaxSupportedCssHeight:  "+f;a+="\nn(umber of pages):  "+ac;a+="\n(current) page:  "+
bc;a+="\npage height (ph):  "+Oa;a+="\nvScrollDir:  "+hb;alert(a)};this.eval=function(a){return eval(a)};c.extend(this,{slickGridVersion:"2.3.10",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,
onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onBeforeAppendCell:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,
onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){Ob.unshift(a);a.init(G)},unregisterPlugin:w,getColumns:function(){return t},setColumns:Va,getColumnIndex:T,updateColumnHeader:function(a,b,c){if(ab&&(a=jb[a],null!=a)){var d=t[a],e=
Ra.children().eq(a);e&&(void 0!==b&&(t[a].name=b),void 0!==c&&(t[a].toolTip=c),A(G.onBeforeHeaderCellDestroy,{node:e[0],column:d,grid:G}),e.attr("title",c||"").children().eq(0).html(b),A(G.onHeaderCellRendered,{node:e[0],column:d,grid:G}))}},setSortColumn:function(a,b){V([{columnId:a,sortAsc:b}])},setSortColumns:V,getSortColumns:function(){return ya},autosizeColumns:J,getOptions:function(){return a},setOptions:function(b,d){O().commitCurrentEdit()&&(db(),a.enableAddRow!==b.enableAddRow&&ca(ba()),
a=c.extend(a,b),a.autoHeight&&(a.leaveSpaceForNewRows=!1),M.css("overflow-y",a.autoHeight?"hidden":"auto"),d||Ma())},getData:function(){return l},getDataLength:ba,getDataItem:R,setData:function(a,b){l=a;qa();I();b&&B(0)},getSelectionModel:function(){return Nb},setSelectionModel:function(a){Nb&&(Nb.onSelectedRangesChanged.unsubscribe(D),Nb.destroy&&Nb.destroy());if(Nb=a)Nb.init(G),Nb.onSelectedRangesChanged.subscribe(D)},getSelectedRows:$b,setSelectedRows:function(a){if(!Nb)throw Error("Selection model is not set");
Nb.setSelectedRanges(xe(a))},getContainerNode:function(){return ua.get(0)},updatePagingStatusFromView:function(a){ae=0!==a.pageSize;rd=a.pageNum==a.totalPages-1},render:Ma,invalidate:function(){I();qa();Ma()},invalidateRow:ca,invalidateRows:la,invalidateAllRows:qa,updateCell:function(a,b){var c=Ga(a,b);if(c){var d=t[b],e=R(a);X&&Z===a&&Da===b?X.loadValue(e):(b=e?K(a,d)(a,b,va(e,d),d,e):"",ha(b,c),kb(a))}},updateRow:U,getViewport:p,getRenderedRange:Ka,resizeCanvas:wa,updateRowCount:I,scrollRowIntoView:ib,
scrollRowToTop:function(b){B(b*a.rowHeight);Ma()},scrollCellIntoView:sc,scrollColumnIntoView:function(a){Fc(Dc[a],xc[a])},getCanvasNode:function(){return Ea[0]},getUID:function(){return Aa},getHeaderColumnWidthDiff:function(){return Eb},getScrollbarDimensions:function(){return n},getHeadersWidth:v,getCanvasWidth:H,focus:na,getCellFromPoint:function(a,b){b=N(b);for(var c=0,d=0,e=0;e<t.length&&d<a;e++)d+=t[e].width,c++;0>c&&(c=0);return{row:b,cell:c-1}},getCellFromEvent:Zb,getActiveCell:Xa,setActiveCell:function(b,
c,d,e,f){!ab||b>ba()||0>b||c>=t.length||0>c||!a.enableCellNavigation||(sc(b,c,!1),vb(Ga(b,c),d,e,f))},getActiveCellNode:function(){return sa},getActiveCellPosition:kc,resetActiveCell:ta,editActiveCell:oa,getCellEditor:function(){return X},getCellNode:Ga,getCellNodeBox:function(b,c){if(!Sc(b,c))return null;b=a.rowHeight*b-Ha;for(var d=b+a.rowHeight-1,e=0,f=0;f<c;f++)e+=t[f].width;return{top:b,left:e,bottom:d,right:e+t[c].width}},canCellBeSelected:Sb,canCellBeActive:Ya,navigatePrev:ee,navigateNext:fc,
navigateUp:Lb,navigateDown:Rb,navigateLeft:Nd,navigateRight:de,navigatePageUp:u,navigatePageDown:pb,gotoCell:tc,getTopPanel:function(){return x[0]},setTopPanelVisibility:function(b){a.showTopPanel!=b&&((a.showTopPanel=b)?Tb.slideDown("fast",wa):Tb.slideUp("fast",wa))},getPreHeaderPanel:function(){return Jc[0]},setPreHeaderPanelVisibility:function(b){a.showPreHeaderPanel!=b&&((a.showPreHeaderPanel=b)?zb.slideDown("fast",wa):zb.slideUp("fast",wa))},setHeaderRowVisibility:function(b){a.showHeaderRow!=
b&&((a.showHeaderRow=b)?sb.slideDown("fast",wa):sb.slideUp("fast",wa))},getHeaderRow:function(){return cc[0]},getHeaderRowColumn:function(a){a=jb[a];return(a=cc.children().eq(a))&&a[0]},setFooterRowVisibility:function(b){a.showFooterRow!=b&&((a.showFooterRow=b)?yb.slideDown("fast",wa):yb.slideUp("fast",wa))},getFooterRow:function(){return Ia[0]},getFooterRowColumn:function(a){a=jb[a];return(a=Ia.children().eq(a))&&a[0]},getGridPosition:function(){return Cb(ua[0])},flashCell:function(b,d,e){e=e||100;
if(ra[b]){var f=function(b){b&&setTimeout(function(){k.queue(function(){k.toggleClass(a.cellFlashingCssClass).dequeue();f(b-1)})},e)},k=c(Ga(b,d));f(4)}},addCellCssStyles:function(a,b){if(cb[a])throw Error("addCellCssStyles: cell CSS hash with key '"+a+"' already exists.");cb[a]=b;Lc(b,null);A(G.onCellCssStylesChanged,{key:a,hash:b,grid:G})},setCellCssStyles:Ec,removeCellCssStyles:function(a){cb[a]&&(Lc(null,cb[a]),delete cb[a],A(G.onCellCssStylesChanged,{key:a,hash:null,grid:G}))},getCellCssStyles:function(a){return cb[a]},
init:d,destroy:function(){O().cancelCurrentEdit();A(G.onBeforeDestroy,{grid:G});for(var b=Ob.length;b--;)w(Ob[b]);a.enableColumnReorder&&Ra.filter(":ui-sortable").sortable("destroy");Ta&&(Ta.off("scroll."+Aa),Ta=null);ua.off(".slickgrid");Ab.remove();ec=null;Ea.off("draginit dragstart dragend drag");ua.empty().removeClass(Aa)},getEditorLock:O,getEditController:function(){return $c}});(function(){ua=h instanceof jQuery?h:c(h);if(1>ua.length)throw Error("SlickGrid requires a valid container, "+h+" does not exist in the DOM.");
k();var b;if(!(b=f)){b=1E6;for(var e=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,g=c("<div style='display:none' />").appendTo(document.body);;){var m=2*b;g.css("height",m);if(m>e||g.height()!==m)break;else b=m}g.remove()}f=b;a=c.extend({},Od,a);a.autoHeight&&(a.leaveSpaceForNewRows=!1);Gc.width=a.defaultColumnWidth;jb={};for(b=0;b<t.length;b++)e=t[b]=c.extend({},Gc,t[b]),jb[e.id]=b,e.minWidth&&e.width<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&e.width>e.maxWidth&&(e.width=e.maxWidth);
if(a.enableColumnReorder&&!c.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");$c={commitCurrentEdit:we,cancelCurrentEdit:lc};ua.empty().css("overflow","hidden").css("outline",0).addClass(Aa).addClass("ui-widget");/relative|absolute|fixed/.test(ua.css("position"))||ua.css("position","relative");Hc=c("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(ua);a.createPreHeaderPanel&&
(zb=c("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(ua),Jc=c("<div />").appendTo(zb),vc=c("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo(zb),a.showPreHeaderPanel||zb.hide());Hb=c("<div class='slick-header ui-state-default' />").appendTo(ua);Ra=c("<div class='slick-header-columns' style='left:-1000px' />").appendTo(Hb);sb=c("<div class='slick-headerrow ui-state-default' />").appendTo(ua);cc=c("<div class='slick-headerrow-columns' />").appendTo(sb);
uc=c("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo(sb);Tb=c("<div class='slick-top-panel-scroller ui-state-default' />").appendTo(ua);x=c("<div class='slick-top-panel' style='width:10000px' />").appendTo(Tb);a.showTopPanel||Tb.hide();a.showHeaderRow||sb.hide();M=c("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(ua);M.css("overflow-y",a.autoHeight?"hidden":"auto");a.viewportClass&&M.toggleClass(a.viewportClass,
!0);Ea=c("<div class='grid-canvas' />").appendTo(M);(b=n)||(b=c('<div class="'+c(".slick-viewport")[0].className+'" style="position:absolute; top:-10000px; left:-10000px; overflow:auto; width:100px; height:100px;"></div>').appendTo(c(".slick-viewport")),e=c('<div style="width:200px; height:200px; overflow:auto;"></div>').appendTo(b),g={width:b[0].offsetWidth-b[0].clientWidth,height:b[0].offsetHeight-b[0].clientHeight},e.remove(),b.remove(),b=g);n=b;vc&&vc.css("width",H()+n.width+"px");Ra.width(v());
uc.css("width",H()+n.width+"px");a.createFooterRow&&(yb=c("<div class='slick-footerrow ui-state-default' />").appendTo(ua),Ia=c("<div class='slick-footerrow-columns' />").appendTo(yb),Ic=c("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",H()+n.width+"px").appendTo(yb),a.showFooterRow||yb.hide());a.numberedMultiColumnSort&&(bd="slick-sort-indicator-numbered");Gd=Hc.clone().appendTo(ua);a.explicitInitialization||d()})()}}});var n,f})(jQuery);(function(c){c.extend(!0,window,{Slick:{Data:{DataView:function(n){function f(a){for(var b=a||0,c=J.length;b<c;b++){a=J[b][T];if(void 0===a)throw Error("Each data element must implement a unique 'id' property");da[a]=b}}function h(){return{pageSize:ca,pageNum:ha,totalRows:U,totalPages:ca?Math.max(1,Math.ceil(U/ca)):1,dataView:O}}function l(a,b){ba=b;R=a;Y=null;!1===b&&J.reverse();J.sort(a);!1===b&&J.reverse();da={};f();A()}function t(a,b){ba=b;Y=a;R=null;var c=Object.prototype.toString;Object.prototype.toString=
"function"==typeof a?a:function(){return this[a]};!1===b&&J.reverse();J.sort();Object.prototype.toString=c;!1===b&&J.reverse();da={};f();A()}function a(a){n.groupItemMetadataProvider||(n.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider);Ba=[];la=[];a=a||[];W=a instanceof Array?a:[a];for(a=0;a<W.length;a++){var b=W[a]=c.extend(!0,{},qa,W[a]);b.getterIsAFn="function"===typeof b.getter;b.compiledAccumulators=[];for(var d=b.aggregators.length;d--;){var e=b.compiledAccumulators,f=d,k=
m(b.aggregators[d].accumulate);k=new Function("_items","for (var "+k.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+k.params[0]+" = _items[_i]; "+k.body+"}");k.displayName=k.name="compiledAccumulatorLoop";e[f]=k}la[a]={}}A()}function d(){if(!V){V={};for(var a=0,b=fa.length;a<b;a++)V[fa[a][T]]=a}}function k(a){return J[da[a]]}function r(a,b){if(void 0===da[a]||a!==b[T])throw Error("Invalid or non-matching id");J[da[a]]=b;S||(S={});S[a]=!0;A()}function w(a,b){J.splice(a,0,b);f(a);A()}function v(a){if(!R)throw Error("sortedAddItem() requires a sort comparer, use sort()");
for(var b=0,c=J.length;b<c;){var d=b+c>>>1;-1===R(J[d],a)?b=d+1:c=d}w(b,a)}function H(a){var b=da[a];if(void 0===b)throw Error("Invalid id");delete da[a];J.splice(b,1);f(b);A()}function C(a,b){if(null==a)for(a=0;a<W.length;a++)la[a]={},W[a].collapsed=b;else la[a]={},W[a].collapsed=b;A()}function z(a,b,c){la[a][b]=W[a].collapsed^c;A()}function E(a,b){for(var c,d,e=[],f={},k,g=b?b.level+1:0,h=W[g],m=0,l=h.predefinedValues.length;m<l;m++)d=h.predefinedValues[m],c=f[d],c||(c=new Slick.Group,c.value=d,
c.level=g,c.groupingKey=(b?b.groupingKey+":|:":"")+d,e[e.length]=c,f[d]=c);m=0;for(l=a.length;m<l;m++)k=a[m],d=h.getterIsAFn?h.getter(k):k[h.getter],c=f[d],c||(c=new Slick.Group,c.value=d,c.level=g,c.groupingKey=(b?b.groupingKey+":|:":"")+d,e[e.length]=c,f[d]=c),c.rows[c.count++]=k;if(g<W.length-1)for(m=0;m<e.length;m++)c=e[m],c.groups=E(c.rows,c);e.sort(W[g].comparer);return e}function b(a){var c=a.group,d=W[c.level],e=c.level==W.length,f,k=d.aggregators.length;if(!e&&d.aggregateChildGroups)for(f=
c.groups.length;f--;)c.groups[f].totals.initialized||b(c.groups[f].totals);for(;k--;)f=d.aggregators[k],f.init(),!e&&d.aggregateChildGroups?d.compiledAccumulators[k].call(f,c.groups):d.compiledAccumulators[k].call(f,c.rows),f.storeResult(a);a.initialized=!0}function e(a,c){c=c||0;for(var d=W[c],f=d.collapsed,k=la[c],g=a.length,h;g--;)if(h=a[g],!h.collapsed||d.aggregateCollapsed){h.groups&&e(h.groups,c+1);if(d.aggregators.length&&(d.aggregateEmpty||h.rows.length||h.groups&&h.groups.length)){var m=
h,l=W[m.level],q=new Slick.GroupTotals;q.group=m;m.totals=q;l.lazyTotalsCalculation||b(q)}h.collapsed=f^k[h.groupingKey];h.title=d.formatter?d.formatter(h):h.value}}function g(a,b){b=b||0;for(var c=W[b],d=[],e,f=0,k,h=0,m=a.length;h<m;h++){k=a[h];d[f++]=k;if(!k.collapsed){e=k.groups?g(k.groups,b+1):k.rows;for(var l=0,q=e.length;l<q;l++)d[f++]=e[l]}k.totals&&c.displayTotalsRow&&(!k.collapsed||c.aggregateCollapsed)&&(d[f++]=k.totals)}return d}function m(a){a=a.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);
return{params:a[1].split(","),body:a[2]}}function q(a,b){for(var c=[],d=0,e=0,f=a.length;e<f;e++)D(a[e],b)&&(c[d++]=a[e]);return c}function y(a,b,c){for(var d=[],e=0,f,k=0,g=a.length;k<g;k++)f=a[k],c[k]?d[e++]=f:D(f,b)&&(d[e++]=f,c[k]=!0);return d}function Q(a){V=null;if(N.isFilterNarrowing!=B.isFilterNarrowing||N.isFilterExpanding!=B.isFilterExpanding)Ca=[];if(D){var b=n.inlineFilters?va:q,c=n.inlineFilters?Fa:y;N.isFilterNarrowing?L=b(L,K):N.isFilterExpanding?L=c(a,K,Ca):N.isFilterUnchanged||(L=
b(a,K))}else L=ca?a:a.concat();ca?(L.length<=ha*ca&&(ha=0===L.length?0:Math.floor((L.length-1)/ca)),b=L.slice(ca*ha,ca*ha+ca)):b=L;U=a=L.length;a=b;Ba=[];W.length&&(Ba=E(a),Ba.length&&(e(Ba),a=g(Ba)));b=fa;c=a;var d,f=[];var k=0;var h=c.length;N&&N.ignoreDiffsBefore&&(k=Math.max(0,Math.min(c.length,N.ignoreDiffsBefore)));N&&N.ignoreDiffsAfter&&(h=Math.min(c.length,Math.max(0,N.ignoreDiffsAfter)));for(var m=k,l=b.length;m<h;m++)if(m>=l)f[f.length]=m;else{k=c[m];var r=b[m];if(W.length&&(d=k.__nonDataRow||
r.__nonDataRow)&&k.__group!==r.__group||k.__group&&!k.equals(r)||d&&(k.__groupTotals||r.__groupTotals)||k[T]!=r[T]||S&&S[k[T]])f[f.length]=m}fa=a;return f}function A(){if(!Va){var a=fa.length,b=U,c=Q(J,D);ca&&U<ha*ca&&(ha=Math.max(0,Math.ceil(U/ca)-1),c=Q(J,D));S=null;B=N;N={};b!==U&&p.notify(h(),null,O);a!==fa.length&&wa.notify({previous:a,current:fa.length,dataView:O},null,O);0<c.length&&I.notify({rows:c,dataView:O},null,O)}}var O=this,T="id",J=[],fa=[],da={},V=null,D=null,S=null,Va=!1,ba=!0,Y,
R,N={},B={},K,L=[],va,Fa,Ca=[],qa={getter:null,formatter:null,comparer:function(a,b){return a.value===b.value?0:a.value>b.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},W=[],Ba=[],la=[],ca=0,ha=0,U=0,wa=new Slick.Event,I=new Slick.Event,p=new Slick.Event;n=c.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},n);c.extend(this,{beginUpdate:function(){Va=!0},endUpdate:function(){Va=
!1;A()},setPagingOptions:function(a){void 0!=a.pageSize&&(ha=(ca=a.pageSize)?Math.min(ha,Math.max(0,Math.ceil(U/ca)-1)):0);void 0!=a.pageNum&&(ha=Math.min(a.pageNum,Math.max(0,Math.ceil(U/ca)-1)));p.notify(h(),null,O);A()},getPagingInfo:h,getItems:function(){return J},setItems:function(a,b){void 0!==b&&(T=b);J=L=a;da={};f();b=0;for(var c=J.length;b<c;b++)if(a=J[b][T],void 0===a||da[a]!==b)throw Error("Each data element must implement a unique 'id' property");A()},setFilter:function(a){D=a;if(n.inlineFilters){a=
m(D);var b=a.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return!0([;}]|\}|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");b="var _retval = [], _idx = 0; var $item$, $args$ = _args; _coreloop: for (var _i = 0, _il = _items.length; _i < _il; _i++) { $item$ = _items[_i]; $filter$; } return _retval; ".replace(/\$filter\$/gi,
b);b=b.replace(/\$item\$/gi,a.params[0]);b=b.replace(/\$args\$/gi,a.params[1]);a=new Function("_items,_args",b);a.displayName=a.name="compiledFilter";va=a;a=m(D);b=a.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return!0([;}]|\}|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,
"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2");b="var _retval = [], _idx = 0; var $item$, $args$ = _args; _coreloop: for (var _i = 0, _il = _items.length; _i < _il; _i++) { $item$ = _items[_i]; if (_cache[_i]) { _retval[_idx++] = $item$; continue _coreloop; } $filter$; } return _retval; ".replace(/\$filter\$/gi,b);b=b.replace(/\$item\$/gi,a.params[0]);b=b.replace(/\$args\$/gi,a.params[1]);a=new Function("_items,_args,_cache",b);a.displayName=a.name="compiledFilterWithCaching";
Fa=a}A()},getFilter:function(){return D},getFilteredItems:function(){return L},sort:l,fastSort:t,reSort:function(){R?l(R,ba):Y&&t(Y,ba)},setGrouping:a,getGrouping:function(){return W},groupBy:function(b,c,d){null==b?a([]):a({getter:b,formatter:c,comparer:d})},setAggregators:function(b,c){if(!W.length)throw Error("At least one grouping must be specified before calling setAggregators().");W[0].aggregators=b;W[0].aggregateCollapsed=c;a(W)},collapseAllGroups:function(a){C(a,!0)},expandAllGroups:function(a){C(a,
!1)},collapseGroup:function(a){var b=Array.prototype.slice.call(arguments),c=b[0];1==b.length&&-1!=c.indexOf(":|:")?z(c.split(":|:").length-1,c,!0):z(b.length-1,b.join(":|:"),!0)},expandGroup:function(a){var b=Array.prototype.slice.call(arguments),c=b[0];1==b.length&&-1!=c.indexOf(":|:")?z(c.split(":|:").length-1,c,!1):z(b.length-1,b.join(":|:"),!1)},getGroups:function(){return Ba},getIdxById:function(a){return da[a]},getRowByItem:function(a){d();return V[a[T]]},getRowById:function(a){d();return V[a]},
getItemById:k,getItemByIdx:function(a){return J[a]},mapItemsToRows:function(a){var b=[];d();for(var c=0,e=a.length;c<e;c++){var f=V[a[c][T]];null!=f&&(b[b.length]=f)}return b},mapRowsToIds:function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]<fa.length&&(b[b.length]=fa[a[c]][T]);return b},mapIdsToRows:function(a){var b=[];d();for(var c=0,e=a.length;c<e;c++){var f=V[a[c]];null!=f&&(b[b.length]=f)}return b},setRefreshHints:function(a){N=a},setFilterArgs:function(a){K=a},refresh:A,updateItem:r,insertItem:w,
addItem:function(a){J.push(a);f(J.length-1);A()},sortedAddItem:v,sortedUpdateItem:function(a){if(!R)throw Error("sortedUpdateItem() requires a sort comparer, use sort()");var b=k(a.id);0!==R(b,a)?(H(a.id),v(a)):r(a.id,a)},deleteItem:H,syncGridSelection:function(a,b,d){function e(b){h.join(",")!=b.join(",")&&(h=b,m.notify({grid:a,ids:h,dataView:k},new Slick.EventData,k))}function f(){if(0<h.length){g=!0;var c=k.mapIdsToRows(h);b||e(k.mapRowsToIds(c));a.setSelectedRows(c);g=!1}}var k=this,g,h=k.mapRowsToIds(a.getSelectedRows()),
m=new Slick.Event;a.onSelectedRowsChanged.subscribe(function(b,f){g||(b=k.mapRowsToIds(a.getSelectedRows()),d&&a.getOptions().multiSelect?(f=c.grep(h,function(a){return void 0===k.getRowById(a)}),e(f.concat(b))):e(b))});this.onRowsChanged.subscribe(f);this.onRowCountChanged.subscribe(f);return m},syncGridCellCssStyles:function(a,b){function c(a){f={};for(var b in a)f[fa[b][T]]=a[b]}function e(){if(f){k=!0;d();var c={},e;for(e in f){var g=V[e];void 0!=g&&(c[g]=f[e])}a.setCellCssStyles(b,c);k=!1}}var f,
k;c(a.getCellCssStyles(b));a.onCellCssStylesChanged.subscribe(function(d,f){k||b!=f.key||(f.hash?c(f.hash):(a.onCellCssStylesChanged.unsubscribe(styleChanged),O.onRowsChanged.unsubscribe(e),O.onRowCountChanged.unsubscribe(e)))});this.onRowsChanged.subscribe(e);this.onRowCountChanged.subscribe(e)},getLength:function(){return fa.length},getItem:function(a){if((a=fa[a])&&a.__group&&a.totals&&!a.totals.initialized){var c=W[a.level];c.displayTotalsRow||(b(a.totals),a.title=c.formatter?c.formatter(a):a.value)}else a&&
a.__groupTotals&&!a.initialized&&b(a);return a},getItemMetadata:function(a){a=fa[a];return void 0===a?null:a.__group?n.groupItemMetadataProvider.getGroupRowMetadata(a):a.__groupTotals?n.groupItemMetadataProvider.getTotalsRowMetadata(a):null},onRowCountChanged:wa,onRowsChanged:I,onPagingInfoChanged:p})},Aggregators:{Avg:function(c){this.field_=c;this.init=function(){this.sum_=this.nonNullCount_=this.count_=0};this.accumulate=function(c){c=c[this.field_];this.count_++;null==c||""===c||isNaN(c)||(this.nonNullCount_++,
this.sum_+=parseFloat(c))};this.storeResult=function(c){c.avg||(c.avg={});0!=this.nonNullCount_&&(c.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(c){this.field_=c;this.init=function(){this.min_=null};this.accumulate=function(c){c=c[this.field_];null!=c&&""!==c&&!isNaN(c)&&(null==this.min_||c<this.min_)&&(this.min_=c)};this.storeResult=function(c){c.min||(c.min={});c.min[this.field_]=this.min_}},Max:function(c){this.field_=c;this.init=function(){this.max_=null};this.accumulate=function(c){c=
c[this.field_];null!=c&&""!==c&&!isNaN(c)&&(null==this.max_||c>this.max_)&&(this.max_=c)};this.storeResult=function(c){c.max||(c.max={});c.max[this.field_]=this.max_}},Sum:function(c){this.field_=c;this.init=function(){this.sum_=null};this.accumulate=function(c){c=c[this.field_];null==c||""===c||isNaN(c)||(this.sum_+=parseFloat(c))};this.storeResult=function(c){c.sum||(c.sum={});c.sum[this.field_]=this.sum_}}}}}})})(jQuery);void function(c,n){"function"===typeof define&&define.amd?define(n):"object"===typeof exports?module.exports=n():window.jQuery?window.jQuery.onmount=n():c.onmount=n()}(this,function(c){function n(a,b,c,d){"object"===typeof c&&(d=c,c=void 0);if(0===arguments.length||"function"===typeof a&&a.fn&&a.noConflict||"object"===typeof a&&a.target)n.poll();else if(1===arguments.length)n.poll(a);else{var e=new f(a,b,c,d);r.push(e);e.register()}return this}function f(a,b,c,d){this.id="b"+v++;this.init=b;this.exit=
c;this.selector=n.selectify(a);this.loaded=[];this.key="__onmount:"+v;this.detectMutate=d&&d.detectMutate}function h(a,b){return n.$?n.$(a):document.querySelectorAll(a)}function l(a,b){return n.$?a.each(function(a){b(this,a)}):d(a,b)}function t(a,b){w[a]||(w[a]=[]);w[a].push(b);k.push(b)}function a(a,b){var c=a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector;if(n.$)return n.$(a).is(b);if(c)return c.call(a,b);if(a.parentNode){b=a.parentNode.querySelectorAll(b);
for(c=b.length;c--;0)if(b[c]===a)return!0;return!1}}function d(a,b){var c,d=a.length;if(d===+d)for(c=0;c<d;c++)b(a[c],c);else for(c in a)a.hasOwnProperty(c)&&b(a[c],c);return a}var k,r,w,v=0,H=0;n.$=window.jQuery||window.Zepto||window.Ender;n.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;n.debug=!1;n.poll=function(a){a&&(a=n.selectify(a));d((a?w[a]:k)||[],function(a){a()})};n.observe=function(){var c=n.MutationObserver;if("undefined"!==typeof c)return c=
new c(function(b){d(r,function(c){d(b,function(b){d(b.addedNodes,function(b){a(b,c.selector)&&c.visitEnter(b)});d(b.removedNodes,function(b){a(b,c.selector)&&c.doExit(b)})})})}),c.observe(document,{subtree:!0,childList:!0}),n.observer=c,n(),!0};n.unobserve=function(){this.observer&&(this.observer.disconnect(),delete this.observer)};n.teardown=function(){d(r,function(a){d(a.loaded,function(b,c){b&&a.doExit(b,c)})})};n.reset=function(){k=n.handlers=[];w=n.selectors={};r=n.behaviors=[]};n.selectify=
function(a){return"@"===a[0]?'[role~="'+a.substr(1).replace(/"/g,'\\"')+'"]':a};f.prototype.register=function(){var a=this,b=this.loaded,c=this.selector;t(c,function(){var e=h(c);d(b,function(b,c){a.visitExit(b,c,e)});l(e,function(b){a.visitEnter(b)})})};f.prototype.visitEnter=function(a){if(!a[this.key]){var b={id:"c"+H,selector:this.selector};!1!==this.init.call(a,b)&&(n.debug&&z("enter",this.selector,a),a[this.key]=b,this.loaded.push(a),H++)}};f.prototype.visitExit=function(a,b,c){if(a){if(this.detectMutate)c=
n.$?-1<c.index(a):-1<c.indexOf(a);else a:{for(c=a;c;){if(c===document.documentElement){c=!0;break a}c=c.parentElement}c=void 0}if(!c)return this.doExit(a,b)}};f.prototype.doExit=function(a,b){"undefined"===typeof b&&(b=this.loaded.indexOf(a));this.loaded[b]=void 0;this.exit&&!1!==this.exit.call(a,a[this.key])&&(n.debug&&z("exit",this.selector,a),delete a[this.key])};var C={enter:"background-color:#dfd;font-weight:bold;color:#141",exit:"background-color:#fdd;font-weight:bold;color:#411"};var z=~navigator.userAgent.indexOf("Mozilla")?
function(a,b,c){console.log("%c %s ",C[a],b,c)}:function(a,b,c){console.log("(onmount)",a,b)};n.reset();return n});/*

 lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash compat -o ./lodash.js`
*/
(function(){function c(a,b){if(a!==b){var c=null===a,d=a===q,e=a===a,f=null===b,k=b===q,g=b===b;if(a>b&&!f||!e||c&&!k&&g||d&&g)return 1;if(a<b&&!c||!g||f&&!d&&e||k&&e)return-1}return 0}function n(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function f(a,b,c){if(b!==b)return H(a,c);--c;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function h(a){return"function"==typeof a||!1}function l(a){return null==a?"":a+""}function t(a,b){for(var c=-1,d=a.length;++c<
d&&-1<b.indexOf(a.charAt(c)););return c}function a(a,b){for(var c=a.length;c--&&-1<b.indexOf(a.charAt(c)););return c}function d(a,b){return c(a.a,b.a)||a.b-b.b}function k(a){return sc[a]}function r(a){return Fc[a]}function w(a,b,c){return b?a=db[a]:c&&(a=oa[a]),"\\"+a}function v(a){return"\\"+oa[a]}function H(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function C(a){return!!a&&"object"==typeof a}function z(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==
a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function E(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=L,f[++e]=c);return f}function b(a){for(var b=-1,c=a.length;++b<c&&z(a.charCodeAt(b)););return b}function e(a){for(var b=a.length;b--&&z(a.charCodeAt(b)););return b}function g(a){return vb[a]}function m(z){function u(a){if(C(a)&&!(ja(a)||a instanceof ea)){if(a instanceof oa)return a;if(Sa.call(a,"__chain__")&&Sa.call(a,"__wrapped__"))return sd(a)}return new oa(a)}
function Na(){}function oa(a,b,c){this.__wrapped__=a;this.__actions__=c||[];this.__chain__=!!b}function ea(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=fe;this.__views__=[]}function Za(){this.__data__={}}function db(a){var b=a?a.length:0;for(this.data={hash:ge(null),set:new he};b--;)this.push(a[b])}function pb(a,b){a=a.data;return("string"==typeof b||La(b)?a.set.has(b):a.hash[b])?0:-1}function Ja(a,b){var c=-1,d=a.length;for(b||
(b=Pa(d));++c<d;)b[c]=a[c];return b}function eb(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function vb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function ob(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var k=a[c];b(k,c,a)&&(f[++e]=k)}return f}function Rb(a,b){for(var c=-1,d=a.length,e=Pa(d);++c<d;)e[c]=b(a[c],c,a);return e}function Lb(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function fc(a,b,c,d){var e=-1,f=a.length;for(d&&
f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Ub(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function qb(a,b,c,d){return a!==q&&Sa.call(d,c)?a:b}function Ga(a,b,c){for(var d=-1,e=tb(b),f=e.length;++d<f;){var k=e[d],g=a[k],F=c(g,b[k],k,a,b);(F===F?F===g:g!==g)&&(g!==q||k in a)||(a[k]=F)}return a}function Ya(a,b){return null==b?a:tc(b,tb(b),a)}function Sb(a,b){for(var c=-1,d=null==a,e=!d&&Wa(a),f=e?a.length:0,k=b.length,g=Pa(k);++c<k;){var F=b[c];g[c]=e?Pb(F,f)?a[F]:
q:d?q:a[F]}return g}function tc(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function Cb(a,b,c){var d=typeof a;return"function"==d?b===q?a:Ta(a,b,c):null==a?id:"object"==d?G(a):b===q?ie(a):Hc(a,b)}function lc(a,b,c,d,e,f,k){var g;if(c&&(g=e?c(a,d,e):c(a)),g!==q)return g;if(!La(a))return a;if(d=ja(a)){if(g=Dc(a),!b)return Ja(a,g)}else{var F=Ib.call(a),h=F==Ba;if(F!=ca&&F!=va&&(!h||e))return na[F]?ae(a,F,b):e?a:{};if(ib(a))return e?a:{};if(g=xc(h?{}:a),!b)return Ya(g,
a)}f||(f=[]);k||(k=[]);for(e=f.length;e--;)if(f[e]==a)return k[e];return f.push(a),k.push(g),(d?eb:rb)(a,function(d,e){g[e]=lc(d,b,c,e,a,f,k)}),g}function Wb(a,b,c){if("function"!=typeof a)throw new dc(K);return je(function(){a.apply(q,c)},b)}function $b(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,k=cb(),g=k===f,F=g&&b.length>=R&&ge&&he?new db(b):null,h=b.length;F&&(k=pb,g=!1,b=F);a:for(;++e<c;)if(F=a[e],g&&F===F){for(var m=h;m--;)if(b[m]===F)continue a;d.push(F)}else 0>k(b,F,0)&&d.push(F);
return d}function sc(a,b){var c=!0;return mc(a,function(a,d,e){return c=!!b(a,d,e)}),c}function Gc(a,b,c,d){var e=d,f=e;return mc(a,function(a,k,g){k=+b(a,k,g);(c(k,e)||k===d&&k===f)&&(e=k,f=a)}),f}function wb(a,b){var c=[];return mc(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function xb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Oa(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var k=a[e];C(k)&&Wa(k)&&(c||ja(k)||zc(k))?b?Oa(k,b,c,d):Lb(d,k):c||(d[d.length]=
k)}return d}function ac(a,b){return ye(a,b,Uc)}function rb(a,b){return ye(a,b,tb)}function bc(a,b){return Ue(a,b,tb)}function Ha(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var k=b[c];Bc(a[k])&&(f[++e]=k)}return f}function hb(a,b,c){if(null!=a){a=$a(a);c!==q&&c in a&&(b=[c]);c=0;for(var d=b.length;null!=a&&c<d;)a=$a(a)[b[c++]];return c&&c==d?a:q}}function ab(a,b,c,d,e,f){if(a===b)return!0;if(null==a||null==b||!La(a)&&!C(b))return a!==a&&b!==b;a:{var k=ab,g=ja(a),h=ja(b),F=Fa,m=Fa;g||(F=Ib.call(a),
F==va?F=ca:F!=ca&&(g=Bd(a)));h||(m=Ib.call(b),m==va?m=ca:m!=ca&&Bd(b));var pa=F==ca&&!ib(a);h=m==ca&&!ib(b);m=F==m;if(!m||g||pa)if(!d&&(F=pa&&Sa.call(a,"__wrapped__"),h=h&&Sa.call(b,"__wrapped__"),F||h))a=k(F?a.value():a,h?b.value():b,c,d,e,f);else if(m){e||(e=[]);f||(f=[]);for(F=e.length;F--;)if(e[F]==a){a=f[F]==b;break a}e.push(a);f.push(b);a=(g?Zd:Nb)(a,b,k,c,d,e,f);e.pop();f.pop()}else a=!1;else a=gb(a,b,F)}return a}function ua(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=$a(a);d--;){var k=
b[d];if(f&&k[2]?k[1]!==a[k[0]]:!(k[0]in a))return!1}for(;++d<e;){k=b[d];var g=k[0],h=a[g],F=k[1];if(f&&k[2]){if(h===q&&!(g in a))return!1}else if(k=c?c(h,F,g):q,k===q?!ab(F,h,c,!0):!k)return!1}return!0}function Aa(a,b){var c=-1,d=Wa(a)?Pa(a.length):[];return mc(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function G(a){var b=jb(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:(a=$a(a),a[c]===d&&(d!==q||c in a))}}return function(a){return ua(a,b)}}function Hc(a,b){var c=
ja(a),d=hc(a)&&b===b&&!La(b),e=a+"";return a=Gb(a),function(f){if(null==f)return!1;var k=e;if(f=$a(f),!(!c&&d||k in f)){if(f=1==a.length?f:hb(f,Ia(a,0,-1)),null==f)return!1;k=qc(a);f=$a(f)}return f[k]===b?b!==q||k in f:ab(b,f[k],q,!0)}}function kc(a,b,c,d,e){if(!La(a))return a;var f=Wa(b)&&(ja(b)||Bd(b)),k=f?q:tb(b);return eb(k||b,function(g,h){if(k&&(h=g,g=b[h]),C(g)){d||(d=[]);e||(e=[]);a:{var F=h,m=d,l=e;g=m.length;for(h=b[F];g--;)if(m[g]==h){a[F]=l[g];break a}g=a[F];var pa=c?c(g,h,F,a,b):q,r=
pa===q;r&&(pa=h,Wa(h)&&(ja(h)||Bd(h))?pa=ja(g)?g:Wa(g)?Ja(g):[]:$d(h)||zc(h)?pa=zc(g)?Ve(g):$d(g)?g:{}:r=!1);m.push(h);l.push(pa);r?a[F]=kc(pa,h,c,m,l):(pa===pa?pa!==g:g===g)&&(a[F]=pa)}}else F=a[h],m=c?c(F,g,h,a,b):q,(l=m===q)&&(m=g),m===q&&(!f||h in a)||!l&&(m===m?m===F:F!==F)||(a[h]=m)}),a}function Hb(a){return function(b){return null==b?q:$a(b)[a]}}function Ra(a){var b=a+"";return a=Gb(a),function(c){return hb(c,a,b)}}function cc(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Pb(d)){var e=
d;ze.call(a,d,1)}}return a}function sb(a,b){return a+jd(We()*(b-a+1))}function uc(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Ia(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0;0>b&&(b=-b>e?0:e+b);c=c===q||c>e?e:+c||0;0>c&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;for(c=Pa(e);++d<e;)c[d]=a[d+b];return c}function yb(a,b){var c;return mc(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Ic(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].c;return a}function Jc(a,b,d){var e=za(),
f=-1;return b=Rb(b,function(a){return e(a)}),a=Aa(a,function(a){return{a:Rb(b,function(b){return b(a)}),b:++f,c:a}}),Ic(a,function(a,b){var e;a:{for(var f=-1,k=a.a,g=b.a,h=k.length,F=d.length;++f<h;)if(e=c(k[f],g[f])){if(f>=F)break a;f=d[f];e*="asc"===f||!0===f?1:-1;break a}e=a.b-b.b}return e})}function zb(a,b){var c=0;return mc(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function vc(a,b){var c=-1,d=cb(),e=a.length,k=d===f,g=k&&e>=R,h=g&&ge&&he?new db(void 0):null,F=[];h?(d=pb,k=!1):(g=!1,h=b?[]:F);a:for(;++c<
e;){var m=a[c],l=b?b(m,c,a):m;if(k&&m===m){for(var pa=h.length;pa--;)if(h[pa]===l)continue a;b&&h.push(l);F.push(m)}else 0>d(h,l,0)&&((b||g)&&h.push(l),F.push(m))}return F}function Tb(a,b){for(var c=-1,d=b.length,e=Pa(d);++c<d;)e[c]=a[b[c]];return e}function x(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Ia(a,d?0:f,d?f+1:e):Ia(a,d?f+1:0,d?e:f)}function M(a,b){a instanceof ea&&(a=a.value());for(var c=-1,d=b.length;++c<d;){var e=b[c];a=e.func.apply(e.thisArg,Lb([a],e.args))}return a}
function Ea(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&e<=zf){for(;d<e;){var f=d+e>>>1,k=a[f];(c?k<=b:k<b)&&null!==k?d=f+1:e=f}return e}return Ab(a,b,id,c)}function Ab(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,k=b!==b,g=null===b,h=b===q;e<f;){var F=jd((e+f)/2),m=c(a[F]),l=m!==q,pa=m===m;(k?pa||d:g?pa&&l&&(d||null!=m):h?pa&&(d||l):null==m?0:d?m<=b:m<b)?e=F+1:f=F}return Jb(f,Af)}function Ta(a,b,c){if("function"!=typeof a)return id;if(b===q)return a;switch(c){case 1:return function(c){return a.call(b,
c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,k){return a.call(b,c,d,e,f,k)}}return function(){return a.apply(b,arguments)}}function ec(a){var b=new Bf(a.byteLength);return(new Ae(b)).set(new Ae(a)),b}function Wc(a,b,c){for(var d=c.length,e=-1,f=lb(a.length-d,0),k=-1,g=b.length,h=Pa(g+f);++k<g;)h[k]=b[k];for(;++e<d;)h[c[e]]=a[e];for(;f--;)h[k++]=a[e++];return h}function Fc(a,b,c){for(var d=-1,e=c.length,
f=-1,k=lb(a.length-e,0),g=-1,h=b.length,m=Pa(k+h);++f<k;)m[f]=a[f];for(k=f;++g<h;)m[k+g]=b[g];for(;++d<e;)m[k+c[d]]=a[f++];return m}function Ua(a,b){return function(c,d,e){var f=b?b():{};if(d=za(d,e,3),ja(c)){e=-1;for(var k=c.length;++e<k;){var g=c[e];a(f,g,d(g,e,c),c)}}else mc(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function fb(a){return xa(function(b,c){var d=-1,e=null==b?0:c.length,f=2<e?c[e-2]:q,k=2<e?c[2]:q,g=1<e?c[e-1]:q;"function"==typeof f?(f=Ta(f,g,5),e-=2):(f="function"==typeof g?
g:q,e-=f?1:0);for(k&&ia(c[0],c[1],k)&&(f=3>e?q:f,e=1);++d<e;)(k=c[d])&&a(b,k,f);return b})}function mb(a,b){return function(c,d){var e=c?Qd(c):0;if(!nb(e))return a(c,d);for(var f=b?e:-1,k=$a(c);(b?f--:++f<e)&&!1!==d(k[f],f,k););return c}}function Yc(a){return function(b,c,d){var e=$a(b);d=d(b);for(var f=d.length,k=a?f:-1;a?k--:++k<f;){var g=d[k];if(!1===c(e[g],g,e))break}return b}}function oc(a,b){function c(){return(this&&this!==Xa&&this instanceof c?d:a).apply(b,arguments)}var d=Ac(a);return c}
function Eb(a){return function(b){var c=-1;b=Xe(Ye(b));for(var d=b.length,e="";++c<d;)e=a(e,b[c],c);return e}}function Ac(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Rd(a.prototype);
b=a.apply(c,b);return La(b)?b:c}}function pd(a){function b(c,d,e){return e&&ia(c,d,e)&&(d=q),c=Fb(c,a,q,q,q,q,q,d),c.placeholder=b.placeholder,c}return b}function qd(a,b){return xa(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(q,c))})}function Hd(a,b){return function(c,d,e){if(e&&ia(c,d,e)&&(d=q),d=za(d,e,3),1==d.length){e=c=ja(c)?c:ed(c);for(var f=d,k=-1,g=e.length,h=b,m=h;++k<g;){var F=e[k],l=+f(F);a(l,h)&&(h=l,m=F)}if(e=m,!c.length||e!==b)return e}return Gc(c,d,a,b)}}function gc(a,
b){return function(c,d,e){return d=za(d,e,3),ja(c)?(d=n(c,d,b),-1<d?c[d]:q):xb(c,d,a)}}function bd(a){return function(b,c,d){return b&&b.length?(c=za(c,d,3),n(b,c,a)):-1}}function Id(a){return function(b,c,d){return c=za(c,d,3),xb(b,c,a,!0)}}function yc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Pa(c);a?d--:++d<c;){var k=f[e++]=arguments[d];if("function"!=typeof k)throw new dc(K);!b&&oa.prototype.thru&&"wrapper"==Ob(k)&&(b=new oa([],!0))}for(d=b?-1:c;++d<c;){k=f[d];e=Ob(k);var g=
"wrapper"==e?Be(k):q;b=g&&bb(g[0])&&g[1]==(V|T|fa|D)&&!g[4].length&&1==g[9]?b[Ob(g[0])].apply(b,g[3]):1==k.length&&bb(k)?b[e]():b.thru(k)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&ja(d)&&d.length>=R)return b.plant(d).value();var e=0;for(a=c?f[e].apply(this,a):d;++e<c;)a=f[e].call(this,a);return a}}}function Z(a,b){return function(c,d,e){return"function"==typeof d&&e===q&&ja(c)?a(c,d):b(c,Ta(d,e,3))}}function Da(a){return function(b,c,d){return("function"!=typeof c||d!==q)&&(c=Ta(c,
d,3)),a(b,c,Uc)}}function sa(a){return function(b,c,d){return("function"!=typeof c||d!==q)&&(c=Ta(c,d,3)),a(b,c)}}function X(a){return function(b,c,d){var e={};return c=za(c,d,3),rb(b,function(b,d,f){f=c(b,d,f);d=a?f:d;b=a?b:f;e[d]=b}),e}}function Jd(a){return function(b,c,d){return b=l(b),(a?b:"")+dd(b,c,d)+(a?"":b)}}function $c(a){var b=xa(function(c,d){var e=E(d,b.placeholder);return Fb(c,a,q,d,e)});return b}function ra(a,b){return function(c,d,e,f){var k=3>arguments.length;return"function"==typeof d&&
f===q&&ja(c)?a(c,d,e,k):uc(c,za(d,f,4),e,k,b)}}function cd(a,b,c,d,e,f,k,g,h,m){function F(){for(var v=arguments.length,B=v,t=Pa(v);B--;)t[B]=arguments[B];if(d&&(t=Wc(t,d,e)),f&&(t=Fc(t,f,k)),p||Pd){B=F.placeholder;var hd=E(t,B);v-=hd.length;if(v<m){var K=g?Ja(g):q;v=lb(m-v,0);var y=p?hd:q;hd=p?q:hd;var u=p?t:q;t=p?q:t;return b|=p?fa:da,b&=~(p?da:fa),n||(b&=~(Q|A)),t=[a,b,c,u,y,t,hd,K,h,v],K=cd.apply(q,t),bb(a)&&Ze(K,t),K.placeholder=B,K}}if(B=r?c:this,K=pa?B[a]:a,g)for(v=t.length,y=Jb(g.length,v),
hd=Ja(t);y--;)u=g[y],t[y]=Pb(u,v)?hd[u]:q;return l&&h<t.length&&(t.length=h),this&&this!==Xa&&this instanceof F&&(K=w||Ac(a)),K.apply(B,t)}var l=b&V,r=b&Q,pa=b&A,p=b&T,n=b&O,Pd=b&J,w=pa?q:Ac(a);return F}function dd(a,b,c){return a=a.length,b=+b,a<b&&Cd(b)?(b-=a,c=null==c?" ":c+"",$e(c,ke(b/c.length)).slice(0,b)):""}function Mc(a,b,c,d){function e(){for(var b=-1,g=arguments.length,h=-1,m=d.length,F=Pa(m+g);++h<m;)F[h]=d[h];for(;g--;)F[h++]=arguments[++b];return(this&&this!==Xa&&this instanceof e?k:
a).apply(f?c:this,F)}var f=b&Q,k=Ac(a);return e}function Qa(a){var b=kd[a];return function(a,c){return(c=c===q?0:+c||0)?(c=Cf(10,c),b(a*c)/c):b(a)}}function Zc(a){return function(b,c,d,e){var f=za(d);return null==d&&f===Cb?Ea(b,c,a):Ab(b,c,f(d,e,1),a)}}function Fb(a,b,c,d,e,f,k,g){var h=b&A;if(!h&&"function"!=typeof a)throw new dc(K);var m=d?d.length:0;if(m||(b&=~(fa|da),d=e=q),m-=e?e.length:0,b&da){var F=d,l=e;d=e=q}var r=h?q:Be(a);return c=[a,b,c,d,e,F,l,f,k,g],r&&(d=c[1],b=r[1],g=d|b,e=b==V&&d==
T||b==V&&d==D&&c[7].length<=r[8]||b==(V|D)&&d==T,(g<V||e)&&(b&Q&&(c[2]=r[2],g|=d&Q?0:O),(d=r[3])&&(e=c[3],c[3]=e?Wc(e,d,r[4]):Ja(d),c[4]=e?E(c[3],L):Ja(r[4])),(d=r[5])&&(e=c[5],c[5]=e?Fc(e,d,r[6]):Ja(d),c[6]=e?E(c[5],L):Ja(r[6])),(d=r[7])&&(c[7]=Ja(d)),b&V&&(c[8]=null==c[8]?r[8]:Jb(c[8],r[8])),null==c[9]&&(c[9]=r[9]),c[0]=r[0],c[1]=g),b=c[1],g=c[9]),c[9]=null==g?h?0:a.length:lb(g-m,0)||0,a=b==Q?oc(c[0],c[2]):b!=fa&&b!=(Q|fa)||c[4].length?cd.apply(q,c):Mc.apply(q,c),(r?af:Ze)(a,c)}function Zd(a,b,
c,d,e,f,k){var g=-1,h=a.length,m=b.length;if(h!=m&&(!e||m<=h))return!1;for(;++g<h;){var F=a[g];m=b[g];var l=d?d(e?m:F,e?F:m,g):q;if(l!==q){if(l)continue;return!1}if(e){if(!Ub(b,function(a){return F===a||c(F,a,d,e,f,k)}))return!1}else if(F!==m&&!c(F,m,d,e,f,k))return!1}return!0}function gb(a,b,c){switch(c){case Ca:case qa:return+a==+b;case W:return a.name==b.name&&a.message==b.message;case la:return a!=+a?b!=+b:a==+b;case ha:case U:return a==b+""}return!1}function Nb(a,b,c,d,e,f,k){var g=tb(a),h=g.length,
m=tb(b).length;if(h!=m&&!e)return!1;for(m=h;m--;){var F=g[m];if(!(e?F in b:Sa.call(b,F)))return!1}for(var l=e;++m<h;){F=g[m];var r=a[F],p=b[F],pa=d?d(e?p:r,e?r:p,F):q;if(pa===q?!c(r,p,d,e,f,k):!pa)return!1;l||(l="constructor"==F)}return l||(c=a.constructor,d=b.constructor,!(c!=d&&"constructor"in a&&"constructor"in b)||"function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)?!0:!1}function za(a,b,c){var d=u.callback||le;d=d===le?Cb:d;return c?d(a,b,c):d}function Ob(a){for(var b=
a.name+"",c=me[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function cb(a,b,c){var d=u.indexOf||td;d=d===td?f:d;return a?d(a,b,c):d}function jb(a){a=bf(a);for(var b=a.length;b--;){var c=a[b];var d=a[b][1];d=d===d&&!La(d);c[2]=d}return a}function ya(a,b){a=null==a?q:a[b];return Re(a)?a:q}function Dc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Sa.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function xc(a){return a=a.constructor,
"function"==typeof a&&a instanceof a||(a=Kc),new a}function ae(a,b,c){var d=a.constructor;switch(b){case wa:return ec(a);case Ca:case qa:return new d(+a);case I:case p:case Ka:case Mb:case Xb:case Db:case kb:case Ma:case ub:return d instanceof d&&(d=wc[b]),b=a.buffer,new d(c?ec(b):b,a.byteOffset,a.length);case la:case U:return new d(a);case ha:var e=new d(a.source,yd.exec(a));e.lastIndex=a.lastIndex}return e}function rd(a,b,c){return null==a||hc(b,a)||(b=Gb(b),a=1==b.length?a:hb(a,Ia(b,0,-1)),b=qc(b)),
b=null==a?a:a[b],null==b?q:b.apply(a,c)}function Wa(a){return null!=a&&nb(Qd(a))}function Pb(a,b){return a="number"==typeof a||Ad.test(a)?+a:-1,b=null==b?cf:b,-1<a&&0==a%1&&a<b}function ia(a,b,c){if(!La(c))return!1;var d=typeof b;return("number"==d?Wa(c)&&Pb(b,c.length):"string"==d&&b in c)?(b=c[b],a===a?a===b:b!==b):!1}function hc(a,b){var c=typeof a;return"string"==c&&Ed.test(a)||"number"==c?!0:ja(a)?!1:!Fd.test(a)||null!=b&&a in $a(b)}function bb(a){var b=Ob(a),c=u[b];return"function"==typeof c&&
b in ea.prototype?a===c?!0:(b=Be(c),!!b&&a===b[0]):!1}function nb(a){return"number"==typeof a&&-1<a&&0==a%1&&a<=cf}function Oc(a,b){return a===q?b:Ce(a,b,Oc)}function ic(a,b){a=$a(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Pc(a,b){var c={};return ac(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Kd(a){for(var b=Uc(a),c=b.length,d=c&&a.length,e=!!d&&nb(d)&&(ja(a)||zc(a)||Cc(a)),f=-1,k=[];++f<c;){var g=b[f];(e&&Pb(g,d)||Sa.call(a,g))&&k.push(g)}return k}
function ed(a){return null==a?[]:Wa(a)?u.support.unindexedChars&&Cc(a)?a.split(""):La(a)?a:Kc(a):ne(a)}function $a(a){if(u.support.unindexedChars&&Cc(a)){for(var b=-1,c=a.length,d=Kc(a);++b<c;)d[b]=a.charAt(b);return d}return La(a)?a:Kc(a)}function Gb(a){if(ja(a))return a;var b=[];return l(a).replace(Qc,function(a,c,d,e){b.push(d?e.replace(Xc,"$1"):c||a)}),b}function sd(a){return a instanceof ea?a.clone():new oa(a.__wrapped__,a.__chain__,Ja(a.__actions__))}function ad(a,b,c){return a&&a.length?((c?
ia(a,b,c):null==b)&&(b=1),Ia(a,0>b?0:b)):[]}function od(a,b,c){var d=a?a.length:0;return d?((c?ia(a,b,c):null==b)&&(b=1),b=d-(+b||0),Ia(a,0,0>b?0:b)):[]}function nd(a){return a?a[0]:q}function td(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?lb(d+c,0):c;else if(c)return c=Ea(a,b),c<d&&(b===b?b===a[c]:a[c]!==a[c])?c:-1;return f(a,b,c||0)}function qc(a){var b=a?a.length:0;return b?a[b-1]:q}function aa(a){return ad(a,1)}function ma(a,b,c,d){if(!a||!a.length)return[];null!=b&&"boolean"!=
typeof b&&(d=c,c=ia(a,b,d)?q:b,b=!1);var e=za();if((null!=c||e!==Cb)&&(c=e(c,d,3)),b&&cb()===f){b=c;var k;c=-1;d=a.length;e=-1;for(var g=[];++c<d;){var h=a[c],m=b?b(h,c,a):h;c&&k===m||(k=m,g[++e]=h)}a=g}else a=vc(a,c);return a}function ud(a){if(!a||!a.length)return[];var b=-1,c=0;a=ob(a,function(a){return Wa(a)?(c=lb(a.length,c),!0):void 0});for(var d=Pa(c);++b<c;)d[b]=Rb(a,Hb(b));return d}function pc(a,b,c){return a&&a.length?(a=ud(a),null==b?a:(b=Ta(b,c,4),Rb(a,function(a){return fc(a,b,q,!0)}))):
[]}function vd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||ja(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function ka(a){return a=u(a),a.__chain__=!0,a}function Nc(a,b,c){return b.call(c,a)}function se(a,b,c){var d=ja(a)?vb:sc;return c&&ia(a,b,c)&&(b=q),("function"!=typeof b||c!==q)&&(b=za(b,c,3)),d(a,b)}function te(a,b,c){var d=ja(a)?ob:wb;return b=za(b,c,3),d(a,b)}function Wd(a,b,c,d){var e=a?Qd(a):0;return nb(e)||(a=ne(a),e=a.length),c="number"!=typeof c||d&&ia(b,c,
d)?0:0>c?lb(e+c,0):c||0,"string"==typeof a||!ja(a)&&Cc(a)?c<=e&&-1<a.indexOf(b,c):!!e&&-1<cb(a,b,c)}function Xd(a,b,c){var d=ja(a)?Rb:Aa;return b=za(b,c,3),d(a,b)}function Yd(a,b,c){if(c?ia(a,b,c):null==b){a=ed(a);var d=a.length;return 0<d?a[sb(0,d-1)]:q}c=-1;a=df(a);d=a.length;var e=d-1;for(b=Jb(0>b?0:+b||0,d);++c<b;){d=sb(c,e);var f=a[d];a[d]=a[c];a[c]=f}return a.length=b,a}function Me(a,b,c){var d=ja(a)?Ub:yb;return c&&ia(a,b,c)&&(b=q),("function"!=typeof b||c!==q)&&(b=za(b,c,3)),d(a,b)}function Ne(a,
b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new dc(K);b=a=b}return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=q),c}}function Oe(a,b,c){function d(b,c){c&&Sd(c);h=F=p=q;b&&(n=Td(),m=a.apply(r,g),F||h||(g=r=q))}function e(){var a=b-(Td()-l);0>=a||a>b?d(p,h):F=je(e,a)}function f(){d(w,F)}function k(){if(g=arguments,l=Td(),r=this,p=w&&(F||!v),!1===pa)var c=v&&!F;else{h||v||(n=l);var d=pa-(l-n),k=0>=d||d>pa;k?(h&&(h=Sd(h)),n=l,m=a.apply(r,g)):h||(h=je(f,d))}return k&&
F?F=Sd(F):F||b===pa||(F=je(e,b)),c&&(k=!0,m=a.apply(r,g)),!k||F||h||(g=r=q),m}var g,h,m,l,r,F,p,n=0,pa=!1,w=!0;if("function"!=typeof a)throw new dc(K);if(b=0>b?0:+b||0,!0===c){var v=!0;w=!1}else La(c)&&(v=!!c.leading,pa="maxWait"in c&&lb(+c.maxWait||0,b),w="trailing"in c?!!c.trailing:w);return k.cancel=function(){F&&Sd(F);h&&Sd(h);n=0;h=F=p=q},k}function ue(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new dc(K);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;return f.has(e)?
f.get(e):(d=a.apply(this,d),c.cache=f.set(e,d),d)};return c.cache=new ue.Cache,c}function xa(a,b){if("function"!=typeof a)throw new dc(K);return b=lb(b===q?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=lb(c.length-b,0),f=Pa(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}e=Pa(b+1);for(d=-1;++d<b;)e[d]=c[d];return e[b]=f,a.apply(this,e)}}function Pe(a,b){return a>b}function zc(a){return C(a)&&Wa(a)&&Sa.call(a,
"callee")&&!oe.call(a,"callee")}function Qe(a,b,c,d){return d=(c="function"==typeof c?Ta(c,d,3):q)?c(a,b):q,d===q?ab(a,b,c):!!d}function ve(a){return C(a)&&"string"==typeof a.message&&Ib.call(a)==W}function Bc(a){return La(a)&&Ib.call(a)==Ba}function La(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Re(a){return null==a?!1:Bc(a)?ef.test(ff.call(a)):C(a)&&(ib(a)?ef:zd).test(a)}function Se(a){return"number"==typeof a||C(a)&&Ib.call(a)==la}function $d(a){var b;if(!C(a)||Ib.call(a)!=
ca||ib(a)||zc(a)||!(Sa.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;return u.support.ownLast?(ac(a,function(a,b,d){return c=Sa.call(d,b),!1}),!1!==c):(ac(a,function(a,b){c=b}),c===q||Sa.call(a,c))}function Te(a){return La(a)&&Ib.call(a)==ha}function Cc(a){return"string"==typeof a||C(a)&&Ib.call(a)==U}function Bd(a){return C(a)&&nb(a.length)&&!!ta[Ib.call(a)]}function gf(a,b){return a<b}function df(a){var b=a?Qd(a):0;return nb(b)?b?u.support.unindexedChars&&
Cc(a)?a.split(""):Ja(a):[]:ne(a)}function Ve(a){return tc(a,Uc(a))}function De(a){return Ha(a,Uc(a))}function Uc(a){if(null==a)return[];La(a)||(a=Kc(a));var b=a.length,c=u.support;b=b&&nb(b)&&(ja(a)||zc(a)||Cc(a))&&b||0;var d=a.constructor,e=-1;d=Bc(d)&&d.prototype||Dd;for(var f=d===a,k=Pa(b),g=0<b,h=c.enumErrorProps&&(a===pe||a instanceof Ee),m=c.enumPrototypes&&Bc(a);++e<b;)k[e]=e+"";for(var l in a)m&&"prototype"==l||h&&("message"==l||"name"==l)||g&&Pb(l,b)||"constructor"==l&&(f||!Sa.call(a,l))||
k.push(l);if(c.nonEnumShadows&&a!==Dd)for(b=a===hf?U:a===pe?W:Ib.call(a),c=Kb[b]||Kb[ca],b==ca&&(d=Dd),b=Zb.length;b--;)l=Zb[b],e=c[l],f&&e||(e?!Sa.call(a,l):a[l]===d[l])||k.push(l);return k}function bf(a){a=$a(a);for(var b=-1,c=tb(a),d=c.length,e=Pa(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function ne(a){return Tb(a,tb(a))}function Ye(a){return(a=l(a))&&a.replace(md,k).replace(jc,"")}function $e(a,b){var c="";if(a=l(a),b=+b,1>b||!a||!Cd(b))return c;do b%2&&(c+=a),b=jd(b/2),a+=a;while(b);return c}
function jf(c,d,f){var k=c;return(c=l(c))?(f?ia(k,d,f):null==d)?c.slice(b(c),e(c)+1):(d+="",c.slice(t(c,d),a(c,d)+1)):c}function Xe(a,b,c){return c&&ia(a,b,c)&&(b=q),a=l(a),a.match(b||Tc)||[]}function le(a,b,c){return c&&ia(a,b,c)&&(b=q),C(a)?kf(a):Cb(a,b)}function id(a){return a}function kf(a){return G(lc(a,!0))}function Fe(a,b,c){if(null==c){var d=La(b),e=d?tb(b):q;((e=e&&e.length?Ha(b,e):q)?e.length:d)||(e=!1,c=b,b=a,a=this)}e||(e=Ha(b,tb(b)));var f=!0;d=-1;var k=Bc(a),g=e.length;!1===c?f=!1:La(c)&&
"chain"in c&&(f=c.chain);for(;++d<g;){c=e[d];var h=b[c];a[c]=h;k&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(f||c){var d=a(this.__wrapped__);return(d.__actions__=Ja(this.__actions__)).push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,Lb([this.value()],arguments))}}(h))}return a}function lf(){}function ie(a){return hc(a)?Hb(a):Ra(a)}z=z?Qb.defaults(Xa.Object(),z,Qb.pick(Xa,gd)):Xa;var Pa=z.Array,mf=z.Date,Ee=z.Error,nf=z.Function,kd=z.Math,of=z.Number,
Kc=z.Object,Ge=z.RegExp,pf=z.String,dc=z.TypeError,qf=Pa.prototype,pe=Ee.prototype,Dd=Kc.prototype,hf=pf.prototype,ff=nf.prototype.toString,Sa=Dd.hasOwnProperty,Df=0,Ib=Dd.toString,Ef=Xa._,ef=Ge("^"+ff.call(Sa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bf=z.ArrayBuffer,Sd=z.clearTimeout,Ff=z.parseFloat,Cf=kd.pow,oe=Dd.propertyIsEnumerable,he=ya(z,"Set"),je=z.setTimeout,ze=qf.splice,Ae=z.Uint8Array,rf=ya(z,"WeakMap"),ke=kd.ceil,
ge=ya(Kc,"create"),jd=kd.floor,Gf=ya(Pa,"isArray"),Cd=z.isFinite,sf=ya(Kc,"keys"),lb=kd.max,Jb=kd.min,Hf=ya(mf,"now"),If=z.parseInt,We=kd.random,Jf=of.NEGATIVE_INFINITY,fe=of.POSITIVE_INFINITY,Af=4294967294,zf=2147483647,cf=9007199254740991,qe=rf&&new rf,me={},wc={};wc[I]=z.Float32Array;wc[p]=z.Float64Array;wc[Ka]=z.Int8Array;wc[Mb]=z.Int16Array;wc[Xb]=z.Int32Array;wc[Db]=Ae;wc[kb]=z.Uint8ClampedArray;wc[Ma]=z.Uint16Array;wc[ub]=z.Uint32Array;var Kb={};Kb[Fa]=Kb[qa]=Kb[la]={constructor:!0,toLocaleString:!0,
toString:!0,valueOf:!0};Kb[Ca]=Kb[U]={constructor:!0,toString:!0,valueOf:!0};Kb[W]=Kb[Ba]=Kb[ha]={constructor:!0,toString:!0};Kb[ca]={constructor:!0};eb(Zb,function(a){for(var b in Kb)if(Sa.call(Kb,b)){var c=Kb[b];c[a]=Sa.call(c,a)}});var ld=u.support={};!function(a){var b=function(){this.x=a},c={0:a,length:a},d=[];b.prototype={valueOf:a,y:a};for(var e in new b)d.push(e);ld.enumErrorProps=oe.call(pe,"message")||oe.call(pe,"name");ld.enumPrototypes=oe.call(b,"prototype");ld.nonEnumShadows=!/valueOf/.test(d);
ld.ownLast="x"!=d[0];ld.spliceObjects=(ze.call(c,0,1),!c[0]);ld.unindexedChars="xx"!="x"+Kc("x")[0]}(1,0);u.templateSettings={escape:Lc,evaluate:Ec,interpolate:xd,variable:"",imports:{_:u}};var Rd=function(){function a(){}return function(b){if(La(b)){a.prototype=b;var c=new a;a.prototype=q}return c||{}}}(),mc=mb(rb),He=mb(bc,!0),ye=Yc(),Ue=Yc(!0),af=qe?function(a,b){return qe.set(a,b),a}:id,Be=qe?function(a){return qe.get(a)}:lf,Qd=Hb("length"),Ze=function(){var a=0,b=0;return function(c,d){var e=
Td(),f=Y-(e-b);if(b=e,0<f){if(++a>=ba)return c}else a=0;return af(c,d)}}(),Kf=xa(function(a,b){return C(a)&&Wa(a)?$b(a,Oa(b,!1,!0)):[]}),Lf=bd(),Mf=bd(!0),Nf=xa(function(a){for(var b=a.length,c=b,d=Pa(l),e=cb(),k=e===f,g=[];c--;){var h=a[c]=Wa(h=a[c])?h:[];d[c]=k&&120<=h.length&&ge&&he?new db(c&&h):null}k=a[0];var m=-1,l=k?k.length:0,q=d[0];a:for(;++m<l;)if(h=k[m],0>(q?pb(q,h):e(g,h,0))){for(c=b;--c;){var r=d[c];if(0>(r?pb(r,h):e(a[c],h,0)))continue a}q&&q.push(h);g.push(h)}return g}),Of=xa(function(a,
b){b=Oa(b);var d=Sb(a,b);return cc(a,b.sort(c)),d}),Pf=Zc(),Qf=Zc(!0),Rf=xa(function(a){return vc(Oa(a,!1,!0))}),Sf=xa(function(a,b){return Wa(a)?$b(a,b):[]}),Tf=xa(ud),Uf=xa(function(a){var b=a.length,c=2<b?a[b-2]:q,d=1<b?a[b-1]:q;return 2<b&&"function"==typeof c?b-=2:(c=1<b&&"function"==typeof d?(--b,d):q,d=q),a.length=b,pc(a,c,d)}),Vf=xa(function(a){return a=Oa(a),this.thru(function(b){b=ja(b)?b:[$a(b)];for(var c=a,d=-1,e=b.length,f=-1,k=c.length,g=Pa(e+k);++d<e;)g[d]=b[d];for(;++f<k;)g[d++]=c[f];
return g})}),Wf=xa(function(a,b){return Wa(a)&&(a=ed(a)),Sb(a,Oa(b))}),Xf=Ua(function(a,b,c){Sa.call(a,c)?++a[c]:a[c]=1}),Ie=gc(mc),Yf=gc(He,!0),tf=Z(eb,mc),uf=Z(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},He),Zf=Ua(function(a,b,c){Sa.call(a,c)?a[c].push(b):a[c]=[b]}),$f=Ua(function(a,b,c){a[c]=b}),ag=xa(function(a,b,c){var d=-1,e="function"==typeof b,f=hc(b),k=Wa(a)?Pa(a.length):[];return mc(a,function(a){var g=e?b:f&&null!=a?a[b]:q;k[++d]=g?g.apply(a,c):rd(a,b,c)}),k}),bg=
Ua(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Je=ra(fc,mc),vf=ra(function(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c},He),cg=xa(function(a,b){if(null==a)return[];var c=b[2];return c&&ia(b[0],b[1],c)&&(b.length=1),Jc(a,Oa(b),[])}),Td=Hf||function(){return(new mf).getTime()},wf=xa(function(a,b,c){var d=Q;if(c.length){var e=E(c,wf.placeholder);d|=fa}return Fb(a,d,b,c,e)}),dg=xa(function(a,b){b=b.length?Oa(b):De(a);for(var c=-1,d=b.length;++c<d;){var e=
b[c];a[e]=Fb(a[e],Q,a)}return a}),xf=xa(function(a,b,c){var d=Q|A;if(c.length){var e=E(c,xf.placeholder);d|=fa}return Fb(b,d,a,c,e)}),eg=pd(T),fg=pd(J),gg=xa(function(a,b){return Wb(a,1,b)}),hg=xa(function(a,b,c){return Wb(a,b,c)}),ig=yc(),Ke=yc(!0),jg=xa(function(a,b){if(b=Oa(b),"function"!=typeof a||!vb(b,h))throw new dc(K);var c=b.length;return xa(function(d){for(var e=Jb(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),kg=$c(fa),lg=$c(da),mg=xa(function(a,b){return Fb(a,D,q,q,q,Oa(b))}),
ja=Gf||function(a){return C(a)&&nb(a.length)&&Ib.call(a)==Fa},Ce=fb(kc),Le=fb(function(a,b,c){return c?Ga(a,b,c):Ya(a,b)}),ng=qd(Le,function(a,b){return a===q?b:a}),og=qd(Ce,Oc),pg=Id(rb),qg=Id(bc),rg=Da(ye),sg=Da(Ue),tg=sa(rb),ug=sa(bc),tb=sf?function(a){var b=null==a?q:a.constructor;return"function"==typeof b&&b.prototype===a||("function"==typeof a?u.support.enumPrototypes:Wa(a))?Kd(a):La(a)?sf(a):[]}:Kd,vg=X(!0),wg=X(),xg=xa(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=
Rb(Oa(b),pf),ic(a,$b(Uc(a),b));var c=Ta(b[0],b[1],3);return Pc(a,function(a,b,d){return!c(a,b,d)})}),yg=xa(function(a,b){return null==a?{}:"function"==typeof b[0]?Pc(a,Ta(b[0],b[1],3)):ic(a,Oa(b))}),zg=Eb(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Ag=Eb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Bg=Jd(),Cg=Jd(!0),Dg=Eb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Eg=Eb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),
yf=xa(function(a,b){try{return a.apply(q,b)}catch(Pd){return ve(Pd)?Pd:new Ee(Pd)}}),Fg=xa(function(a,b){return function(c){return rd(c,a,b)}}),Gg=xa(function(a,b){return function(c){return rd(a,c,b)}}),Hg=Qa("ceil"),Ig=Qa("floor"),Jg=Hd(Pe,Jf),Kg=Hd(gf,fe),Lg=Qa("round");return u.prototype=Na.prototype,oa.prototype=Rd(Na.prototype),oa.prototype.constructor=oa,ea.prototype=Rd(Na.prototype),ea.prototype.constructor=ea,Za.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]},
Za.prototype.get=function(a){return"__proto__"==a?q:this.__data__[a]},Za.prototype.has=function(a){return"__proto__"!=a&&Sa.call(this.__data__,a)},Za.prototype.set=function(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this},db.prototype.push=function(a){var b=this.data;"string"==typeof a||La(a)?b.set.add(a):b.hash[a]=!0},ue.Cache=Za,u.after=function(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new dc(K);b=a=b}return a=Cd(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):
void 0}},u.ary=function(a,b,c){return c&&ia(a,b,c)&&(b=q),b=a&&null==b?a.length:lb(+b||0,0),Fb(a,V,q,q,q,q,b)},u.assign=Le,u.at=Wf,u.before=Ne,u.bind=wf,u.bindAll=dg,u.bindKey=xf,u.callback=le,u.chain=ka,u.chunk=function(a,b,c){b=(c?ia(a,b,c):null==b)?1:lb(jd(b)||1,1);c=0;for(var d=a?a.length:0,e=-1,f=Pa(ke(d/b));c<d;)f[++e]=Ia(a,c,c+=b);return f},u.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e},u.constant=function(a){return function(){return a}},
u.countBy=Xf,u.create=function(a,b,c){var d=Rd(a);return c&&ia(a,b,c)&&(b=q),b?Ya(d,b):d},u.curry=eg,u.curryRight=fg,u.debounce=Oe,u.defaults=ng,u.defaultsDeep=og,u.defer=gg,u.delay=hg,u.difference=Kf,u.drop=ad,u.dropRight=od,u.dropRightWhile=function(a,b,c){return a&&a.length?x(a,za(b,c,3),!0,!0):[]},u.dropWhile=function(a,b,c){return a&&a.length?x(a,za(b,c,3),!0):[]},u.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&ia(a,b,c)&&(c=0,d=e);e=a.length;c=null==c?0:+c||
0;0>c&&(c=-c>e?0:e+c);d=d===q||d>e?e:+d||0;0>d&&(d+=e);e=c>d?0:d>>>0;for(c>>>=0;c<e;)a[c++]=b;return a},u.filter=te,u.flatten=function(a,b,c){var d=a?a.length:0;return c&&ia(a,b,c)&&(b=!1),d?Oa(a,b):[]},u.flattenDeep=function(a){return a&&a.length?Oa(a,!0):[]},u.flow=ig,u.flowRight=Ke,u.forEach=tf,u.forEachRight=uf,u.forIn=rg,u.forInRight=sg,u.forOwn=tg,u.forOwnRight=ug,u.functions=De,u.groupBy=Zf,u.indexBy=$f,u.initial=function(a){return od(a,1)},u.intersection=Nf,u.invert=function(a,b,c){c&&ia(a,
b,c)&&(b=q);c=-1;for(var d=tb(a),e=d.length,f={};++c<e;){var k=d[c],g=a[k];b?Sa.call(f,g)?f[g].push(k):f[g]=[k]:f[g]=k}return f},u.invoke=ag,u.keys=tb,u.keysIn=Uc,u.map=Xd,u.mapKeys=vg,u.mapValues=wg,u.matches=kf,u.matchesProperty=function(a,b){return Hc(a,lc(b,!0))},u.memoize=ue,u.merge=Ce,u.method=Fg,u.methodOf=Gg,u.mixin=Fe,u.modArgs=jg,u.negate=function(a){if("function"!=typeof a)throw new dc(K);return function(){return!a.apply(this,arguments)}},u.omit=xg,u.once=function(a){return Ne(2,a)},u.pairs=
bf,u.partial=kg,u.partialRight=lg,u.partition=bg,u.pick=yg,u.pluck=function(a,b){return Xd(a,ie(b))},u.property=ie,u.propertyOf=function(a){return function(b){return hb(a,Gb(b),b+"")}},u.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=cb(),e=a.length;++c<e;)for(var f=0,k=a[c];-1<(f=d(b,k,f));)ze.call(b,f,1);return b},u.pullAt=Of,u.range=function(a,b,c){c&&ia(a,b,c)&&(b=c=q);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var d=-1;b=lb(ke((b-a)/(c||1)),0);for(var e=
Pa(b);++d<b;)e[d]=a,a+=c;return e},u.rearg=mg,u.reject=function(a,b,c){var d=ja(a)?ob:wb;return b=za(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})},u.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],k=a.length;for(b=za(b,c,3);++e<k;)c=a[e],b(c,e,a)&&(d.push(c),f.push(e));return cc(a,f),d},u.rest=aa,u.restParam=xa,u.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||hc(b,a)?[d]:Gb(b);d=-1;for(var e=b.length,f=e-1,k=a;null!=k&&++d<e;){var g=b[d];La(k)&&(d==f?k[g]=
c:null==k[g]&&(k[g]=Pb(b[d+1])?[]:{}));k=k[g]}return a},u.shuffle=function(a){return Yd(a,fe)},u.slice=function(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&ia(a,b,c)&&(b=0,c=d),Ia(a,b,c)):[]},u.sortBy=function(a,b,c){if(null==a)return[];c&&ia(a,b,c)&&(b=q);var e=-1;return b=za(b,c,3),a=Aa(a,function(a,c,d){return{a:b(a,c,d),b:++e,c:a}}),Ic(a,d)},u.sortByAll=cg,u.sortByOrder=function(a,b,c,d){return null==a?[]:(d&&ia(b,c,d)&&(c=q),ja(b)||(b=null==b?[]:[b]),ja(c)||(c=null==c?[]:[c]),
Jc(a,b,c))},u.spread=function(a){if("function"!=typeof a)throw new dc(K);return function(b){return a.apply(this,b)}},u.take=function(a,b,c){return a&&a.length?((c?ia(a,b,c):null==b)&&(b=1),Ia(a,0,0>b?0:b)):[]},u.takeRight=function(a,b,c){var d=a?a.length:0;return d?((c?ia(a,b,c):null==b)&&(b=1),b=d-(+b||0),Ia(a,0>b?0:b)):[]},u.takeRightWhile=function(a,b,c){return a&&a.length?x(a,za(b,c,3),!1,!0):[]},u.takeWhile=function(a,b,c){return a&&a.length?x(a,za(b,c,3)):[]},u.tap=function(a,b,c){return b.call(c,
a),a},u.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new dc(K);return!1===c?d=!1:La(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Oe(a,b,{leading:d,maxWait:+b,trailing:e})},u.thru=Nc,u.times=function(a,b,c){if(a=jd(a),1>a||!Cd(a))return[];var d=-1,e=Pa(Jb(a,4294967295));for(b=Ta(b,c,1);++d<a;)4294967295>d?e[d]=b(d):b(d);return e},u.toArray=df,u.toPlainObject=Ve,u.transform=function(a,b,c,d){var e=ja(a)||Bd(a);return b=za(b,d,4),null==c&&(e||La(a)?(d=a.constructor,
c=e?ja(a)?new d:[]:Rd(Bc(d)?d.prototype:q)):c={}),(e?eb:rb)(a,function(a,d,e){return b(c,a,d,e)}),c},u.union=Rf,u.uniq=ma,u.unzip=ud,u.unzipWith=pc,u.values=ne,u.valuesIn=function(a){return Tb(a,Uc(a))},u.where=function(a,b){return te(a,G(b))},u.without=Sf,u.wrap=function(a,b){return b=null==b?id:b,Fb(b,fa,q,[a],[])},u.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Wa(c))var d=d?Lb($b(d,c),$b(c,d)):c}return d?vc(d):[]},u.zip=Tf,u.zipObject=vd,u.zipWith=Uf,u.backflow=
Ke,u.collect=Xd,u.compose=Ke,u.each=tf,u.eachRight=uf,u.extend=Le,u.iteratee=le,u.methods=De,u.object=vd,u.select=te,u.tail=aa,u.unique=ma,Fe(u,u),u.add=function(a,b){return(+a||0)+(+b||0)},u.attempt=yf,u.camelCase=zg,u.capitalize=function(a){return(a=l(a))&&a.charAt(0).toUpperCase()+a.slice(1)},u.ceil=Hg,u.clone=function(a,b,c,d){return b&&"boolean"!=typeof b&&ia(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?lc(a,b,Ta(c,d,3)):lc(a,b)},u.cloneDeep=function(a,b,c){return"function"==
typeof b?lc(a,!0,Ta(b,c,3)):lc(a,!0)},u.deburr=Ye,u.endsWith=function(a,b,c){a=l(a);b+="";var d=a.length;return c=c===q?d:Jb(0>c?0:+c||0,d),c-=b.length,0<=c&&a.indexOf(b,c)==c},u.escape=function(a){return(a=l(a))&&Bb.test(a)?a.replace(rc,r):a},u.escapeRegExp=function(a){return(a=l(a))&&nc.test(a)?a.replace(Vb,w):a||"(?:)"},u.every=se,u.find=Ie,u.findIndex=Lf,u.findKey=pg,u.findLast=Yf,u.findLastIndex=Mf,u.findLastKey=qg,u.findWhere=function(a,b){return Ie(a,G(b))},u.first=nd,u.floor=Ig,u.get=function(a,
b,c){return a=null==a?q:hb(a,Gb(b),b+""),a===q?c:a},u.gt=Pe,u.gte=function(a,b){return a>=b},u.has=function(a,b){if(null==a)return!1;var c=Sa.call(a,b);if(!c&&!hc(b)){if(b=Gb(b),a=1==b.length?a:hb(a,Ia(b,0,-1)),null==a)return!1;b=qc(b);c=Sa.call(a,b)}return c||nb(a.length)&&Pb(b,a.length)&&(ja(a)||zc(a)||Cc(a))},u.identity=id,u.includes=Wd,u.indexOf=td,u.inRange=function(a,b,c){return b=+b||0,c===q?(c=b,b=0):c=+c||0,a>=Jb(b,c)&&a<lb(b,c)},u.isArguments=zc,u.isArray=ja,u.isBoolean=function(a){return!0===
a||!1===a||C(a)&&Ib.call(a)==Ca},u.isDate=function(a){return C(a)&&Ib.call(a)==qa},u.isElement=function(a){return!!a&&1===a.nodeType&&C(a)&&!$d(a)},u.isEmpty=function(a){return null==a?!0:Wa(a)&&(ja(a)||Cc(a)||zc(a)||C(a)&&Bc(a.splice))?!a.length:!tb(a).length},u.isEqual=Qe,u.isError=ve,u.isFinite=function(a){return"number"==typeof a&&Cd(a)},u.isFunction=Bc,u.isMatch=function(a,b,c,d){return c="function"==typeof c?Ta(c,d,3):q,ua(a,jb(b),c)},u.isNaN=function(a){return Se(a)&&a!=+a},u.isNative=Re,u.isNull=
function(a){return null===a},u.isNumber=Se,u.isObject=La,u.isPlainObject=$d,u.isRegExp=Te,u.isString=Cc,u.isTypedArray=Bd,u.isUndefined=function(a){return a===q},u.kebabCase=Ag,u.last=qc,u.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?lb(d+c,0):Jb(c||0,d-1))+1;else if(c)return e=Ea(a,b,!0)-1,a=a[e],(b===b?b===a:a!==a)?e:-1;if(b!==b)return H(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1},u.lt=gf,u.lte=function(a,b){return a<=b},u.max=Jg,u.min=
Kg,u.noConflict=function(){return Xa._=Ef,this},u.noop=lf,u.now=Td,u.pad=function(a,b,c){a=l(a);b=+b;var d=a.length;return d<b&&Cd(b)?(d=(b-d)/2,b=jd(d),d=ke(d),c=dd("",d,c),c.slice(0,b)+a+c):a},u.padLeft=Bg,u.padRight=Cg,u.parseInt=function(a,b,c){return(c?ia(a,b,c):null==b)?b=0:b&&(b=+b),a=jf(a),If(a,b||(Md.test(a)?16:10))},u.random=function(a,b,c){c&&ia(a,b,c)&&(b=c=q);var d=null==b;return null==c&&(d&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,d=!0)),null==a&&d&&(b=1,d=!1),a=+a||
0,d?(b=a,a=0):b=+b||0,c||a%1||b%1?(c=We(),Jb(a+c*(b-a+Ff("1e-"+((c+"").length-1))),b)):sb(a,b)},u.reduce=Je,u.reduceRight=vf,u.repeat=$e,u.result=function(a,b,c){var d=null==a?q:$a(a)[b];return d===q&&(null==a||hc(b,a)||(b=Gb(b),a=1==b.length?a:hb(a,Ia(b,0,-1)),d=null==a?q:$a(a)[qc(b)]),d=d===q?c:d),Bc(d)?d.call(a):d},u.round=Lg,u.runInContext=m,u.size=function(a){var b=a?Qd(a):0;return nb(b)?b:tb(a).length},u.snakeCase=Dg,u.some=Me,u.sortedIndex=Pf,u.sortedLastIndex=Qf,u.startCase=Eg,u.startsWith=
function(a,b,c){return a=l(a),c=null==c?0:Jb(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c},u.sum=function(a,b,c){if(c&&ia(a,b,c)&&(b=q),b=za(b,c,3),1==b.length){a=ja(a)?a:ed(a);c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=zb(a,b);return a},u.template=function(a,b,c){var d=u.templateSettings;c&&ia(a,b,c)&&(b=c=q);a=l(a);b=Ga(Ya({},c||b),d,qb);c=Ga(Ya({},b.imports),d.imports,qb);var e,f,k=tb(c),g=Tb(c,k),h=0;c=b.interpolate||Rc;var m="__p+='";c=Ge((b.escape||Rc).source+"|"+c.source+"|"+(c===
xd?fd:Rc).source+"|"+(b.evaluate||Rc).source+"|$","g");var r="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(c,function(b,c,d,k,g,l){return d||(d=k),m+=a.slice(h,l).replace(Sc,v),c&&(e=!0,m+="'+__e("+c+")+'"),g&&(f=!0,m+="';"+g+";\n__p+='"),d&&(m+="'+((__t=("+d+"))==null?'':__t)+'"),h=l+b.length,b}),m+="';",(b=b.variable)||(m="with(obj){"+m+"}"),m=(f?m.replace(Vc,""):m).replace(P,"$1").replace(Ld,"$1;"),m="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(e?",__e=_.escape":
"")+(f?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+m+"return __p}",b=yf(function(){return nf(k,r+"return "+m).apply(q,g)}),b.source=m,ve(b))throw b;return b},u.trim=jf,u.trimLeft=function(a,c,d){var e=a;return(a=l(a))?a.slice((d?ia(e,c,d):null==c)?b(a):t(a,c+"")):a},u.trimRight=function(b,c,d){var f=b;return(b=l(b))?(d?ia(f,c,d):null==c)?b.slice(0,e(b)+1):b.slice(0,a(b,c+"")+1):b},u.trunc=function(a,b,c){c&&ia(a,b,c)&&(b=q);var d=S;if(c=Va,null!=b)if(La(b)){var e=
"separator"in b?b.separator:e;d="length"in b?+b.length||0:d;c="omission"in b?l(b.omission):c}else d=+b||0;if(a=l(a),d>=a.length)return a;if(d-=c.length,1>d)return c;if(b=a.slice(0,d),null==e)return b+c;if(Te(e)){if(a.slice(d).search(e)){var f=a.slice(0,d);e.global||(e=Ge(e.source,(yd.exec(e)||"")+"g"));for(e.lastIndex=0;a=e.exec(f);)var k=a.index;b=b.slice(0,null==k?d:k)}}else a.indexOf(e,d)!=d&&(e=b.lastIndexOf(e),-1<e&&(b=b.slice(0,e)));return b+c},u.unescape=function(a){return(a=l(a))&&wd.test(a)?
a.replace(Yb,g):a},u.uniqueId=function(a){var b=++Df;return l(a)+b},u.words=Xe,u.all=se,u.any=Me,u.contains=Wd,u.eq=Qe,u.detect=Ie,u.foldl=Je,u.foldr=vf,u.head=nd,u.include=Wd,u.inject=Je,Fe(u,function(){var a={};return rb(u,function(b,c){u.prototype[c]||(a[c]=b)}),a}(),!1),u.sample=Yd,u.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Yd(b,a)}):Yd(this.value())},u.VERSION=y,eb("bind bindKey curry curryRight partial partialRight".split(" "),function(a){u[a].placeholder=
u}),eb(["drop","take"],function(a,b){ea.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new ea(this);c=null==c?1:lb(jd(c)||0,0);var e=this.clone();return d?e.__takeCount__=Jb(e.__takeCount__,c):e.__views__.push({size:c,type:a+(0>e.__dir__?"Right":"")}),e};ea.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),eb(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=B;ea.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:za(a,
b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),eb(["first","last"],function(a,b){var c="take"+(b?"Right":"");ea.prototype[a]=function(){return this[c](1).value()[0]}}),eb(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");ea.prototype[a]=function(){return this.__filtered__?new ea(this):this[c](1)}}),eb(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?G:ie;ea.prototype[a]=function(a){return this[c](d(a))}}),ea.prototype.compact=function(){return this.filter(id)},ea.prototype.reject=
function(a,b){return a=za(a,b,1),this.filter(function(b){return!a(b)})},ea.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(0<a||0>b)?new ea(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==q&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},ea.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},ea.prototype.toArray=function(){return this.take(fe)},rb(ea.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),
e=u[d?"take"+("last"==b?"Right":""):b];e&&(u.prototype[b]=function(){var b=d?[1]:arguments,f=this.__chain__,k=this.__wrapped__,g=!!this.__actions__.length,h=k instanceof ea,m=b[0],l=h||ja(k);l&&c&&"function"==typeof m&&1!=m.length&&(h=l=!1);var r=function(a){return d&&f?e(a,1)[0]:e.apply(q,Lb([a],b))};m={func:Nc,args:[r],thisArg:q};g=h&&!g;return d&&!f?g?(k=k.clone(),k.__actions__.push(m),a.call(k)):e.call(q,this.value())[0]:!d&&l?(k=g?k:new ea(this),k=a.apply(k,b),k.__actions__.push(m),new oa(k,
f)):this.thru(r)})}),eb("join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?hf:qf)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=!ld.spliceObjects&&/^(?:pop|shift|splice)$/.test(a),e=/^(?:join|pop|replace|shift)$/.test(a),f=d?function(){var a=b.apply(this,arguments);return 0===this.length&&delete this[0],a}:b;u.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?f.apply(this.value(),a):this[c](function(b){return f.apply(b,
a)})}}),rb(ea.prototype,function(a,b){if(a=u[b]){var c=a.name+"";(me[c]||(me[c]=[])).push({name:b,func:a})}}),me[cd(q,A).name]=[{name:"wrapper",func:q}],ea.prototype.clone=function(){var a=new ea(this.__wrapped__);return a.__actions__=Ja(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ja(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Ja(this.__views__),a},ea.prototype.reverse=function(){if(this.__filtered__){var a=new ea(this);a.__dir__=
-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a},ea.prototype.value=function(){var a=this.__wrapped__.value(),b=this.__dir__,c=ja(a),d=0>b,e=c?a.length:0;var f=0;for(var k=e,g=this.__views__,h=-1,m=g.length;++h<m;){var l=g[h],q=l.size;switch(l.type){case "drop":f+=q;break;case "dropRight":k-=q;break;case "take":k=Jb(k,f+q);break;case "takeRight":f=lb(f,k-q)}}if(f={start:f,end:k},k=f.start,g=f.end,f=g-k,d=d?g:k-1,k=this.__iteratees__,g=k.length,h=0,m=Jb(f,this.__takeCount__),!c||e<
R||e==f&&m==f)return M(a,this.__actions__);c=[];a:for(;f--&&h<m;){d+=b;e=-1;for(l=a[d];++e<g;){var r=k[e];q=r.type;r=r.iteratee(l);if(q==B)l=r;else if(!r){if(q==N)continue a;break a}}c[h++]=l}return c},u.prototype.chain=function(){return ka(this)},u.prototype.commit=function(){return new oa(this.value(),this.__chain__)},u.prototype.concat=Vf,u.prototype.plant=function(a){for(var b,c=this;c instanceof Na;){var d=sd(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b},u.prototype.reverse=
function(){var a=this.__wrapped__,b=function(a){return a.reverse()};return a instanceof ea?(this.__actions__.length&&(a=new ea(this)),a=a.reverse(),a.__actions__.push({func:Nc,args:[b],thisArg:q}),new oa(a,this.__chain__)):this.thru(b)},u.prototype.toString=function(){return this.value()+""},u.prototype.run=u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return M(this.__wrapped__,this.__actions__)},u.prototype.collect=u.prototype.map,u.prototype.head=u.prototype.first,u.prototype.select=
u.prototype.filter,u.prototype.tail=u.prototype.rest,u}var q,y="3.10.1",Q=1,A=2,O=4,T=8,J=16,fa=32,da=64,V=128,D=256,S=30,Va="...",ba=150,Y=16,R=200,N=1,B=2,K="Expected a function",L="__lodash_placeholder__",va="[object Arguments]",Fa="[object Array]",Ca="[object Boolean]",qa="[object Date]",W="[object Error]",Ba="[object Function]",la="[object Number]",ca="[object Object]",ha="[object RegExp]",U="[object String]",wa="[object ArrayBuffer]",I="[object Float32Array]",p="[object Float64Array]",Ka="[object Int8Array]",
Mb="[object Int16Array]",Xb="[object Int32Array]",Db="[object Uint8Array]",kb="[object Uint8ClampedArray]",Ma="[object Uint16Array]",ub="[object Uint32Array]",Vc=/\b__p\+='';/g,P=/\b(__p\+=)''\+/g,Ld=/(__e\(.*?\)|\b__t\))\+'';/g,Yb=/&(?:amp|lt|gt|quot|#39|#96);/g,rc=/[&<>"'`]/g,wd=RegExp(Yb.source),Bb=RegExp(rc.source),Lc=/<%-([\s\S]+?)%>/g,Ec=/<%([\s\S]+?)%>/g,xd=/<%=([\s\S]+?)%>/g,Fd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ed=/^\w*$/,Qc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
Vb=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,nc=RegExp(Vb.source),jc=/[\u0300-\u036f\ufe20-\ufe23]/g,Xc=/\\(\\)?/g,fd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yd=/\w*$/,Md=/^0[xX]/,zd=/^\[object .+?Constructor\]$/,Ad=/^\d+$/,md=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rc=/($^)/,Sc=/['\n\r\u2028\u2029\\]/g,Tc=/[A-Z\xc0-\xd6\xd8-\xde]+(?=[A-Z\xc0-\xd6\xd8-\xde][a-z\xdf-\xf6\xf8-\xff]+)|[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+|[A-Z\xc0-\xd6\xd8-\xde]+|[0-9]+/g,gd="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
Zb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ta={};ta[I]=ta[p]=ta[Ka]=ta[Mb]=ta[Xb]=ta[Db]=ta[kb]=ta[Ma]=ta[ub]=!0;ta[va]=ta[Fa]=ta[wa]=ta[Ca]=ta[qa]=ta[W]=ta[Ba]=ta["[object Map]"]=ta[la]=ta[ca]=ta[ha]=ta["[object Set]"]=ta[U]=ta["[object WeakMap]"]=!1;var na={};na[va]=na[Fa]=na[wa]=na[Ca]=na[qa]=na[I]=na[p]=na[Ka]=na[Mb]=na[Xb]=na[la]=na[ca]=na[ha]=na[U]=na[Db]=na[kb]=na[Ma]=na[ub]=!0;na[W]=na[Ba]=na["[object Map]"]=na["[object Set]"]=
na["[object WeakMap]"]=!1;var sc={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O",
"\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Fc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},vb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ub={"function":!0,
object:!0},db={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},oa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ob=Ub[typeof exports]&&exports&&!exports.nodeType&&exports,Za=Ub[typeof module]&&module&&!module.nodeType&&module,Cb=Ub[typeof self]&&self&&self.Object&&self,kc=Ub[typeof window]&&window&&
Object&&window,Wb=Za&&Za.exports===ob&&ob,Xa=ob&&Za&&"object"==typeof global&&global&&global.Object&&global||kc!==(this&&this.window)&&kc||Cb||this,ib=function(){try{Object("[object Object]")}catch(pb){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}(),Qb=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xa._=Qb,define(function(){return Qb})):ob&&Za?Wb?(Za.exports=Qb)._=Qb:ob._=Qb:Xa._=Qb}).call(this);(function(c){var n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(f,h,a){n.Backbone=c(n,a,f,h)});else if("undefined"!==typeof exports){var f=require("underscore");try{var h=require("jquery")}catch(l){}c(n,exports,f,h)}else n.Backbone=c(n,{},n._,n.jQuery||n.Zepto||n.ender||n.$)})(function(c,n,f,h){var l=c.Backbone,t=Array.prototype.slice;n.VERSION="1.3.3";
n.$=h;n.noConflict=function(){c.Backbone=l;return this};n.emulateHTTP=!1;n.emulateJSON=!1;var a=function(a,b,c){switch(a){case 1:return function(){return f[b](this[c])};case 2:return function(a){return f[b](this[c],a)};case 3:return function(a,d){return f[b](this[c],k(a,this),d)};case 4:return function(a,d,e){return f[b](this[c],k(a,this),d,e)};default:return function(){var a=t.call(arguments);a.unshift(this[c]);return f[b].apply(f,a)}}},d=function(b,c,d){f.each(c,function(c,e){f[e]&&(b.prototype[e]=
a(c,e,d))})},k=function(a,b){return f.isFunction(a)?a:f.isObject(a)&&!b._isModel(a)?r(a):f.isString(a)?function(b){return b.get(a)}:a},r=function(a){var b=f.matches(a);return function(a){return b(a.attributes)}};h=n.Events={};var w=/\s+/,v=function(a,b,c,d,e){var k=0,g;if(c&&"object"===typeof c)for(void 0!==d&&("context"in e)&&void 0===e.context&&(e.context=d),g=f.keys(c);k<g.length;k++)b=v(a,b,g[k],c[g[k]],e);else if(c&&w.test(c))for(g=c.split(w);k<g.length;k++)b=a(b,g[k],d,e);else b=a(b,c,d,e);
return b};h.on=function(a,b,c){return H(this,a,b,c)};var H=function(a,b,c,d,e){a._events=v(C,a._events||{},b,c,{context:d,ctx:a,listening:e});e&&((a._listeners||(a._listeners={}))[e.id]=e);return a};h.listenTo=function(a,b,c){if(!a)return this;var d=a._listenId||(a._listenId=f.uniqueId("l")),e=this._listeningTo||(this._listeningTo={}),k=e[d];k||(k=this._listenId||(this._listenId=f.uniqueId("l")),k=e[d]={obj:a,objId:d,id:k,listeningTo:e,count:0});H(a,b,c,this,k);return this};var C=function(a,b,c,d){if(c){b=
a[b]||(a[b]=[]);var e=d.context,f=d.ctx;(d=d.listening)&&d.count++;b.push({callback:c,context:e,ctx:e||f,listening:d})}return a};h.off=function(a,b,c){if(!this._events)return this;this._events=v(z,this._events,a,b,{context:c,listeners:this._listeners});return this};h.stopListening=function(a,b,c){var d=this._listeningTo;if(!d)return this;a=a?[a._listenId]:f.keys(d);for(var e=0;e<a.length;e++){var k=d[a[e]];if(!k)break;k.obj.off(b,c,this)}return this};var z=function(a,b,c,d){if(a){var e=0,k=d.context;
d=d.listeners;if(b||c||k){for(var g=b?[b]:f.keys(a);e<g.length;e++){b=g[e];var h=a[b];if(!h)break;for(var m=[],l=0;l<h.length;l++){var q=h[l];c&&c!==q.callback&&c!==q.callback._callback||k&&k!==q.context?m.push(q):(q=q.listening)&&0===--q.count&&(delete d[q.id],delete q.listeningTo[q.objId])}m.length?a[b]=m:delete a[b]}return a}for(a=f.keys(d);e<a.length;e++)q=d[a[e]],delete d[q.id],delete q.listeningTo[q.objId]}};h.once=function(a,b,c){var d=v(E,{},a,b,f.bind(this.off,this));"string"===typeof a&&
null==c&&(b=void 0);return this.on(d,b,c)};h.listenToOnce=function(a,b,c){b=v(E,{},b,c,f.bind(this.stopListening,this,a));return this.listenTo(a,b)};var E=function(a,b,c,d){if(c){var e=a[b]=f.once(function(){d(b,e);c.apply(this,arguments)});e._callback=c}return a};h.trigger=function(a){if(!this._events)return this;for(var c=Math.max(0,arguments.length-1),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+1];v(b,this._events,a,void 0,d);return this};var b=function(a,b,c,d){if(a){c=a[b];var f=a.all;c&&f&&(f=f.slice());
c&&e(c,d);f&&e(f,[b].concat(d))}return a},e=function(a,b){var c,d=-1,e=a.length,f=b[0],k=b[1],g=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,k);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,k,g);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};h.bind=h.on;h.unbind=h.off;f.extend(n,h);var g=n.Model=function(a,b){var c=a||{};b||(b={});this.cid=
f.uniqueId(this.cidPrefix);this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});var d=f.result(this,"defaults");c=f.defaults(f.extend({},d,c),d);this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};f.extend(g.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return f.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},
escape:function(a){return f.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!f.iteratee(a,this)(this.attributes)},set:function(a,b,c){if(null==a)return this;if("object"===typeof a){var d=a;c=b}else(d={})[a]=b;c||(c={});if(!this._validate(d,c))return!1;var e=c.unset;a=c.silent;var k=[],g=this._changing;this._changing=!0;g||(this._previousAttributes=f.clone(this.attributes),this.changed={});var h=this.attributes,m=this.changed,l=this._previousAttributes,q;for(q in d)b=
d[q],f.isEqual(h[q],b)||k.push(q),f.isEqual(l[q],b)?delete m[q]:m[q]=b,e?delete h[q]:h[q]=b;this.idAttribute in d&&(this.id=this.get(this.idAttribute));if(!a)for(k.length&&(this._pending=c),b=0;b<k.length;b++)this.trigger("change:"+k[b],this,h[k[b]],c);if(g)return this;if(!a)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,f.extend({},b,{unset:!0}))},clear:function(a){var b=
{},c;for(c in this.attributes)b[c]=void 0;return this.set(b,f.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!f.isEmpty(this.changed):f.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,c={},d;for(d in a){var e=a[d];f.isEqual(b[d],e)||(c[d]=e)}return f.size(c)?c:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},
fetch:function(a){a=f.extend({parse:!0},a);var b=this,c=a.success;a.success=function(d){var e=a.parse?b.parse(d,a):d;if(!b.set(e,a))return!1;c&&c.call(a.context,b,d,a);b.trigger("sync",b,d,a)};N(this,a);return this.sync("read",this,a)},save:function(a,b,c){if(null==a||"object"===typeof a){var d=a;c=b}else(d={})[a]=b;c=f.extend({validate:!0,parse:!0},c);var e=c.wait;if(d&&!e){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;var k=this,g=c.success,h=this.attributes;c.success=function(a){k.attributes=
h;var b=c.parse?k.parse(a,c):a;e&&(b=f.extend({},d,b));if(b&&!k.set(b,c))return!1;g&&g.call(c.context,k,a,c);k.trigger("sync",k,a,c)};N(this,c);d&&e&&(this.attributes=f.extend({},h,d));a=this.isNew()?"create":c.patch?"patch":"update";"patch"!==a||c.attrs||(c.attrs=d);a=this.sync(a,this,c);this.attributes=h;return a},destroy:function(a){a=a?f.clone(a):{};var b=this,c=a.success,d=a.wait,e=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(f){d&&e();c&&c.call(a.context,
b,f,a);b.isNew()||b.trigger("sync",b,f,a)};var k=!1;this.isNew()?f.defer(a.success):(N(this,a),k=this.sync("delete",this,a));d||e();return k},url:function(){var a=f.result(this,"urlRoot")||f.result(this.collection,"url")||R();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},
f.extend({},a,{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=f.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;this.trigger("invalid",this,a,f.extend(b,{validationError:a}));return!1}});d(g,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var m=n.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,f.extend({silent:!0},b))},q={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1},Q=function(a,b,c){c=Math.min(Math.max(c,0),a.length);var d=Array(a.length-c),e=b.length,f;for(f=0;f<d.length;f++)d[f]=a[f+c];for(f=0;f<e;f++)a[f+c]=b[f];for(f=0;f<d.length;f++)a[f+e+c]=d[f]};f.extend(m.prototype,h,{model:g,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return n.sync.apply(this,arguments)},add:function(a,b){return this.set(a,
f.extend({merge:!1},b,y))},remove:function(a,b){b=f.extend({},b);var c=!f.isArray(a);a=c?[a]:a.slice();a=this._removeModels(a,b);!b.silent&&a.length&&(b.changes={added:[],merged:[],removed:a},this.trigger("update",this,b));return c?a[0]:a},set:function(a,b){if(null!=a){b=f.extend({},q,b);b.parse&&!this._isModel(a)&&(a=this.parse(a,b)||[]);var c=!f.isArray(a);a=c?[a]:a.slice();var d=b.at;null!=d&&(d=+d);d>this.length&&(d=this.length);0>d&&(d+=this.length+1);var e=[],k=[],g=[],h=[],m={},l=b.add,r=b.merge,
n=b.remove,w=!1,v=this.comparator&&null==d&&!1!==b.sort,t=f.isString(this.comparator)?this.comparator:null,p;for(p=0;p<a.length;p++){var B=a[p];var y=this.get(B);y?(r&&B!==y&&(B=this._isModel(B)?B.attributes:B,b.parse&&(B=y.parse(B,b)),y.set(B,b),g.push(y),v&&!w&&(w=y.hasChanged(t))),m[y.cid]||(m[y.cid]=!0,e.push(y)),a[p]=y):l&&(B=a[p]=this._prepareModel(B,b))&&(k.push(B),this._addReference(B,b),m[B.cid]=!0,e.push(B))}if(n){for(p=0;p<this.length;p++)B=this.models[p],m[B.cid]||h.push(B);h.length&&
this._removeModels(h,b)}m=!1;e.length&&!v&&l&&n?(m=this.length!==e.length||f.some(this.models,function(a,b){return a!==e[b]}),this.models.length=0,Q(this.models,e,0),this.length=this.models.length):k.length&&(v&&(w=!0),Q(this.models,k,null==d?this.length:d),this.length=this.models.length);w&&this.sort({silent:!0});if(!b.silent){for(p=0;p<k.length;p++)null!=d&&(b.index=d+p),B=k[p],B.trigger("add",B,this,b);(w||m)&&this.trigger("sort",this,b);if(k.length||h.length||g.length)b.changes={added:k,removed:h,
merged:g},this.trigger("update",this,b)}return c?a[0]:a}},reset:function(a,b){b=b?f.clone(b):{};for(var c=0;c<this.models.length;c++)this._removeReference(this.models[c],b);b.previousModels=this.models;this._reset();a=this.add(a,f.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,f.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,f.extend({at:0},b))},
shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return t.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[this.modelId(a.attributes||a)]||a.cid&&this._byId[a.cid]},has:function(a){return null!=this.get(a)},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw Error("Cannot sort a set without a comparator");
a||(a={});var c=b.length;f.isFunction(b)&&(b=f.bind(b,this));1===c||f.isString(b)?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=f.extend({parse:!0},a);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b.call(a.context,c,d,a);c.trigger("sync",c,d,a)};N(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?f.clone(b):{};var c=b.wait;a=this._prepareModel(a,
b);if(!a)return!1;c||this.add(a,b);var d=this,e=b.success;b.success=function(a,b,f){c&&d.add(a,f);e&&e.call(f.context,a,b,f)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=
this),a;b=b?f.clone(b):{};b.collection=this;a=new this.model(a,b);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,b);return!1},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1);this.length--;delete this._byId[e.cid];var k=this.modelId(e.attributes);null!=k&&delete this._byId[k];b.silent||(b.index=f,e.trigger("remove",e,this,b));c.push(e);this._removeReference(e,b)}}return c},_isModel:function(a){return a instanceof
g},_addReference:function(a,b){this._byId[a.cid]=a;b=this.modelId(a.attributes);null!=b&&(this._byId[b]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];b=this.modelId(a.attributes);null!=b&&delete this._byId[b];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(b){if(("add"===a||"remove"===a)&&c!==this)return;"destroy"===a&&this.remove(b,d);if("change"===a){var e=this.modelId(b.previousAttributes()),
f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}}this.trigger.apply(this,arguments)}});d(m,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,
partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");d=n.View=function(a){this.cid=f.uniqueId("view");f.extend(this,f.pick(a,O));this._ensureElement();this.initialize.apply(this,arguments)};var A=/^(\S+)\s*(.*)$/,O="model collection el id attributes className tagName events".split(" ");f.extend(d.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();
return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof n.$?a:n.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=f.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[c]);if(c){var d=b.match(A);this.delegate(d[1],d[2],f.bind(c,this))}}return this},delegate:function(a,b,c){this.$el.on(a+
".delegateEvents"+this.cid,b,c);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var a=f.extend({},f.result(this,"attributes"));this.id&&(a.id=f.result(this,"id"));this.className&&(a["class"]=f.result(this,"className"));
this.setElement(this._createElement(f.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});n.sync=function(a,b,c){var d=T[a];f.defaults(c||(c={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var e={type:d,dataType:"json"};c.url||(e.url=f.result(b,"url")||R());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(e.contentType="application/json",e.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",
e.data=e.data?{model:e.data}:{});if(c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){e.type="POST";c.emulateJSON&&(e.data._method=d);var k=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(k)return k.apply(this,arguments)}}"GET"===e.type||c.emulateJSON||(e.processData=!1);var g=c.error;c.error=function(a,b,d){c.textStatus=b;c.errorThrown=d;g&&g.call(c.context,a,b,d)};a=c.xhr=n.ajax(f.extend(e,c));b.trigger("request",b,a,c);return a};var T={create:"POST",
update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var J=n.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},fa=/\((.*?)\)/g,da=/(\(\?)?:\w+/g,V=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(J.prototype,h,{initialize:function(){},route:function(a,b,c){f.isRegExp(a)||(a=this._routeToRegExp(a));f.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;n.history.route(a,function(e){e=
d._extractParameters(a,e);!1!==d.execute(c,e,b)&&(d.trigger.apply(d,["route:"+b].concat(e)),d.trigger("route",b,e),n.history.trigger("route",d,b,e))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){n.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var a,b=f.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(fa,"(?:$1)?").replace(da,
function(a,b){return b?a:"([^/?]+)"}).replace(V,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return f.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var S=n.History=function(){this.handlers=[];this.checkUrl=f.bind(this.checkUrl,this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},Va=/^[#\/]|\s+$/g,ba=/^\/+|\/+$/g,Y=/#.*$/;S.started=!1;f.extend(S.prototype,
h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=
this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(Va,"")},start:function(a){if(S.started)throw Error("Backbone.history has already been started");S.started=!0;this.options=f.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange=
"onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(ba,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&
this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||
function(a,b){return attachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,
!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);S.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return f.some(this.handlers,
function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!S.started)return!1;b&&!0!==b||(b={trigger:!!b});a=this.getFragment(a||"");var c=this.root;if(""===a||"?"===a.charAt(0))c=c.slice(0,-1)||"/";c+=a;a=this.decodeFragment(a.replace(Y,""));if(this.fragment!==a){this.fragment=a;if(this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&
(c=this.iframe.contentWindow,b.replace||(c.document.open(),c.document.close()),this._updateHash(c.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});n.history=new S;g.extend=m.extend=J.extend=d.extend=S.extend=function(a,b){var c=this;var d=a&&f.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};f.extend(d,c,b);d.prototype=
f.create(c.prototype,a);d.prototype.constructor=d;d.__super__=c.prototype;return d};var R=function(){throw Error('A "url" property or function must be specified');},N=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return n});(function(c){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){};n.utils.extend=function(c,h){c.prototype=n.utils.createObject(h.prototype);c.prototype.contructor=c};n.utils.createObject=function(c){if("function"===typeof Object.create)return Object.create(c);n.utils.F.prototype=c;return new n.utils.F};n.utils.objectKeys=function(c){var f;if("function"===typeof Object.keys)return Object.keys(c);var l=[];for(f in c)l.push(f);return l};n.utils.getHashValue=
function(c){return(c=location.hash.match(new RegExp(c+"=([^&]*)")))?c[1]:null};n.utils.getQueryStringParam=function(c){if(window.location.hash)return n.utils.getHashValue(c);if(!window.location.search)return null;var f=window.location.search.substr(1).split("&"),l={},t;for(t=0;t<f.length;t++){var a=f[t].split("=");l[a[0]]=a[1]}return l[c]||null};n.utils.copy=function(c,h){for(var f in h)c[f]=h[f];return c};n.utils.animFrame=function(c){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||function(c){window.setTimeout(c,1E3/60)})(function(){c()})};n.utils.indexOf=function(c,h){if(!(h instanceof Array))throw Error("Haystack is not an Array");if(h.indexOf)return h.indexOf(c);for(var f=0;f<h.length;f++)if(h[f]===c)return f;return-1};n.utils.isFunction="function"!=typeof/./&&"object"!=typeof Int8Array?function(c){return"function"==typeof c||!1}:function(c){return"[object Function]"===toString.call(c)};n.utils.fnBind=function(c,h,l){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(c,
[h].concat(l||[]));var f=function(){var a=(l||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof f))return c.apply(h,a);c.apply(this,a)};f.prototype=c.prototype;return f};n.utils.removeFromArray=function(c,h){c=n.utils.indexOf(c,h);if(-1===c)throw Error("Can't remove item from array. Item is not in the array");h.splice(c,1)};n.utils.now=function(){return"function"===typeof Date.now?Date.now():(new Date).getTime()};n.utils.getUniqueId=function(){return(1E15*Math.random()).toString(36).replace(".",
"")};n.utils.filterXss=function(c,h){c=c.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return!0===h?c:c.replace(/>/g,"&gt;").replace(/</g,"&lt;")};n.utils.stripTags=function(f){return c.trim(f.replace(/(<([^>]+)>)/ig,""))};n.utils.EventEmitter=function(){this._mSubscriptions={};this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[];this.on=function(c,h,l){if(!n.utils.isFunction(h))throw Error("Tried to listen to event "+
c+" with non-function callback "+h);this._mSubscriptions[c]||(this._mSubscriptions[c]=[]);this._mSubscriptions[c].push({fn:h,ctx:l})};this.emit=function(c){var f;var l=Array.prototype.slice.call(arguments,1);var t=this._mSubscriptions[c];if(t)for(t=t.slice(),f=0;f<t.length;f++){var a=t[f].ctx||{};t[f].fn.apply(a,l)}l.unshift(c);t=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(f=0;f<t.length;f++)a=t[f].ctx||{},t[f].fn.apply(a,l)};this.off=this.unbind=function(c,h,l){if(!this._mSubscriptions[c])throw Error("No subscribtions to unsubscribe for event "+
c);var f,a=!1;for(f=0;f<this._mSubscriptions[c].length;f++)h&&this._mSubscriptions[c][f].fn!==h||l&&l!==this._mSubscriptions[c][f].ctx||(this._mSubscriptions[c].splice(f,1),a=!0);if(!1===a)throw Error("Nothing to unbind for "+c);};this.trigger=this.emit};n.utils.EventEmitter.ALL_EVENT="__all";n.utils.DragListener=function(f,h){n.utils.EventEmitter.call(this);this._eElement=c(f);this._oDocument=c(document);this._eBody=c(document.body);this._nButtonCode=h||0;this._nDelay=200;this._nDistance=10;this._nOriginalY=
this._nOriginalX=this._nY=this._nX=0;this._bDragging=!1;this._fMove=n.utils.fnBind(this.onMouseMove,this);this._fUp=n.utils.fnBind(this.onMouseUp,this);this._fDown=n.utils.fnBind(this.onMouseDown,this);this._eElement.on("mousedown touchstart",this._fDown)};n.utils.DragListener.timeout=null;n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown);this._oDocument.unbind("mouseup touchend",this._fUp);this._eBody=this._oDocument=this._eElement=
null},onMouseDown:function(c){c.preventDefault();if(0==c.button||"touchstart"===c.type)c=this._getCoordinates(c),this._nOriginalX=c.x,this._nOriginalY=c.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(n.utils.fnBind(this._startDrag,this),this._nDelay)},onMouseMove:function(c){if(null!=this._timeout){c.preventDefault();var f=this._getCoordinates(c);this._nX=f.x-this._nOriginalX;this._nY=f.y-this._nOriginalY;!1===this._bDragging&&
(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag());this._bDragging&&this.emit("drag",this._nX,this._nY,c)}},onMouseUp:function(c){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),!0===
this._bDragging&&(this._bDragging=!1,this.emit("dragStop",c,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0;this._eBody.addClass("lm_dragging");this._eElement.addClass("lm_dragging");this._oDocument.find("iframe").css("pointer-events","none");this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(c){c=c.originalEvent&&c.originalEvent.touches?c.originalEvent.touches[0]:c;return{x:c.pageX,y:c.pageY}}});n.LayoutManager=function(f,h){if(!c||"function"!==
typeof c.noConflict)throw Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\'s scope (e.g. window) or add "jquery" to your paths when using RequireJS/AMD');n.utils.EventEmitter.call(this);this._isFullPage=this.isInitialised=!1;this._resizeTimeoutId=null;this._components={"lm-react-component":n.utils.ReactComponentHandler};this._itemAreas=[];this._resizeFunction=n.utils.fnBind(this._onResize,this);this._unloadFunction=n.utils.fnBind(this._onUnload,this);
this._maximisedItem=null;this._maximisePlaceholder=c('<div class="lm_maximise_place"></div>');this._subWindowsCreated=this._creationTimeoutPassed=!1;this._dragSources=[];this._updatingColumnsResponsive=!1;this._firstLoad=!0;this.root=this.height=this.width=null;this.openPopouts=[];this.selectedItem=null;this.isSubWindow=!1;this.eventHub=new n.utils.EventHub(this);this.config=this._createConfig(f);this.container=h;this.transitionIndicator=this.dropTargetIndicator=null;this.tabDropPlaceholder=c('<div class="lm_drop_tab_placeholder"></div>');
!0===this.isSubWindow&&c("body").css("visibility","hidden");this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}};n.LayoutManager.__lm=n;n.LayoutManager.minifyConfig=function(c){return(new n.utils.ConfigMinifier).minifyConfig(c)};n.LayoutManager.unminifyConfig=function(c){return(new n.utils.ConfigMinifier).unminifyConfig(c)};n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(c,
h){if("function"!==typeof h)throw Error("Please register a constructor function");if(void 0!==this._components[c])throw Error("Component "+c+" is already registered");this._components[c]=h},toConfig:function(c){if(!1===this.isInitialised)throw Error("Can't create config, layout not yet initialised");if(c&&!(c instanceof n.items.AbstractContentItem))throw Error("Root must be a ContentItem");var f={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},
this.config.labels),content:[]};var l=function(c,a){for(var d in a.config)"content"!==d&&(c[d]=a.config[d]);if(a.contentItems.length)for(c.content=[],d=0;d<a.contentItems.length;d++)c.content[d]={},l(c.content[d],a.contentItems[d])};c?l(f,{contentItems:[c]}):l(f,this.root);this._$reconcilePopoutWindows();f.openPopouts=[];for(c=0;c<this.openPopouts.length;c++)f.openPopouts.push(this.openPopouts[c].toConfig());f.maximisedItemId=this._maximisedItem?"__glMaximised":null;return f},getComponent:function(c){if(void 0===
this._components[c])throw new n.errors.ConfigurationError('Unknown component "'+c+'"');return this._components[c]},init:function(){!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0);"loading"===document.readyState||null===document.body?c(document).ready(n.utils.fnBind(this.init,this)):!0===this.isSubWindow&&!1===this._creationTimeoutPassed?(setTimeout(n.utils.fnBind(this.init,this),7),this._creationTimeoutPassed=!0):(!0===this.isSubWindow&&this._adjustToWindowMode(),
this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised"))},updateSize:function(c,h){2===arguments.length?(this.width=c,this.height=h):(this.width=this.container.width(),this.height=this.container.height());!0===this.isInitialised&&(this.root.callDownwards("setSize",
[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),c(window).off("resize",this._resizeFunction),c(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),
this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach(function(c){c._dragListener.destroy();c._element=null;c._itemConfig=null;c._dragListener=null}),this._dragSources=[])},createContentItem:function(c,h){if("string"!==typeof c.type)throw new n.errors.ConfigurationError("Missing parameter 'type'",c);"react-component"===c.type&&(c.type="component",c.componentName="lm-react-component");if(!this._typeToItem[c.type])throw c="Unknown type '"+
c.type+"'. Valid types are "+n.utils.objectKeys(this._typeToItem).join(","),new n.errors.ConfigurationError(c);"component"!==c.type||h instanceof n.items.Stack||!h||!0===this.isSubWindow&&h instanceof n.items.Root||(c={type:"stack",width:c.width,height:c.height,content:[c]});return new this._typeToItem[c.type](this,c,h)},createPopout:function(c,h,l,t){var a=c,d=c instanceof n.items.AbstractContentItem,f=this,r;l=l||null;if(d){a=this.toConfig(c).content;l=n.utils.getUniqueId();var w=c.parent;for(r=
c;1===w.contentItems.length&&!w.isRoot;)w=w.parent,r=r.parent;w.addId(l);isNaN(t)&&(t=n.utils.indexOf(r,w.contentItems))}else a instanceof Array||(a=[a]);!h&&d&&(h=window.screenX||window.screenLeft,w=window.screenY||window.screenTop,r=c.element.offset(),h={left:h+r.left,top:w+r.top,width:c.element.width(),height:c.element.height()});h||d||(h={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309});d&&c.remove();var v=new n.controls.BrowserPopout(a,
h,l,t,this);v.on("initialised",function(){f.emit("windowOpened",v)});v.on("closed",function(){f._$reconcilePopoutWindows()});this.openPopouts.push(v);return v},createDragSource:function(f,h){this.config.settings.constrainDragToContainer=!1;f=new n.controls.DragSource(c(f),h,this);this._dragSources.push(f);return f},selectItem:function(c,h){if(!0!==this.config.settings.selectionEnabled)throw Error("Please set selectionEnabled to true to use this feature");c!==this.selectedItem&&(null!==this.selectedItem&&
this.selectedItem.deselect(),c&&!0!==h&&c.select(),this.selectedItem=c,this.emit("selectionChanged",c))},_$maximiseItem:function(c){null!==this._maximisedItem&&this._$minimiseItem(this._maximisedItem);this._maximisedItem=c;this._maximisedItem.addId("__glMaximised");c.element.addClass("lm_maximised");c.element.after(this._maximisePlaceholder);this.root.element.prepend(c.element);c.element.width(this.container.width());c.element.height(this.container.height());c.callDownwards("setSize");this._maximisedItem.emit("maximised");
this.emit("stateChanged")},_$minimiseItem:function(c){c.element.removeClass("lm_maximised");c.removeId("__glMaximised");this._maximisePlaceholder.after(c.element);this._maximisePlaceholder.remove();c.parent.callDownwards("setSize");this._maximisedItem=null;c.emit("minimised");this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout(function(){window.close()},1)},_$getArea:function(c,h){var f,n=Infinity,a=null;for(f=0;f<this._itemAreas.length;f++){var d=this._itemAreas[f];c>d.x1&&c<d.x2&&
h>d.y1&&h<d.y2&&n>d.surface&&(n=d.surface,a=d)}return a},_$createRootItemAreas:function(){var c={y2:0,x2:0,y1:"y2",x1:"x2"},h;for(h in c){var l=this.root._$getArea();l.side=h;l[h]=c[h]?l[c[h]]-50:50;l.surface=(l.x2-l.x1)*(l.y2-l.y1);this._itemAreas.push(l)}},_$calculateItemAreas:function(){var c,h=this._getAllContentItems();this._itemAreas=[];if(1===h.length)this._itemAreas.push(this.root._$getArea());else for(this._$createRootItemAreas(),c=0;c<h.length;c++)if(h[c].isStack){var l=h[c]._$getArea();
if(null!==l)if(l instanceof Array)this._itemAreas=this._itemAreas.concat(l);else{this._itemAreas.push(l);var t={};n.utils.copy(t,l);n.utils.copy(t,l.contentItem._contentAreaDimensions.header.highlightArea);t.surface=(t.x2-t.x1)*(t.y2-t.y1);this._itemAreas.push(t)}}},_$normalizeContentItem:function(f,h){if(!f)throw Error("No content item defined");n.utils.isFunction(f)&&(f=f());if(f instanceof n.items.AbstractContentItem)return f;if(c.isPlainObject(f)&&f.type)return f=this.createContentItem(f,h),f.callDownwards("_$init"),
f;throw Error("Invalid contentItem");},_$reconcilePopoutWindows:function(){var c=[],h;for(h=0;h<this.openPopouts.length;h++)!1===this.openPopouts[h].getWindow().closed?c.push(this.openPopouts[h]):this.emit("windowClosed",this.openPopouts[h]);this.openPopouts.length!==c.length&&(this.emit("stateChanged"),this.openPopouts=c)},_getAllContentItems:function(){var c=[],h=function(f){c.push(f);if(f.contentItems instanceof Array)for(var l=0;l<f.contentItems.length;l++)h(f.contentItems[l])};h(this.root);return c},
_bindEvents:function(){this._isFullPage&&c(window).resize(this._resizeFunction);c(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId);this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(f){var h=n.utils.getQueryStringParam("gl-window");h&&(this.isSubWindow=!0,f=localStorage.getItem(h),f=JSON.parse(f),f=(new n.utils.ConfigMinifier).unminifyConfig(f),localStorage.removeItem(h));f=c.extend(!0,
{},n.config.defaultConfig,f);var l=function(c){for(var a in c)"props"!==a&&"object"===typeof c[a]?l(c[a]):"type"===a&&"react-component"===c[a]&&(c.type="component",c.componentName="lm-react-component")};l(f);!1===f.settings.hasHeaders&&(f.dimensions.headerHeight=0);return f},_adjustToWindowMode:function(){var f=c('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');f.click(n.utils.fnBind(function(){this.emit("popIn")},this));document.title=
n.utils.stripTags(this.config.content[0].title);c("head").append(c("body link, body style, template, .gl_keep"));this.container=c("body").html("").css("visibility","visible").append(f);window.__glInstance=this},_createSubWindows:function(){var c;for(c=0;c<this.config.openPopouts.length;c++){var h=this.config.openPopouts[c];this.createPopout(h.content,h.dimensions,h.parentId,h.indexInParent)}},_setContainer:function(){var f=c(this.container||"body");if(0===f.length)throw Error("GoldenLayout container not found");
if(1<f.length)throw Error("GoldenLayout more than one container element specified");f[0]===document.body&&(this._isFullPage=!0,c("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}));this.container=f},_create:function(c){if(!(c.content instanceof Array)){var f=void 0===c.content?"Missing setting 'content' on top level of configuration":"Configuration parameter 'content' must be an array";throw new n.errors.ConfigurationError(f,c);}if(1<c.content.length)throw new n.errors.ConfigurationError("Top level content can't contain more then one element.",
c);this.root=new n.items.Root(this,{content:c.content},this.container);this.root.callDownwards("_$init");"__glMaximised"===c.maximisedItemId&&this.root.getItemsById(c.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var c=0;c<this.openPopouts.length;c++)this.openPopouts[c].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&
0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var c=this.root.contentItems[0].contentItems.length;if(!(1>=c)){var h=this.config.dimensions.minItemWidth;if(!(c*h<=this.width)){this._updatingColumnsResponsive=!0;c-=Math.max(Math.floor(this.width/h),1);h=this.root.contentItems[0];for(var l=this._findAllStackContainers()[0],n=0;n<c;n++)this._addChildContentItemsToContainer(l,h.contentItems[h.contentItems.length-1]);this._updatingColumnsResponsive=!1}}}else this._firstLoad=
!1},_useResponsiveLayout:function(){return this.config.settings&&("always"==this.config.settings.responsiveMode||"onload"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(c,h){"stack"===h.type?h.contentItems.forEach(function(f){c.addChild(f);h.removeChild(f,!0)}):h.contentItems.forEach(n.utils.fnBind(function(f){this._addChildContentItemsToContainer(c,f)},this))},_findAllStackContainers:function(){var c=[];this._findAllStackContainersRecursive(c,this.root);
return c},_findAllStackContainersRecursive:function(c,h){h.contentItems.forEach(n.utils.fnBind(function(f){"stack"==f.type?c.push(f):f.isComponent||this._findAllStackContainersRecursive(c,f)},this))}});(function(){"function"===typeof define&&define.amd?define(["jquery"],function(f){c=f;return n.LayoutManager}):"object"===typeof exports?module.exports=n.LayoutManager:window.GoldenLayout=n.LayoutManager})();n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""};n.config.defaultConfig=
{openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",
minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}};n.container.ItemContainer=function(f,h,l){n.utils.EventEmitter.call(this);this.height=this.width=null;this.title=f.componentName;this.parent=h;this.layoutManager=l;this.isHidden=!1;this._config=f;this._element=c('<div class="lm_item_container"><div class="lm_content"></div></div>');this._contentElement=this._element.find(".lm_content")};n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},
hide:function(){this.emit("hide");this.isHidden=!0;this._element.hide()},show:function(){this.emit("show");this.isHidden=!1;this._element.show();0==this.height&&0==this.width||this.emit("shown")},setSize:function(c,h){for(var f=this.parent,n=this,a,d;!f.isColumn&&!f.isRow;)if(n=f,f=f.parent,f.isRoot)return!1;a=f.isColumn?"height":"width";c=("height"===a?h:c)/(1/(n.config[a]/100)*this[a])*100;h=(n.config[a]-c)/(f.contentItems.length-1);for(d=0;d<f.contentItems.length;d++)f.contentItems[d].config[a]=
f.contentItems[d]===n?c:f.contentItems[d].config[a]+h;f.callDownwards("setSize");return!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(f){this.setState(c.extend(!0,this.getState(),f))},setState:function(c){this._config.componentState=c;this.parent.emitBubblingEvent("stateChanged")},setTitle:function(c){this.parent.setTitle(c)},_$setSize:function(c,h){if(c!==this.width||h!==this.height)this.width=
c,this.height=h,c=this._contentElement[0],h=c.offsetHeight-c.clientHeight,this._contentElement.width(this.width-(c.offsetWidth-c.clientWidth)).height(this.height-h),this.emit("resize")}});n.controls.BrowserPopout=function(c,h,l,t,a){n.utils.EventEmitter.call(this);this.isInitialised=!1;this._config=c;this._dimensions=h;this._parentId=l;this._indexInParent=t;this._layoutManager=a;this._id=this._popoutWindow=null;this._createWindow()};n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===
this.isInitialised)throw Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},
close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(f){}},popIn:function(){var f;if(this._parentId){var h=c.extend(!0,{},this.getGlInstance().toConfig()).content[0];(f=this._layoutManager.root.getItemsById(this._parentId)[0])||(f=0<this._layoutManager.root.contentItems.length?this._layoutManager.root.contentItems[0]:this._layoutManager.root)}f.addChild(h,this._indexInParent);this.close()},_createWindow:function(){var f=this._createUrl(),
h=Math.floor(1E6*Math.random()).toString(36),l=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(f,h,l)){c(this._popoutWindow).on("load",n.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",n.utils.fnBind(this._onClose,this));var t=setInterval(n.utils.fnBind(function(){this._popoutWindow.__glInstance&&
this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))},this),10)}else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError)throw f=Error("Popout blocked"),f.type="popoutBlocked",f;},_serializeWindowOptions:function(c){var f=[],l;for(l in c)f.push(l+"="+c[l]);return f.join(",")},_createUrl:function(){var c={content:this._config},h="gl-window-config-"+n.utils.getUniqueId();c=(new n.utils.ConfigMinifier).minifyConfig(c);try{localStorage.setItem(h,JSON.stringify(c))}catch(l){throw Error("Error while writing to localStorage "+
l.toString());}c=document.location.href.split("?");return 1===c.length?c[0]+"?gl-window="+h:document.location.href+"&gl-window="+h},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top);this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0;this.getGlInstance().on("popIn",this.popIn,this);this.emit("initialised")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,["closed"]),50)}});n.controls.DragProxy=function(f,h,l,t,a,d){n.utils.EventEmitter.call(this);
this._dragListener=l;this._layoutManager=t;this._contentItem=a;this._originalParent=d;this._lastValidArea=this._area=null;this._dragListener.on("drag",this._onDrag,this);this._dragListener.on("dragStop",this._onDrop,this);this.element=c(n.controls.DragProxy._template);d&&d._side&&(this._sided=d._sided,this.element.addClass("lm_"+d._side),0<=["right","bottom"].indexOf(d._side)&&this.element.find(".lm_content").after(this.element.find(".lm_header")));this.element.css({left:f,top:h});this.element.find(".lm_tab").attr("title",
n.utils.stripTags(this._contentItem.config.title));this.element.find(".lm_title").html(this._contentItem.config.title);this.childElementContainer=this.element.find(".lm_content");this.childElementContainer.append(a.element);this._updateTree();this._layoutManager._$calculateItemAreas();this._setDimensions();c(document.body).append(this.element);l=this._layoutManager.container.offset();this._minX=l.left;this._minY=l.top;this._maxX=this._layoutManager.container.width()+this._minX;this._maxY=this._layoutManager.container.height()+
this._minY;this._width=this.element.width();this._height=this.element.height();this._setDropPosition(f,h)};n.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>';n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(c,h,l){l=l.originalEvent&&l.originalEvent.touches?l.originalEvent.touches[0]:
l;c=l.pageX;l=l.pageY;(c>this._minX&&c<this._maxX&&l>this._minY&&l<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(c,l)},_setDropPosition:function(c,h){this.element.css({left:c,top:h});this._area=this._layoutManager._$getArea(c,h);null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(c,h,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide();null!==this._area?this._area.contentItem._$onDrop(this._contentItem,
this._area):null!==this._lastValidArea?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy();this.element.remove();this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0);this._contentItem._$setParent(this)},_setDimensions:function(){var c=this._layoutManager.config.dimensions,
h=c.dragProxyWidth,l=c.dragProxyHeight;this.element.width(h);this.element.height(l);h-=this._sided?c.headerHeight:0;l-=this._sided?0:c.headerHeight;this.childElementContainer.width(h);this.childElementContainer.height(l);this._contentItem.element.width(h);this._contentItem.element.height(l);this._contentItem.callDownwards("_$show");this._contentItem.callDownwards("setSize")}});n.controls.DragSource=function(c,h,l){this._element=c;this._itemConfig=h;this._layoutManager=l;this._dragListener=null;this._createDragListener()};
n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(){null!==this._dragListener&&this._dragListener.destroy();this._dragListener=new n.utils.DragListener(this._element);this._dragListener.on("dragStart",this._onDragStart,this);this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(f,h){var l=this._itemConfig;n.utils.isFunction(l)&&(l=l());l=this._layoutManager._$normalizeContentItem(c.extend(!0,{},l));f=new n.controls.DragProxy(f,h,this._dragListener,
this._layoutManager,l,null);this._layoutManager.transitionIndicator.transitionElements(this._element,f.element)}});n.controls.DropTargetIndicator=function(){this.element=c(n.controls.DropTargetIndicator._template);c(document.body).append(this.element)};n.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>';n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(c,h,l,n){this.highlightArea({x1:c,
y1:h,x2:l,y2:n})},highlightArea:function(c){this.element.css({left:c.x1,top:c.y1,width:c.x2-c.x1,height:c.y2-c.y1}).show()},hide:function(){this.element.hide()}});n.controls.Header=function(f,h){n.utils.EventEmitter.call(this);this.layoutManager=f;this.element=c(n.controls.Header._template);!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",n.utils.fnBind(this._onHeaderClick,this)));this.tabsContainer=this.element.find(".lm_tabs");
this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list");this.tabDropdownContainer.hide();this.controlsContainer=this.element.find(".lm_controls");this.parent=h;this.parent.on("resize",this._updateTabSizes,this);this.tabs=[];this.tabDropdownButton=this.closeButton=this.activeContentItem=null;this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this);c(document).mouseup(this.hideAdditionalTabsDropdown);this._lastVisibleTabIndex=-1;this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset;
this._createControls()};n.controls.Header._template='<div class="lm_header"><ul class="lm_tabs"></ul><ul class="lm_controls"></ul><ul class="lm_tabdropdown_list"></ul></div>';n.utils.copy(n.controls.Header.prototype,{createTab:function(c,h){var f;for(f=0;f<this.tabs.length;f++)if(this.tabs[f].contentItem===c)return;c=new n.controls.Tab(this,c);0===this.tabs.length?(this.tabs.push(c),this.tabsContainer.append(c.element)):(void 0===h&&(h=this.tabs.length),0<h?this.tabs[h-1].element.after(c.element):
this.tabs[0].element.before(c.element),this.tabs.splice(h,0,c),this._updateTabSizes())},removeTab:function(c){for(var f=0;f<this.tabs.length;f++)if(this.tabs[f].contentItem===c){this.tabs[f]._$destroy();this.tabs.splice(f,1);return}throw Error("contentItem is not controlled by this header");},setActiveContentItem:function(c){var f;for(f=0;f<this.tabs.length;f++){var l=this.tabs[f].contentItem===c;this.tabs[f].setActive(l);!0===l&&(this.activeContentItem=c,this.parent.config.activeItemIndex=f)}if(this.layoutManager.config.settings.reorderOnTabMenuClick&&
-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){f=this.tabs[this.parent.config.activeItemIndex];for(c=this.parent.config.activeItemIndex;0<c;c--)this.tabs[c]=this.tabs[c-1];this.tabs[0]=f;this.parent.config.activeItemIndex=0}this._updateTabSizes();this.parent.emitBubblingEvent("stateChanged")},position:function(c){var f=this.parent._header.show;f&&!this.parent._side&&(f="top");void 0!==c&&this.parent._header.show!=c&&(this.parent._header.show=c,this.parent._setupHeaderPosition());
return f},_$setClosable:function(c){return this.closeButton&&this._isClosable()?(this.closeButton.element[c?"show":"hide"](),!0):!1},_$destroy:function(){this.emit("destroy",this);for(var f=0;f<this.tabs.length;f++)this.tabs[f]._$destroy();c(document).off("mouseup",this.hideAdditionalTabsDropdown);this.element.remove()},_getHeaderSetting:function(c){if(c in this.parent._header)return this.parent._header[c]},_createControls:function(){var c=n.utils.fnBind(this._showAdditionalTabsDropdown,this);this.tabDropdownButton=
new n.controls.HeaderButton(this,this.layoutManager.config.labels.tabDropdown,"lm_tabdropdown",c);this.tabDropdownButton.element.hide();if(this._getHeaderSetting("popout")){var h=n.utils.fnBind(this._onPopoutClick,this);c=this._getHeaderSetting("popout");new n.controls.HeaderButton(this,c,"lm_popout",h)}if(this._getHeaderSetting("maximise")){c=n.utils.fnBind(this.parent.toggleMaximise,this.parent);var l=this._getHeaderSetting("maximise");var t=this._getHeaderSetting("minimise");var a=new n.controls.HeaderButton(this,
l,"lm_maximise",c);this.parent.on("maximised",function(){a.element.attr("title",t)});this.parent.on("minimised",function(){a.element.attr("title",l)})}this._isClosable()&&(h=n.utils.fnBind(this.parent.remove,this.parent),c=this._getHeaderSetting("close"),this.closeButton=new n.controls.HeaderButton(this,c,"lm_close",h))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(c){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&
this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){!0===this.layoutManager.config.settings.popoutWholeStack?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(c){c.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(c){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===c);this.element.css(this.parent._sided?"height":"width","");this.element[this.parent._sided?"width":"height"](this.layoutManager.config.dimensions.headerHeight);
var f=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,l=0,n,a=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,k=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,r=this.tabs[k];this.parent._sided&&(f=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset);this._lastVisibleTabIndex=-1;for(n=0;n<this.tabs.length;n++){var w=this.tabs[n].element;this.tabsContainer.append(w);var v=w.outerWidth()+parseInt(w.css("margin-right"),
10);l+=v;v=k<=n?l:l+r.element.outerWidth()+parseInt(r.element.css("margin-right"),10);if(v>f){if(d)n===k&&(w.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(w));else{var H=0<k&&k<=n?(v-f)/(n-1):(v-f)/n;if(H<a){for(v=0;v<=n;v++){var C=v!==k&&0!==v?"-"+H+"px":"";this.tabs[v].element.css({"z-index":n-v,"margin-left":C})}this._lastVisibleTabIndex=n;this.tabsContainer.append(w)}else d=!0}if(d&&n!==k)if(c)w.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(w);
else{this._updateTabSizes(!0);break}}else this._lastVisibleTabIndex=n,w.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(w)}}}});n.controls.HeaderButton=function(f,h,l,n){this._header=f;this.element=c('<li class="'+l+'" title="'+h+'"></li>');this._header.on("destroy",this._$destroy,this);this._action=n;this.element.on("click touchstart",this._action);this._header.controlsContainer.append(this.element)};n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off();
this.element.remove()}});n.controls.Splitter=function(c,h,l){this._isVertical=c;this._size=h;this._grabSize=l<h?h:l;this.element=this._createElement();this._dragListener=new n.utils.DragListener(this.element)};n.utils.copy(n.controls.Splitter.prototype,{on:function(c,h,l){this._dragListener.on(c,h,l)},_$destroy:function(){this.element.remove()},_createElement:function(){var f=c('<div class="lm_drag_handle"></div>'),h=c('<div class="lm_splitter"></div>');h.append(f);var l=this._grabSize-this._size,
n=l/2;this._isVertical?(f.css("top",-n),f.css("height",this._size+l),h.addClass("lm_vertical"),h.height(this._size)):(f.css("left",-n),f.css("width",this._size+l),h.addClass("lm_horizontal"),h.width(this._size));return h}});n.controls.Tab=function(f,h){this.header=f;this.contentItem=h;this.element=c(n.controls.Tab._template);this.titleElement=this.element.find(".lm_title");this.closeElement=this.element.find(".lm_close_tab");this.closeElement[h.config.isClosable?"show":"hide"]();this.isActive=!1;
this.setTitle(h.config.title);this.contentItem.on("titleChanged",this.setTitle,this);this._layoutManager=this.contentItem.layoutManager;!0===this._layoutManager.config.settings.reorderEnabled&&!0===h.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener));this._onTabClickFn=n.utils.fnBind(this._onTabClick,this);this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,
this);this.element.on("mousedown touchstart",this._onTabClickFn);this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove();this.contentItem.tab=this;this.contentItem.emit("tab",this);this.contentItem.layoutManager.emit("tabCreated",this);this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))};n.controls.Tab._template=
'<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>';n.utils.copy(n.controls.Tab.prototype,{setTitle:function(c){this.element.attr("title",n.utils.stripTags(c));this.titleElement.html(c)},setActive:function(c){c!==this.isActive&&((this.isActive=c)?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn);this.closeElement.off("click touchstart",
this._onCloseClickFn);this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null);this.element.remove()},_onDragStart:function(c,h){!0===this.contentItem.parent.isMaximised&&this.contentItem.parent.toggleMaximise();new n.controls.DragProxy(c,h,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(c){0===c.button||"touchstart"===c.type?(c=
this.header.parent.getActiveContentItem(),this.contentItem!==c&&this.header.parent.setActiveContentItem(this.contentItem)):1===c.button&&this.contentItem.config.isClosable&&this._onCloseClick(c)},_onCloseClick:function(c){c.stopPropagation();this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(c){c.stopPropagation()}});n.controls.TransitionIndicator=function(){this._element=c('<div class="lm_transition_indicator"></div>');c(document.body).append(this._element);this._fromDimensions=
this._toElement=null;this._totalAnimationDuration=200;this._animationStartTime=null};n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(c,h){},_nextAnimationFrame:function(){var c=this._measure(this._toElement),h=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,l={},t;if(1<=h)this._element.hide();else{c.opacity=0;for(t in this._fromDimensions)l[t]=this._fromDimensions[t]+(c[t]-this._fromDimensions[t])*
h;this._element.css(l);n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(c){var f=c.offset();return{left:f.left,top:f.top,width:c.outerWidth(),height:c.outerHeight()}}});n.errors.ConfigurationError=function(c,h){Error.call(this);this.name="Configuration Error";this.message=c;this.node=h};n.errors.ConfigurationError.prototype=Error();n.items.AbstractContentItem=function(c,h,l){n.utils.EventEmitter.call(this);this.config=this._extendItemNode(h);this.type=h.type;this.contentItems=
[];this.parent=l;this.isComponent=this.isStack=this.isColumn=this.isRow=this.isRoot=this.isMaximised=this.isInitialised=!1;this.layoutManager=c;this._pendingEventPropagations={};this._throttledEvents=["stateChanged"];this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this);h.content&&this._createContentItems(h)};n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw Error("Abstract Method");},callDownwards:function(c,h,l,n){var a;!0!==l&&!0!==n&&this[c].apply(this,h||
[]);for(a=0;a<this.contentItems.length;a++)this.contentItems[a].callDownwards(c,h,l);!0===l&&!0!==n&&this[c].apply(this,h||[])},removeChild:function(c,h){c=n.utils.indexOf(c,this.contentItems);if(-1===c)throw Error("Can't remove child item. Unknown content item");!0!==h&&this.contentItems[c]._$destroy();this.contentItems.splice(c,1);this.config.content.splice(c,1);0<this.contentItems.length?this.callDownwards("setSize"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},
addChild:function(c,h){void 0===h&&(h=this.contentItems.length);this.contentItems.splice(h,0,c);void 0===this.config.content&&(this.config.content=[]);this.config.content.splice(h,0,c.config);c.parent=this;!0===c.parent.isInitialised&&!1===c.isInitialised&&c._$init()},replaceChild:function(c,h,l){h=this.layoutManager._$normalizeContentItem(h);var f=n.utils.indexOf(c,this.contentItems),a=c.element[0].parentNode;if(-1===f)throw Error("Can't replace child. oldChild is not child of this");a.replaceChild(h.element[0],
c.element[0]);!0===l&&(c.parent=null,c._$destroy());this.contentItems[f]=h;h.parent=this;this.isStack&&(this.header.tabs[f].contentItem=h);!0===h.parent.isInitialised&&!1===h.isInitialised&&h._$init();this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var c=this.layoutManager.createPopout(this);this.emitBubblingEvent("stateChanged");return c},toggleMaximise:function(c){c&&c.preventDefault();!0===this.isMaximised?this.layoutManager._$minimiseItem(this):
this.layoutManager._$maximiseItem(this);this.isMaximised=!this.isMaximised;this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(c){this.config.title=c;this.emit("titleChanged",c);this.emit("stateChanged")},hasId:function(c){if(this.config.id){if("string"===
typeof this.config.id)return this.config.id===c;if(this.config.id instanceof Array)return-1!==n.utils.indexOf(c,this.config.id)}else return!1},addId:function(c){this.hasId(c)||(this.config.id?"string"===typeof this.config.id?this.config.id=[this.config.id,c]:this.config.id instanceof Array&&this.config.id.push(c):this.config.id=c)},removeId:function(c){if(!this.hasId(c))throw Error("Id not found");"string"===typeof this.config.id?delete this.config.id:this.config.id instanceof Array&&(c=n.utils.indexOf(c,
this.config.id),this.config.id.splice(c,1))},getItemsByFilter:function(c){var f=[],l=function(h){for(var a=0;a<h.contentItems.length;a++)!0===c(h.contentItems[a])&&f.push(h.contentItems[a]),l(h.contentItems[a])};l(this);return f},getItemsById:function(c){return this.getItemsByFilter(function(f){return f.config.id instanceof Array?-1!==n.utils.indexOf(c,f.config.id):f.config.id===c})},getItemsByType:function(c){return this._$getItemsByProperty("type",c)},getComponentsByName:function(c){c=this._$getItemsByProperty("componentName",
c);var f=[],l;for(l=0;l<c.length;l++)f.push(c[l].instance);return f},_$getItemsByProperty:function(c,h){return this.getItemsByFilter(function(f){return f[c]===h})},_$setParent:function(c){this.parent=c},_$highlightDropZone:function(c,h,l){this.layoutManager.dropTargetIndicator.highlightArea(l)},_$onDrop:function(c){this.addChild(c)},_$hide:function(){this._callOnActiveComponents("hide");this.element.hide();this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show");this.element.show();
this.layoutManager.updateSize()},_callOnActiveComponents:function(c){var f=this.getItemsByType("stack"),l,n;for(n=0;n<f.length;n++)if((l=f[n].getActiveContentItem())&&l.isComponent)l.container[c]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed");this.callDownwards("_$destroy",[],!0,!0);this.element.remove();this.emitBubblingEvent("itemDestroyed")},_$getArea:function(c){c=c||this.element;var f=c.offset(),l=c.width();c=c.height();return{x1:f.left,y1:f.top,x2:f.left+l,y2:f.top+c,
surface:l*c,contentItem:this}},_$init:function(){var c;this.setSize();for(c=0;c<this.contentItems.length;c++)this.childElementContainer.append(this.contentItems[c].element);this.isInitialised=!0;this.emitBubblingEvent("itemCreated");this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(c){var f=new n.utils.BubblingEvent(c,this);this.emit(c,f)},_createContentItems:function(c){var f;if(!(c.content instanceof Array))throw new n.errors.ConfigurationError("content must be an Array",c);
for(f=0;f<c.content.length;f++){var l=this.layoutManager.createContentItem(c.content[f],this);this.contentItems.push(l)}},_extendItemNode:function(c){for(var f in n.config.itemDefaultConfig)void 0===c[f]&&(c[f]=n.config.itemDefaultConfig[f]);return c},_propagateEvent:function(c,h){h instanceof n.utils.BubblingEvent&&!1===h.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(c,
h))},_scheduleEventPropagationToLayoutManager:function(c,h){-1===n.utils.indexOf(c,this._throttledEvents)?this.layoutManager.emit(c,h.origin):!0!==this._pendingEventPropagations[c]&&(this._pendingEventPropagations[c]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[c,h])))},_propagateEventToLayoutManager:function(c,h){this._pendingEventPropagations[c]=!1;this.layoutManager.emit(c,h)}});n.items.Component=function(f,h,l){n.items.AbstractContentItem.call(this,f,h,l);h=f.getComponent(this.config.componentName);
l=c.extend(!0,{},this.config.componentState||{});this.componentName=l.componentName=this.config.componentName;""===this.config.title&&(this.config.title=this.config.componentName);this.isComponent=!0;this.container=new n.container.ItemContainer(this.config,this,f);this.instance=new h(this.container,l);this.element=this.container._element};n.utils.extend(n.items.Component,n.items.AbstractContentItem);n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&
this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this);this.container.emit("open")},_$hide:function(){this.container.hide();n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show();n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown();n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",
this);n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}});n.items.Root=function(f,h,l){n.items.AbstractContentItem.call(this,f,h,null);this.isRoot=!0;this.type="root";this.childElementContainer=this.element=c('<div class="lm_goldenlayout lm_item lm_root"></div>');this._containerElement=l;this._containerElement.append(this.element)};n.utils.extend(n.items.Root,n.items.AbstractContentItem);n.utils.copy(n.items.Root.prototype,{addChild:function(c){if(0<this.contentItems.length)throw Error("Root node can only have a single child");
c=this.layoutManager._$normalizeContentItem(c,this);this.childElementContainer.append(c.element);n.items.AbstractContentItem.prototype.addChild.call(this,c);this.callDownwards("setSize");this.emitBubblingEvent("stateChanged")},setSize:function(c,h){c="undefined"===typeof c?this._containerElement.width():c;h="undefined"===typeof h?this._containerElement.height():h;this.element.width(c);this.element.height(h);this.contentItems[0]&&(this.contentItems[0].element.width(c),this.contentItems[0].element.height(h))},
_$highlightDropZone:function(c,h,l){this.layoutManager.tabDropPlaceholder.remove();n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(c,h){if(c.isComponent){var f=this.layoutManager.createContentItem({type:"stack",header:c.config.header||{}},this);f._$init();f.addChild(c);c=f}if(this.contentItems.length){var t="x"==h.side[0]?"row":"column";f="x"==h.side[0]?"width":"height";h="2"==h.side[1];var a=this.contentItems[0];!a instanceof n.items.RowOrColumn||
a.type!=t?(t=this.layoutManager.createContentItem({type:t},this),this.replaceChild(a,t),t.addChild(c,h?0:void 0,!0),t.addChild(a,h?void 0:0,!0),a.config[f]=50,c.config[f]=50,t.callDownwards("setSize")):(t=a.contentItems[h?0:a.contentItems.length-1],a.addChild(c,h?0:void 0,!0),t.config[f]*=.5,c.config[f]=t.config[f],a.callDownwards("setSize"))}else this.addChild(c)}});n.items.RowOrColumn=function(f,h,l,t){n.items.AbstractContentItem.call(this,h,l,t);this.isRow=!f;this.isColumn=f;this.childElementContainer=
this.element=c('<div class="lm_item lm_'+(f?"column":"row")+'"></div>');this._splitterSize=h.config.dimensions.borderWidth;this._splitterGrabSize=h.config.dimensions.borderGrabWidth;this._dimension=(this._isColumn=f)?"height":"width";this._splitter=[];this._splitterMaxPosition=this._splitterMinPosition=this._splitterPosition=null};n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem);n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(c,h,l){c=this.layoutManager._$normalizeContentItem(c,
this);void 0===h&&(h=this.contentItems.length);if(0<this.contentItems.length){var f=this._createSplitter(Math.max(0,h-1)).element;0<h?(this.contentItems[h-1].element.after(f),f.after(c.element)):(this.contentItems[0].element.before(f),f.before(c.element))}else this.childElementContainer.append(c.element);n.items.AbstractContentItem.prototype.addChild.call(this,c,h);h=1/this.contentItems.length*100;if(!0!==l){for(f=0;f<this.contentItems.length;f++)this.contentItems[f]===c?c.config[this._dimension]=
h:(l=this.contentItems[f].config[this._dimension]*=(100-h)/100,this.contentItems[f].config[this._dimension]=l);this.callDownwards("setSize")}this.emitBubblingEvent("stateChanged")},removeChild:function(c,h){var f=c.config[this._dimension],t=n.utils.indexOf(c,this.contentItems),a=Math.max(t-1,0);if(-1===t)throw Error("Can't remove child. ContentItem is not child of this Row or Column");this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1));for(t=0;t<this.contentItems.length;t++)this.contentItems[t]!==
c&&(this.contentItems[t].config[this._dimension]+=f/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,c,h);1===this.contentItems.length&&!0===this.config.isClosable?(c=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,c,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(c,h){var f=c.config[this._dimension];n.items.AbstractContentItem.prototype.replaceChild.call(this,c,h);h.config[this._dimension]=
f;this.callDownwards("setSize");this.emitBubblingEvent("stateChanged")},setSize:function(){0<this.contentItems.length&&(this._calculateRelativeSizes(),this._setAbsoluteSizes());this.emitBubblingEvent("stateChanged");this.emit("resize")},_$init:function(){if(!0!==this.isInitialised){var c;n.items.AbstractContentItem.prototype._$init.call(this);for(c=0;c<this.contentItems.length-1;c++)this.contentItems[c].element.after(this._createSplitter(c).element)}},_setAbsoluteSizes:function(){var c,h=this._calculateAbsoluteSizes();
for(c=0;c<this.contentItems.length;c++)0<h.additionalPixel-c&&h.itemSizes[c]++,this._isColumn?(this.contentItems[c].element.width(h.totalWidth),this.contentItems[c].element.height(h.itemSizes[c])):(this.contentItems[c].element.width(h.itemSizes[c]),this.contentItems[c].element.height(h.totalHeight))},_calculateAbsoluteSizes:function(){var c=(this.contentItems.length-1)*this._splitterSize;var h=this.element.width(),l=this.element.height(),n=0,a=[];this._isColumn?l-=c:h-=c;for(c=0;c<this.contentItems.length;c++){var d=
this._isColumn?Math.floor(this.contentItems[c].config.height/100*l):Math.floor(this.contentItems[c].config.width/100*h);n+=d;a.push(d)}return{itemSizes:a,additionalPixel:Math.floor((this._isColumn?l:h)-n),totalWidth:h,totalHeight:l}},_calculateRelativeSizes:function(){var c,h=0,l=[],n=this._isColumn?"height":"width";for(c=0;c<this.contentItems.length;c++)void 0!==this.contentItems[c].config[n]?h+=this.contentItems[c].config[n]:l.push(this.contentItems[c]);if(100!==Math.round(h))if(100>Math.round(h)&&
0<l.length)for(c=0;c<l.length;c++)l[c].config[n]=(100-h)/l.length;else{if(100<Math.round(h))for(c=0;c<l.length;c++)l[c].config[n]=50,h+=50;for(c=0;c<this.contentItems.length;c++)this.contentItems[c].config[n]=this.contentItems[c].config[n]/h*100}this._respectMinItemWidth()},_respectMinItemWidth:function(){var c=this.layoutManager.config.dimensions?this.layoutManager.config.dimensions.minItemWidth||0:0,h=[],l=0,n=0,a=[];if(!(this._isColumn||!c||1>=this.contentItems.length)){var d=this._calculateAbsoluteSizes();
for(var k=0;k<this.contentItems.length;k++){var r=d.itemSizes[k];r<c?(n+=c-r,r={width:c}):(l+=r-c,r={width:r},h.push(r));a.push(r)}if(!(0===n||n>l)){l=n/l;for(k=0;k<h.length;k++){r=h[k];var w=Math.round((r.width-c)*l);n-=w;r.width-=w}0!==n&&(a[a.length-1].width-=n);for(k=0;k<this.contentItems.length;k++)this.contentItems[k].config.width=a[k].width/d.totalWidth*100}}},_createSplitter:function(c){var f=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize);f.on("drag",n.utils.fnBind(this._onSplitterDrag,
this,[f]),this);f.on("dragStop",n.utils.fnBind(this._onSplitterDragStop,this,[f]),this);f.on("dragStart",n.utils.fnBind(this._onSplitterDragStart,this,[f]),this);this._splitter.splice(c,0,f);return f},_getItemsForSplitter:function(c){c=n.utils.indexOf(c,this._splitter);return{before:this.contentItems[c],after:this.contentItems[c+1]}},_getMinimumDimensions:function(c){for(var f=0,l=0,n=0;n<c.length;++n)f=Math.max(c[n].minWidth||0,f),l=Math.max(c[n].minHeight||0,l);return{horizontal:f,vertical:l}},
_onSplitterDragStart:function(c){c=this._getItemsForSplitter(c);var f=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],l=this._getMinimumDimensions(c.before.config.content);l=this._isColumn?l.vertical:l.horizontal;var n=this._getMinimumDimensions(c.after.config.content);n=this._isColumn?n.vertical:n.horizontal;this._splitterPosition=0;this._splitterMinPosition=-1*(c.before.element[this._dimension]()-(l||f));this._splitterMaxPosition=c.after.element[this._dimension]()-
(n||f)},_onSplitterDrag:function(c,h,l){h=this._isColumn?l:h;h>this._splitterMinPosition&&h<this._splitterMaxPosition&&(this._splitterPosition=h,c.element.css(this._isColumn?"top":"left",h))},_onSplitterDragStop:function(c){var f=this._getItemsForSplitter(c),l=f.before.element[this._dimension](),t=f.after.element[this._dimension]();l=(this._splitterPosition+l)/(l+t);t=f.before.config[this._dimension]+f.after.config[this._dimension];f.before.config[this._dimension]=l*t;f.after.config[this._dimension]=
(1-l)*t;c.element.css({top:0,left:0});n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,["setSize"]))}});n.items.Stack=function(f,h,l){n.items.AbstractContentItem.call(this,f,h,l);this.element=c('<div class="lm_item lm_stack"></div>');this._activeContentItem=null;l=f.config;this._header={show:!0===l.settings.hasHeaders&&!1!==h.hasHeaders,popout:l.settings.showPopoutIcon&&l.labels.popout,maximise:l.settings.showMaximiseIcon&&l.labels.maximise,close:l.settings.showCloseIcon&&l.labels.close,minimise:l.labels.minimise};
l.header&&n.utils.copy(this._header,l.header);h.header&&n.utils.copy(this._header,h.header);h.content&&h.content[0]&&h.content[0].header&&n.utils.copy(this._header,h.content[0].header);this._dropZones={};this._dropIndex=this._contentAreaDimensions=this._dropSegment=null;this.isStack=!0;this.childElementContainer=c('<div class="lm_items"></div>');this.header=new n.controls.Header(f,this);this.element.append(this.header.element);this.element.append(this.childElementContainer);this._setupHeaderPosition();
this._$validateClosability()};n.utils.extend(n.items.Stack,n.items.AbstractContentItem);n.utils.copy(n.items.Stack.prototype,{setSize:function(){var c=this._header.show?this.layoutManager.config.dimensions.headerHeight:0;var h=this.element.width()-(this._sided?c:0),l=this.element.height()-(this._sided?0:c);this.childElementContainer.width(h);this.childElementContainer.height(l);for(c=0;c<this.contentItems.length;c++)this.contentItems[c].element.width(h).height(l);this.emit("resize");this.emitBubblingEvent("stateChanged")},
_$init:function(){var c;if(!0!==this.isInitialised){n.items.AbstractContentItem.prototype._$init.call(this);for(c=0;c<this.contentItems.length;c++)this.header.createTab(this.contentItems[c]),this.contentItems[c]._$hide();if(0<this.contentItems.length){c=this.contentItems[this.config.activeItemIndex||0];if(!c)throw Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(c)}}},setActiveContentItem:function(c){if(-1===n.utils.indexOf(c,this.contentItems))throw Error("contentItem is not a child of this stack");
null!==this._activeContentItem&&this._activeContentItem._$hide();this._activeContentItem=c;this.header.setActiveContentItem(c);c._$show();this.emit("activeContentItemChanged",c);this.layoutManager.emit("activeContentItemChanged",c);this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(c,h){c=this.layoutManager._$normalizeContentItem(c,this);n.items.AbstractContentItem.prototype.addChild.call(this,c,h);this.childElementContainer.append(c.element);
this.header.createTab(c,h);this.setActiveContentItem(c);this.callDownwards("setSize");this._$validateClosability();this.emitBubblingEvent("stateChanged")},removeChild:function(c,h){var f=n.utils.indexOf(c,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,c,h);this.header.removeTab(c);this.header.activeContentItem===c&&(0<this.contentItems.length?this.setActiveContentItem(this.contentItems[Math.max(f-1,0)]):this._activeContentItem=null);this._$validateClosability();this.emitBubblingEvent("stateChanged")},
_$validateClosability:function(){var c;var h=this.header._isClosable();var l=0;for(c=this.contentItems.length;l<c&&h;l++)h=this.contentItems[l].config.isClosable;this.header._$setClosable(h)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this);this.header._$destroy()},_$onDrop:function(c){if("header"===this._dropSegment)this._resetHeaderDropZone(),this.addChild(c,this._dropIndex);else if("body"===this._dropSegment)this.addChild(c);else{var f="top"===this._dropSegment||
"bottom"===this._dropSegment,l="left"===this._dropSegment||"right"===this._dropSegment,t="top"===this._dropSegment||"left"===this._dropSegment,a=f&&this.parent.isColumn||l&&this.parent.isRow;l=f?"height":"width";if(c.isComponent){var d=this.layoutManager.createContentItem({type:"stack",header:c.config.header||{}},this);d._$init();d.addChild(c);c=d}a?(f=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(c,t?f:f+1,!0),this.config[l]*=.5,c.config[l]=this.config[l],this.parent.callDownwards("setSize")):
(f=this.layoutManager.createContentItem({type:f?"column":"row"},this),this.parent.replaceChild(this,f),f.addChild(c,t?0:void 0,!0),f.addChild(this,t?void 0:0,!0),this.config[l]=50,c.config[l]=50,f.callDownwards("setSize"))}},_$highlightDropZone:function(c,h){var f;for(f in this._contentAreaDimensions){var n=this._contentAreaDimensions[f].hoverArea;if(n.x1<c&&n.x2>c&&n.y1<h&&n.y2>h){"header"===f?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?h:c)):(this._resetHeaderDropZone(),
this._highlightBodyDropZone(f));break}}},_$getArea:function(){if(!1===this.element.is(":visible"))return null;var c=n.items.AbstractContentItem.prototype._$getArea,h=c.call(this,this.header.element),l=c.call(this,this.childElementContainer),t=l.x2-l.x1,a=l.y2-l.y1;this._contentAreaDimensions={header:{hoverArea:{x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},highlightArea:{x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2}}};if(this._activeContentItem&&!1===this._activeContentItem.isComponent)return h;if(0===this.contentItems.length)return this._contentAreaDimensions.body=
{hoverArea:{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},highlightArea:{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2}},c.call(this,this.element);this._contentAreaDimensions.left={hoverArea:{x1:l.x1,y1:l.y1,x2:l.x1+.25*t,y2:l.y2},highlightArea:{x1:l.x1,y1:l.y1,x2:l.x1+.5*t,y2:l.y2}};this._contentAreaDimensions.top={hoverArea:{x1:l.x1+.25*t,y1:l.y1,x2:l.x1+.75*t,y2:l.y1+.5*a},highlightArea:{x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y1+.5*a}};this._contentAreaDimensions.right={hoverArea:{x1:l.x1+.75*t,y1:l.y1,x2:l.x2,y2:l.y2},highlightArea:{x1:l.x1+
.5*t,y1:l.y1,x2:l.x2,y2:l.y2}};this._contentAreaDimensions.bottom={hoverArea:{x1:l.x1+.25*t,y1:l.y1+.5*a,x2:l.x1+.75*t,y2:l.y2},highlightArea:{x1:l.x1,y1:l.y1+.5*a,x2:l.x2,y2:l.y2}};return c.call(this,this.element)},_highlightHeaderDropZone:function(c){var f,l=this.header.tabs.length,n=!1;if(0===l){var a=this.header.element.offset();this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()})}else{for(f=
0;f<l;f++){a=this.header.tabs[f].element;var d=a.offset();if(this._sided){var k=d.top;d=d.left;var r=a.height()}else k=d.left,d=d.top,r=a.width();if(c>k&&c<k+r){n=!0;break}}!1===n&&c<k||(c<k+r/2?(this._dropIndex=f,a.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(f+1,l),a.after(this.layoutManager.tabDropPlaceholder)),this._sided?(placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,this.layoutManager.dropTargetIndicator.highlightArea({x1:d,x2:d+a.innerHeight(),
y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()})):(c=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:c,x2:c+this.layoutManager.tabDropPlaceholder.width(),y1:d,y2:d+a.innerHeight()})))}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var c=0<=["right","left","bottom"].indexOf(this._header.show)&&this._header.show;this.header.element.toggle(!!this._header.show);
this._side=c;this._sided=0<=["right","left"].indexOf(this._side);this.element.removeClass("lm_left lm_right lm_bottom");this._side&&this.element.addClass("lm_"+this._side);this.element.find(".lm_header").length&&this.childElementContainer&&(c=0<=["right","bottom"].indexOf(this._side)?"before":"after",this.header.element[c](this.childElementContainer),this.callDownwards("setSize"))},_highlightBodyDropZone:function(c){this.layoutManager.dropTargetIndicator.highlightArea(this._contentAreaDimensions[c].highlightArea);
this._dropSegment=c}});n.utils.BubblingEvent=function(c,h){this.name=c;this.origin=h;this.isPropagationStopped=!1};n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0};n.utils.ConfigMinifier=function(){this._keys="settings hasHeaders constrainDragToContainer selectionEnabled dimensions borderWidth minItemHeight minItemWidth headerHeight dragProxyWidth dragProxyHeight labels close maximise minimise popout content componentName componentState id width type height isClosable title popoutWholeStack openPopouts parentId activeItemIndex reorderEnabled borderGrabWidth".split(" ");
if(36<this._keys.length)throw Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]};n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(c){var f={};this._nextLevel(c,f,"_min");return f},unminifyConfig:function(c){var f={};this._nextLevel(c,f,"_max");return f},_nextLevel:function(c,h,l){var f;for(f in c)if(c instanceof Array&&(f=parseInt(f,10)),c.hasOwnProperty(f)){var a=this[l](f,this._keys);
"object"===typeof c[f]?(h[a]=c[f]instanceof Array?[]:{},this._nextLevel(c[f],h[a],l)):h[a]=this[l](c[f],this._values)}},_min:function(c,h){if("string"===typeof c&&1===c.length)return"___"+c;h=n.utils.indexOf(c,h);return-1===h?c:h.toString(36)},_max:function(c,h){return"string"===typeof c&&1===c.length?h[parseInt(c,36)]:"string"===typeof c&&"___"===c.substr(0,3)?c[3]:c}});n.utils.EventHub=function(f){n.utils.EventEmitter.call(this);this._layoutManager=f;this._childEventSource=this._dontPropagateToParent=
null;this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this));this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this);c(window).on("gl_child_event",this._boundOnEventFromChild)};n.utils.EventHub.prototype._onEventFromThis=function(){var c=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&c[0]!==this._dontPropagateToParent&&this._propagateToParent(c);this._propagateToChildren(c);this._childEventSource=this._dontPropagateToParent=null};
n.utils.EventHub.prototype._$onEventFromParent=function(c){this._dontPropagateToParent=c[0];this.emit.apply(this,c)};n.utils.EventHub.prototype._onEventFromChild=function(c){this._childEventSource=c.originalEvent.__gl;this.emit.apply(this,c.originalEvent.__glArgs)};n.utils.EventHub.prototype._propagateToParent=function(c){if(document.createEvent){var f=window.opener.document.createEvent("HTMLEvents");f.initEvent("gl_child_event",!0,!0)}else f=window.opener.document.createEventObject(),f.eventType=
"gl_child_event";f.eventName="gl_child_event";f.__glArgs=c;f.__gl=this._layoutManager;document.createEvent?window.opener.dispatchEvent(f):window.opener.fireEvent("on"+f.eventType,f)};n.utils.EventHub.prototype._propagateToChildren=function(c){var f,l;for(l=0;l<this._layoutManager.openPopouts.length;l++)(f=this._layoutManager.openPopouts[l].getGlInstance())&&f!==this._childEventSource&&f.eventHub._$onEventFromParent(c)};n.utils.EventHub.prototype.destroy=function(){c(window).off("gl_child_event",this._boundOnEventFromChild)};
n.utils.ReactComponentHandler=function(c,h){this._originalComponentWillUpdate=this._reactComponent=null;this._container=c;this._initialState=h;this._reactClass=this._getReactClass();this._container.on("open",this._render,this);this._container.on("destroy",this._destroy,this)};n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]);this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||
function(){};this._reactComponent.componentWillUpdate=this._onUpdate.bind(this);this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]);this._container.off("open",this._render,this);this._container.off("destroy",this._destroy,this)},_onUpdate:function(c,h){this._container.setState(h);this._originalComponentWillUpdate.call(this._reactComponent,c,h)},_getReactClass:function(){var c=this._container._config.component;
if(!c)throw Error("No react component name. type: react-component needs a field `component`");var h=this._container.layoutManager.getComponent(c);if(!h)throw Error('React component "'+c+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return h},_getReactComponent:function(){var f=c.extend({glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},this._container._config.props);return React.createElement(this._reactClass,
f)}})})(window.$);/*
 JSON Editor v0.7.28 - JSON Schema -> HTML Editor
 By Jeremy Dorn - https://github.com/jdorn/json-editor/
 Released under the MIT license

 Date: 2016-08-07
*/
(function(){var c;(function(){var a=!1,d=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/;c=function(){};c.extend=function w(c){function f(){!a&&this.init&&this.init.apply(this,arguments)}var h=this.prototype;a=!0;var l=new this;a=!1;for(var r in c)l[r]="function"==typeof c[r]&&"function"==typeof h[r]&&d.test(c[r])?function(a,b){return function(){var c=this._super;this._super=h[a];var d=b.apply(this,arguments);this._super=c;return d}}(r,c[r]):c[r];f.prototype=l;f.prototype.constructor=
f;f.extend=w;return f};return c})();(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return d}a.prototype=window.Event.prototype;window.CustomEvent=a})();(function(){for(var a=0,c=["ms","moz","webkit","o"],f=0;f<c.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[c[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[f]+"CancelAnimationFrame"]||
window[c[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(c,d){var f=(new Date).getTime(),k=Math.max(0,16-(f-a));d=window.setTimeout(function(){c(f+k)},k);a=f+k;return d});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();(function(){Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)})})();var n=function(a){var c,f;for(c=1;c<arguments.length;c++){var h=
arguments[c];for(f in h)if(h.hasOwnProperty(f)){var l;if(l=h[f])l=h[f],l="object"!==typeof l||l.nodeType||null!==l&&l===l.window?!1:l.constructor&&!Object.prototype.hasOwnProperty.call(l.constructor.prototype,"isPrototypeOf")?!1:!0;l?(a.hasOwnProperty(f)||(a[f]={}),n(a[f],h[f])):a[f]=h[f]}}return a},f=function(a,c){if(a&&"object"===typeof a){var d;if(Array.isArray(a)||"number"===typeof a.length&&0<a.length&&a.length-1 in a)for(d=0;d<a.length&&!1!==c(d,a[d]);d++);else if(Object.keys){var f=Object.keys(a);
for(d=0;d<f.length&&!1!==c(f[d],a[f[d]]);d++);}else for(d in a)if(a.hasOwnProperty(d)&&!1===c(d,a[d]))break}},h=function(a,c){var d=document.createEvent("HTMLEvents");d.initEvent(c,!0,!0);a.dispatchEvent(d)},l=function(a,c){if(!(a instanceof Element))throw Error("element should be an instance of Element");c=n({},l.defaults.options,c||{});this.element=a;this.options=c;this.init()};l.prototype={constructor:l,init:function(){var a=this;this.ready=!1;var c=l.defaults.themes[this.options.theme||l.defaults.theme];
if(!c)throw"Unknown theme "+(this.options.theme||l.defaults.theme);this.schema=this.options.schema;this.theme=new c;this.template=this.options.template;this.refs=this.options.refs||{};this.uuid=0;this.__data={};if(c=l.defaults.iconlibs[this.options.iconlib||l.defaults.iconlib])this.iconlib=new c;this.root_container=this.theme.getContainer();this.element.appendChild(this.root_container);this.translate=this.options.translate||l.defaults.translate;this._loadExternalRefs(this.schema,function(){a._getDefinitions(a.schema);
var c={};a.options.custom_validators&&(c.custom_validators=a.options.custom_validators);a.validator=new l.Validator(a,null,c);c=a.getEditorClass(a.schema);a.root=a.createEditor(c,{jsoneditor:a,schema:a.schema,required:!0,container:a.root_container});a.root.preBuild();a.root.build();a.root.postBuild();a.options.startval&&a.root.setValue(a.options.startval);a.validation_results=a.validator.validate(a.root.getValue());a.root.showValidationErrors(a.validation_results);a.ready=!0;window.requestAnimationFrame(function(){a.ready&&
(a.validation_results=a.validator.validate(a.root.getValue()),a.root.showValidationErrors(a.validation_results),a.trigger("ready"),a.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(a){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";this.root.setValue(a);return this},validate:function(a){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";
return 1===arguments.length?this.validator.validate(a):this.validation_results},destroy:function(){!this.destroyed&&this.ready&&(this.options=this.schema=null,this.root.destroy(),this.__data=this.template=this.iconlib=this.theme=this.validation_results=this.validator=this.root_container=this.root=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(a,c){this.callbacks=this.callbacks||{};this.callbacks[a]=this.callbacks[a]||[];this.callbacks[a].push(c);return this},off:function(a,
c){if(a&&c){this.callbacks=this.callbacks||{};this.callbacks[a]=this.callbacks[a]||[];for(var d=[],f=0;f<this.callbacks[a].length;f++)this.callbacks[a][f]!==c&&d.push(this.callbacks[a][f]);this.callbacks[a]=d}else a?(this.callbacks=this.callbacks||{},this.callbacks[a]=[]):this.callbacks={};return this},trigger:function(a){if(this.callbacks&&this.callbacks[a]&&this.callbacks[a].length)for(var c=0;c<this.callbacks[a].length;c++)this.callbacks[a][c]();return this},setOption:function(a,c){if("show_errors"===
a)this.options.show_errors=c,this.onChange();else throw"Option "+a+" must be set during instantiation and cannot be changed later";return this},getEditorClass:function(a){var c;a=this.expandSchema(a);f(l.defaults.resolvers,function(d,f){if((d=f(a))&&l.defaults.editors[d])return c=d,!1});if(!c)throw"Unknown editor for schema "+JSON.stringify(a);if(!l.defaults.editors[c])throw"Unknown editor "+c;return l.defaults.editors[c]},createEditor:function(a,c){c=n({},a.options||{},c);return new a(c)},onChange:function(){if(this.ready&&
!this.firing_change){this.firing_change=!0;var a=this;window.requestAnimationFrame(function(){a.firing_change=!1;a.ready&&(a.validation_results=a.validator.validate(a.root.getValue()),"never"!==a.options.show_errors?a.root.showValidationErrors(a.validation_results):a.root.showValidationErrors([]),a.trigger("change"))});return this}},compileTemplate:function(a,c){c=c||l.defaults.template;if("string"===typeof c){if(!l.defaults.templates[c])throw"Unknown template engine "+c;var d=l.defaults.templates[c]();
if(!d)throw"Template engine "+c+" missing required library.";}else d=c;if(!d)throw"No template engine set";if(!d.compile)throw"Invalid template engine set";return d.compile(a)},_data:function(a,c,f){if(3===arguments.length){if(a.hasAttribute("data-jsoneditor-"+c))var d=a.getAttribute("data-jsoneditor-"+c);else d=this.uuid++,a.setAttribute("data-jsoneditor-"+c,d);this.__data[d]=f}else return a.hasAttribute("data-jsoneditor-"+c)?this.__data[a.getAttribute("data-jsoneditor-"+c)]:null},registerEditor:function(a){this.editors=
this.editors||{};this.editors[a.path]=a;return this},unregisterEditor:function(a){this.editors=this.editors||{};this.editors[a.path]=null;return this},getEditor:function(a){if(this.editors)return this.editors[a]},watch:function(a,c){this.watchlist=this.watchlist||{};this.watchlist[a]=this.watchlist[a]||[];this.watchlist[a].push(c);return this},unwatch:function(a,c){if(!this.watchlist||!this.watchlist[a])return this;if(!c)return this.watchlist[a]=null,this;for(var d=[],f=0;f<this.watchlist[a].length;f++)this.watchlist[a][f]!==
c&&d.push(this.watchlist[a][f]);this.watchlist[a]=d.length?d:null;return this},notifyWatchers:function(a){if(!this.watchlist||!this.watchlist[a])return this;for(var c=0;c<this.watchlist[a].length;c++)this.watchlist[a][c]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(a,c){c=c||"#/definitions/";if(a.definitions)for(var d in a.definitions)a.definitions.hasOwnProperty(d)&&(this.refs[c+
d]=a.definitions[d],a.definitions[d].definitions&&this._getDefinitions(a.definitions[d],c+d+"/definitions/"))},_getExternalRefs:function(a){var c={},f=function(a){for(var d in a)a.hasOwnProperty(d)&&(c[d]=!0)};a.$ref&&"object"!==typeof a.$ref&&"#"!==a.$ref.substr(0,1)&&!this.refs[a.$ref]&&(c[a.$ref]=!0);for(var h in a)if(a.hasOwnProperty(h))if(a[h]&&"object"===typeof a[h]&&Array.isArray(a[h]))for(var l=0;l<a[h].length;l++)"object"===typeof a[h][l]&&f(this._getExternalRefs(a[h][l]));else a[h]&&"object"===
typeof a[h]&&f(this._getExternalRefs(a[h]));return c},_loadExternalRefs:function(a,c){var d=this;a=this._getExternalRefs(a);var h=0,l=0,n=!1;f(a,function(a){if(!d.refs[a]){if(!d.options.ajax)throw"Must set ajax option to true to load external ref "+a;d.refs[a]="loading";l++;var f=new XMLHttpRequest;f.open("GET",a,!0);f.onreadystatechange=function(){if(4==f.readyState)if(200===f.status){try{var k=JSON.parse(f.responseText)}catch(E){throw window.console.log(E),"Failed to parse external ref "+a;}if(!k||
"object"!==typeof k)throw"External ref does not contain a valid schema - "+a;d.refs[a]=k;d._loadExternalRefs(k,function(){h++;h>=l&&!n&&(n=!0,c())})}else throw window.console.log(f),"Failed to fetch ref via ajax- "+a;};f.send()}});l||c()},expandRefs:function(a){for(a=n({},a);a.$ref;){var c=a.$ref;delete a.$ref;this.refs[c]||(c=decodeURIComponent(c));a=this.extendSchemas(a,this.refs[c])}return a},expandSchema:function(a){var c=this,k=n({},a),h;"object"===typeof a.type&&(Array.isArray(a.type)?f(a.type,
function(d,f){"object"===typeof f&&(a.type[d]=c.expandSchema(f))}):a.type=c.expandSchema(a.type));"object"===typeof a.disallow&&(Array.isArray(a.disallow)?f(a.disallow,function(d,f){"object"===typeof f&&(a.disallow[d]=c.expandSchema(f))}):a.disallow=c.expandSchema(a.disallow));a.anyOf&&f(a.anyOf,function(d,f){a.anyOf[d]=c.expandSchema(f)});a.dependencies&&f(a.dependencies,function(d,f){"object"!==typeof f||Array.isArray(f)||(a.dependencies[d]=c.expandSchema(f))});a.not&&(a.not=this.expandSchema(a.not));
if(a.allOf){for(h=0;h<a.allOf.length;h++)k=this.extendSchemas(k,this.expandSchema(a.allOf[h]));delete k.allOf}if(a["extends"]){if(Array.isArray(a["extends"]))for(h=0;h<a["extends"].length;h++)k=this.extendSchemas(k,this.expandSchema(a["extends"][h]));else k=this.extendSchemas(k,this.expandSchema(a["extends"]));delete k["extends"]}if(a.oneOf){var l=n({},k);delete l.oneOf;for(h=0;h<a.oneOf.length;h++)k.oneOf[h]=this.extendSchemas(this.expandSchema(a.oneOf[h]),l)}return this.expandRefs(k)},extendSchemas:function(a,
c){a=n({},a);c=n({},c);var d=this,h={};f(a,function(a,f){"undefined"!==typeof c[a]?"required"!==a&&"defaultProperties"!==a||"object"!==typeof f||!Array.isArray(f)?"type"!==a||"string"!==typeof f&&!Array.isArray(f)?"object"===typeof f&&Array.isArray(f)?h[a]=f.filter(function(d){return-1!==c[a].indexOf(d)}):h[a]="object"===typeof f&&null!==f?d.extendSchemas(f,c[a]):f:("string"===typeof f&&(f=[f]),"string"===typeof c.type&&(c.type=[c.type]),h.type=c.type&&c.type.length?f.filter(function(a){return-1!==
c.type.indexOf(a)}):f,1===h.type.length&&"string"===typeof h.type[0]?h.type=h.type[0]:0===h.type.length&&delete h.type):h[a]=f.concat(c[a]).reduce(function(a,c){0>a.indexOf(c)&&a.push(c);return a},[]):h[a]=f});f(c,function(c,d){"undefined"===typeof a[c]&&(h[c]=d)});return h}};l.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]};l.Validator=c.extend({init:function(a,c,f){this.jsoneditor=a;this.schema=c||this.jsoneditor.schema;this.options=f||{};
this.translate=this.jsoneditor.translate||l.defaults.translate},validate:function(a){return this._validateSchema(this.schema,a)},_validateSchema:function(a,c,k){var d=this,h=[],v,t,C=JSON.stringify(c);k=k||"root";a=n({},this.jsoneditor.expandRefs(a));if(a.required&&!0===a.required){if("undefined"===typeof c)return h.push({path:k,property:"required",message:this.translate("error_notset")}),h}else if("undefined"===typeof c)if(this.jsoneditor.options.required_by_default)h.push({path:k,property:"required",
message:this.translate("error_notset")});else return h;if(a["enum"]){var z=!1;for(v=0;v<a["enum"].length;v++)C===JSON.stringify(a["enum"][v])&&(z=!0);z||h.push({path:k,property:"enum",message:this.translate("error_enum")})}if(a["extends"])for(v=0;v<a["extends"].length;v++)h=h.concat(this._validateSchema(a["extends"][v],c,k));if(a.allOf)for(v=0;v<a.allOf.length;v++)h=h.concat(this._validateSchema(a.allOf[v],c,k));if(a.anyOf){z=!1;for(v=0;v<a.anyOf.length;v++)if(!this._validateSchema(a.anyOf[v],c,k).length){z=
!0;break}z||h.push({path:k,property:"anyOf",message:this.translate("error_anyOf")})}if(a.oneOf){z=0;C=[];for(v=0;v<a.oneOf.length;v++){var E=this._validateSchema(a.oneOf[v],c,k);E.length||z++;for(t=0;t<E.length;t++)E[t].path=k+".oneOf["+v+"]"+E[t].path.substr(k.length);C=C.concat(E)}1!==z&&(h.push({path:k,property:"oneOf",message:this.translate("error_oneOf",[z])}),h=h.concat(C))}a.not&&(this._validateSchema(a.not,c,k).length||h.push({path:k,property:"not",message:this.translate("error_not")}));if(a.type)if(Array.isArray(a.type)){z=
!1;for(v=0;v<a.type.length;v++)if(this._checkType(a.type[v],c)){z=!0;break}z||h.push({path:k,property:"type",message:this.translate("error_type_union")})}else this._checkType(a.type,c)||h.push({path:k,property:"type",message:this.translate("error_type",[a.type])});if(a.disallow)if(Array.isArray(a.disallow)){z=!0;for(v=0;v<a.disallow.length;v++)if(this._checkType(a.disallow[v],c)){z=!1;break}z||h.push({path:k,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(a.disallow,
c)&&h.push({path:k,property:"disallow",message:this.translate("error_disallow",[a.disallow])});if("number"===typeof c){if(a.multipleOf||a.divisibleBy)v=a.multipleOf||a.divisibleBy,z=c/v===Math.floor(c/v),window.math?z=window.math.mod(window.math.bignumber(c),window.math.bignumber(v)).equals(0):window.Decimal&&(z=(new window.Decimal(c)).mod(new window.Decimal(v)).equals(0)),z||h.push({path:k,property:a.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[v])});a.hasOwnProperty("maximum")&&
(z=a.exclusiveMaximum?c<a.maximum:c<=a.maximum,window.math?z=window.math[a.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(c),window.math.bignumber(a.maximum)):window.Decimal&&(z=(new window.Decimal(c))[a.exclusiveMaximum?"lt":"lte"](new window.Decimal(a.maximum))),z||h.push({path:k,property:"maximum",message:this.translate(a.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[a.maximum])}));a.hasOwnProperty("minimum")&&(z=a.exclusiveMinimum?c>a.minimum:c>=a.minimum,window.math?
z=window.math[a.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(c),window.math.bignumber(a.minimum)):window.Decimal&&(z=(new window.Decimal(c))[a.exclusiveMinimum?"gt":"gte"](new window.Decimal(a.minimum))),z||h.push({path:k,property:"minimum",message:this.translate(a.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[a.minimum])}))}else if("string"===typeof c)a.maxLength&&(c+"").length>a.maxLength&&h.push({path:k,property:"maxLength",message:this.translate("error_maxLength",
[a.maxLength])}),a.minLength&&(c+"").length<a.minLength&&h.push({path:k,property:"minLength",message:this.translate(1===a.minLength?"error_notempty":"error_minLength",[a.minLength])}),a.pattern&&((new RegExp(a.pattern)).test(c)||h.push({path:k,property:"pattern",message:this.translate("error_pattern",[a.pattern])}));else if("object"===typeof c&&null!==c&&Array.isArray(c)){if(a.items)if(Array.isArray(a.items))for(v=0;v<c.length;v++)if(a.items[v])h=h.concat(this._validateSchema(a.items[v],c[v],k+"."+
v));else if(!0===a.additionalItems)break;else if(a.additionalItems)h=h.concat(this._validateSchema(a.additionalItems,c[v],k+"."+v));else{!1===a.additionalItems&&h.push({path:k,property:"additionalItems",message:this.translate("error_additionalItems")});break}else for(v=0;v<c.length;v++)h=h.concat(this._validateSchema(a.items,c[v],k+"."+v));a.maxItems&&c.length>a.maxItems&&h.push({path:k,property:"maxItems",message:this.translate("error_maxItems",[a.maxItems])});a.minItems&&c.length<a.minItems&&h.push({path:k,
property:"minItems",message:this.translate("error_minItems",[a.minItems])});if(a.uniqueItems)for(t={},v=0;v<c.length;v++){z=JSON.stringify(c[v]);if(t[z]){h.push({path:k,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}t[z]=!0}}else if("object"===typeof c&&null!==c){if(a.maxProperties){z=0;for(v in c)c.hasOwnProperty(v)&&z++;z>a.maxProperties&&h.push({path:k,property:"maxProperties",message:this.translate("error_maxProperties",[a.maxProperties])})}if(a.minProperties){z=0;
for(v in c)c.hasOwnProperty(v)&&z++;z<a.minProperties&&h.push({path:k,property:"minProperties",message:this.translate("error_minProperties",[a.minProperties])})}if(a.required&&Array.isArray(a.required))for(v=0;v<a.required.length;v++)"undefined"===typeof c[a.required[v]]&&h.push({path:k,property:"required",message:this.translate("error_required",[a.required[v]])});z={};if(a.properties)for(v in a.properties)a.properties.hasOwnProperty(v)&&(z[v]=!0,h=h.concat(this._validateSchema(a.properties[v],c[v],
k+"."+v)));if(a.patternProperties)for(v in a.patternProperties)if(a.patternProperties.hasOwnProperty(v))for(t in C=new RegExp(v),c)c.hasOwnProperty(t)&&C.test(t)&&(z[t]=!0,h=h.concat(this._validateSchema(a.patternProperties[v],c[t],k+"."+t)));"undefined"!==typeof a.additionalProperties||!this.jsoneditor.options.no_additional_properties||a.oneOf||a.anyOf||(a.additionalProperties=!1);if("undefined"!==typeof a.additionalProperties)for(v in c)if(c.hasOwnProperty(v)&&!z[v])if(a.additionalProperties)if(!0===
a.additionalProperties)break;else h=h.concat(this._validateSchema(a.additionalProperties,c[v],k+"."+v));else{h.push({path:k,property:"additionalProperties",message:this.translate("error_additional_properties",[v])});break}if(a.dependencies)for(v in a.dependencies)if(a.dependencies.hasOwnProperty(v)&&"undefined"!==typeof c[v])if(Array.isArray(a.dependencies[v]))for(t=0;t<a.dependencies[v].length;t++)"undefined"===typeof c[a.dependencies[v][t]]&&h.push({path:k,property:"dependencies",message:this.translate("error_dependency",
[a.dependencies[v][t]])});else h=h.concat(this._validateSchema(a.dependencies[v],c,k))}f(l.defaults.custom_validators,function(b,e){h=h.concat(e.call(d,a,c,k))});this.options.custom_validators&&f(this.options.custom_validators,function(b,e){h=h.concat(e.call(d,a,c,k))});return h},_checkType:function(a,c){return"string"===typeof a?"string"===a?"string"===typeof c:"number"===a?"number"===typeof c:"integer"===a?"number"===typeof c&&c===Math.floor(c):"boolean"===a?"boolean"===typeof c:"array"===a?Array.isArray(c):
"object"===a?null!==c&&!Array.isArray(c)&&"object"===typeof c:"null"===a?null===c:!0:!this._validateSchema(a,c).length}});l.AbstractEditor=c.extend({onChildEditorChange:function(a){this.onChange(!0)},notify:function(){this.jsoneditor.notifyWatchers(this.path)},change:function(){if(this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange()},onChange:function(a){this.notify();this.watch_listener&&this.watch_listener();a&&this.change()},register:function(){this.jsoneditor.registerEditor(this);
this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(a){this.jsoneditor=a.jsoneditor;this.theme=this.jsoneditor.theme;this.template_engine=this.jsoneditor.template;this.iconlib=this.jsoneditor.iconlib;this.translate=this.jsoneditor.translate||l.defaults.translate;this.original_schema=a.schema;this.schema=this.jsoneditor.expandSchema(this.original_schema);this.options=n({},this.options||{},a.schema.options||
{},a);a.path||this.schema.id||(this.schema.id="root");this.path=a.path||"root";this.formname=a.formname||this.path.replace(/\.([^.]+)/g,"[$1]");this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"["));this.key=this.path.split(".").pop();this.parent=a.parent;this.link_watchers=[];a.container&&this.setContainer(a.container)},setContainer:function(a){this.container=a;this.schema.id&&this.container.setAttribute("data-schemaid",
this.schema.id);this.schema.type&&"string"===typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type);this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners();this.addLinks();this.setValue(this.getDefault(),!0);this.updateHeaderText();this.register();this.onWatchedFieldChange()},setupWatchListeners:function(){var a=this;this.watched={};this.schema.vars&&(this.schema.watch=this.schema.vars);
this.watched_values={};this.watch_listener=function(){if(a.refreshWatchedFieldValues())a.onWatchedFieldChange()};this.register();if(this.schema.hasOwnProperty("watch")){var c;for(c in this.schema.watch)if(this.schema.watch.hasOwnProperty(c)){var f=this.schema.watch[c];if(Array.isArray(f)){if(2>f.length)continue;f=[f[0]].concat(f[1].split("."))}else f=f.split("."),a.theme.closest(a.container,'[data-schemaid="'+f[0]+'"]')||f.unshift("#");var h=f.shift();"#"===h&&(h=a.jsoneditor.schema.id||"root");var l=
a.theme.closest(a.container,'[data-schemaid="'+h+'"]');if(!l)throw"Could not find ancestor node with id "+h;f=l.getAttribute("data-schemapath")+"."+f.join(".");a.jsoneditor.watch(f,a.watch_listener);a.watched[c]=f}}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var a=
0;a<this.schema.links.length;a++)this.addLink(this.getLink(this.schema.links[a]))},getButton:function(a,c,f){var d="json-editor-btn-"+c;c=this.iconlib?this.iconlib.getIcon(c):null;!c&&f&&(a=f,f=null);a=this.theme.getButton(a,c,f);a.className+=" "+d+" ";return a},setButtonText:function(a,c,f,h){f=this.iconlib?this.iconlib.getIcon(f):null;!f&&h&&(c=h,h=null);return this.theme.setButtonText(a,c,f,h)},addLink:function(a){this.link_holder&&this.link_holder.appendChild(a)},getLink:function(a){var c=(a.mediaType||
"application/javascript").split("/")[0],f=this.jsoneditor.compileTemplate(a.href,this.template_engine),h=null;a.download&&(h=a.download);h&&!0!==h&&(h=this.jsoneditor.compileTemplate(h,this.template_engine));if("image"===c){var l=this.theme.getBlockLinkHolder();var n=document.createElement("a");n.setAttribute("target","_blank");var t=document.createElement("img");this.theme.createImageLink(l,n,t);this.link_watchers.push(function(c){c=f(c);n.setAttribute("href",c);n.setAttribute("title",a.rel||c);
t.setAttribute("src",c)})}else if(0<=["audio","video"].indexOf(c)){l=this.theme.getBlockLinkHolder();n=this.theme.getBlockLink();n.setAttribute("target","_blank");var C=document.createElement(c);C.setAttribute("controls","controls");this.theme.createMediaLink(l,n,C);this.link_watchers.push(function(c){c=f(c);n.setAttribute("href",c);n.textContent=a.rel||c;C.setAttribute("src",c)})}else n=l=this.theme.getBlockLink(),l.setAttribute("target","_blank"),l.textContent=a.rel,this.link_watchers.push(function(c){c=
f(c);l.setAttribute("href",c);l.textContent=a.rel||c});h&&n&&(!0===h?n.setAttribute("download",""):this.link_watchers.push(function(a){n.setAttribute("download",h(a))}));a.class&&(n.className=n.className+" "+a.class);return l},refreshWatchedFieldValues:function(){if(this.watched_values){var a={},c=!1;if(this.watched){var f;for(f in this.watched)if(this.watched.hasOwnProperty(f)){var h=(h=this.jsoneditor.getEditor(this.watched[f]))?h.getValue():null;this.watched_values[f]!==h&&(c=!0);a[f]=h}}a.self=
this.getValue();this.watched_values.self!==a.self&&(c=!0);this.watched_values=a;return c}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length)for(var a=0;a<this.header.childNodes.length;a++){if(3===this.header.childNodes[a].nodeType){this.header.childNodes[a].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(a){return this.header_text?this.header_text:a?
this.schema.title:this.getTitle()},onWatchedFieldChange:function(){if(this.header_template){var a=n(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});a=this.header_template(a);a!==this.header_text&&(this.header_text=a,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){a=this.getWatchedFieldValues();for(var c=0;c<this.link_watchers.length;c++)this.link_watchers[c](a)}},setValue:function(a){this.value=a},getValue:function(){return this.value},
refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var a=this;this.unregister(this);f(this.watched,function(c,f){a.jsoneditor.unwatch(f,a.watch_listener)});this.value=this.header_template=this.header_text=this.watch_listener=this.watched_values=this.watched=null;this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container);this.parent=this.key=this.path=this.schema=this.jsoneditor=this.container=null},getDefault:function(){if(this.schema["default"])return this.schema["default"];
if(this.schema["enum"])return this.schema["enum"][0];var a=this.schema.type||this.schema.oneOf;a&&Array.isArray(a)&&(a=a[0]);a&&"object"===typeof a&&(a=a.type);a&&Array.isArray(a)&&(a=a[0]);if("string"===typeof a){if("number"===a)return 0;if("boolean"===a)return!1;if("integer"===a)return 0;if("string"===a)return"";if("object"===a)return{};if("array"===a)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=
!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"===typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?-1<this.parent.schema.required.indexOf(this.key):this.jsoneditor.options.required_by_default?!0:!1},getDisplayText:function(a){var c=[],k={};f(a,function(a,c){c.title&&(k[c.title]=k[c.title]||0,k[c.title]++);c.description&&(k[c.description]=k[c.description]||0,k[c.description]++);c.format&&
(k[c.format]=k[c.format]||0,k[c.format]++);c.type&&(k[c.type]=k[c.type]||0,k[c.type]++)});f(a,function(a,d){a="string"===typeof d?d:d.title&&1>=k[d.title]?d.title:d.format&&1>=k[d.format]?d.format:d.type&&1>=k[d.type]?d.type:d.description&&1>=k[d.description]?d.descripton:d.title?d.title:d.format?d.format:d.type?d.type:d.description?d.description:50>JSON.stringify(d).length?JSON.stringify(d):"type";c.push(a)});var h={};f(c,function(a,d){h[d]=h[d]||0;h[d]++;1<k[d]&&(c[a]=d+" "+h[d])});return c},getOption:function(a){try{throw"getOption is deprecated";
}catch(d){window.console.error(d)}return this.options[a]},showValidationErrors:function(a){}});l.defaults.editors["null"]=l.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}});l.defaults.editors.string=l.AbstractEditor.extend({register:function(){this._super();this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super();this.input&&this.input.removeAttribute("name")},setValue:function(a,
c,f){if(!this.template||f)if(null===a||"undefined"===typeof a?a="":"object"===typeof a?a=JSON.stringify(a):"string"!==typeof a&&(a=""+a),a!==this.serialized){var d=this.sanitize(a);this.input.value!==d&&(this.input.value=d,this.sceditor_instance?this.sceditor_instance.val(d):this.epiceditor?this.epiceditor.importFile(null,d):this.ace_editor&&this.ace_editor.setValue(d),a=f||this.getValue()!==a,this.refreshValue(),c?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),
this.adjust_height&&this.adjust_height(this.input),this.onChange(a))}},getNumColumns:function(){var a=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);var c="textarea"===this.input_type?6:0<=["text","email"].indexOf(this.input_type)?4:2;return Math.min(12,Math.max(a,c))},build:function(){var a=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));
this.format=this.schema.format;!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,""));!this.format&&this.options.default_format&&(this.format=this.options.default_format);this.options.format&&(this.format=this.options.format);if(this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var c=
this.schema.minimum||0,f=this.schema.maximum||Math.max(100,c+1),h=1;this.schema.multipleOf&&(c%this.schema.multipleOf&&(c=Math.ceil(c/this.schema.multipleOf)*this.schema.multipleOf),f%this.schema.multipleOf&&(f=Math.floor(f/this.schema.multipleOf)*this.schema.multipleOf),h=this.schema.multipleOf);this.input=this.theme.getRangeInput(c,f,h)}else 0<="actionscript batchfile bbcode c c++ cpp coffee csharp css dart django ejs erlang golang groovy handlebars haskell haxe html ini jade java javascript json less lisp lua makefile markdown matlab mysql objectivec pascal perl pgsql php python r ruby sass scala scss smarty sql stylus svg twig vbscript xml yaml".split(" ").indexOf(this.format)?
(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);"undefined"!==typeof this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength);"undefined"!==typeof this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):"undefined"!==typeof this.schema.minLength&&
this.input.setAttribute("pattern",".{"+this.schema.minLength+",}");this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width);if(this.schema.readOnly||this.schema.readonly||this.schema.template)this.always_disabled=!0,this.input.disabled=!0;this.input.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();if(a.schema.template)this.value=a.value;else{c=this.value;var d=a.sanitize(c);c!==d&&(this.value=
d);a.is_dirty=!0;a.refreshValue();a.onChange(!0)}});this.options.input_height&&(this.input.style.height=this.options.input_height);this.options.expand_height&&(this.adjust_height=function(a){if(a){var c,d=a.offsetHeight;if(a.offsetHeight<a.scrollHeight)for(c=0;a.offsetHeight<a.scrollHeight+3&&!(100<c);)c++,d++,a.style.height=d+"px";else{for(c=0;a.offsetHeight>=a.scrollHeight+3&&!(100<c);)c++,d--,a.style.height=d+"px";a.style.height=d+1+"px"}}},this.input.addEventListener("keyup",function(c){a.adjust_height(this)}),
this.input.addEventListener("change",function(c){a.adjust_height(this)}),this.adjust_height());this.format&&this.input.setAttribute("data-schemaformat",this.format);this.control=this.theme.getFormControl(this.label,this.input,this.description);this.container.appendChild(this.control);window.requestAnimationFrame(function(){a.input.parentNode&&a.afterInputReady();a.adjust_height&&a.adjust_height(a.input)});this.schema.template&&(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine));
this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1);this._super()},disable:function(){this.input.disabled=!0;this._super()},afterInputReady:function(){var a=this;if(this.source_code)if(this.options.wysiwyg&&0<=["html","bbcode"].indexOf(this.input_type)&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor){var c=n({},{plugins:"html"===a.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},l.plugins.sceditor,a.options.sceditor_options||{});
window.jQuery(a.input).sceditor(c);a.sceditor_instance=window.jQuery(a.input).sceditor("instance");a.sceditor_instance.blur(function(){var c=window.jQuery("<div>"+a.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",c).remove();a.input.value=c.html();a.value=a.input.value;a.is_dirty=!0;a.onChange(!0)})}else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,
this.input),this.input.style.display="none",c=n({},l.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=(new window.EpicEditor(c)).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var c=a.epiceditor.exportFile();a.input.value=c;a.value=c;a.is_dirty=!0;a.onChange(!0)});else if(window.ace){c=this.input_type;if("cpp"===c||"c++"===c||"c"===c)c="c_cpp";this.ace_container=document.createElement("div");this.ace_container.style.width=
"100%";this.ace_container.style.position="relative";this.ace_container.style.height="400px";this.input.parentNode.insertBefore(this.ace_container,this.input);this.input.style.display="none";this.ace_editor=window.ace.edit(this.ace_container);this.ace_editor.setValue(this.getValue());l.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+l.plugins.ace.theme);(c=window.ace.require("ace/mode/"+c))&&this.ace_editor.getSession().setMode(new c.Mode);this.ace_editor.on("change",function(){var c=a.ace_editor.getValue();
a.input.value=c;a.refreshValue();a.is_dirty=!0;a.onChange(!0)})}a.theme.afterInputReady(a.input)},refreshValue:function(){this.value=this.input.value;"string"!==typeof this.value&&(this.value="");this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy();this.template=null;this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.label&&this.label.parentNode&&
this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this._super()},sanitize:function(a){return a},onWatchedFieldChange:function(){if(this.template){var a=this.getWatchedFieldValues();this.setValue(this.template(a),!1,!0)}this._super()},showValidationErrors:function(a){var c=this;if("always"===this.jsoneditor.options.show_errors||this.is_dirty||this.previous_error_setting!==this.jsoneditor.options.show_errors){this.previous_error_setting=
this.jsoneditor.options.show_errors;var k=[];f(a,function(a,d){d.path===c.path&&k.push(d.message)});k.length?this.theme.addInputError(this.input,k.join(". ")+"."):this.theme.removeInputError(this.input)}}});l.defaults.editors.number=l.defaults.editors.string.extend({sanitize:function(a){return(a+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}});l.defaults.editors.integer=l.defaults.editors.number.extend({sanitize:function(a){return(a+"").replace(/[^0-9\-]/g,
"")},getNumColumns:function(){return 2}});l.defaults.editors.object=l.AbstractEditor.extend({getDefault:function(){return n({},this.schema["default"]||{})},getChildEditors:function(){return this.editors},register:function(){this._super();if(this.editors)for(var a in this.editors)this.editors.hasOwnProperty(a)&&this.editors[a].register()},unregister:function(){this._super();if(this.editors)for(var a in this.editors)this.editors.hasOwnProperty(a)&&this.editors[a].unregister()},getNumColumns:function(){return Math.max(Math.min(12,
this.maxwidth),3)},enable:function(){this.editjson_button&&(this.editjson_button.disabled=!1);this.addproperty_button&&(this.addproperty_button.disabled=!1);this._super();if(this.editors)for(var a in this.editors)this.editors.hasOwnProperty(a)&&this.editors[a].enable()},disable:function(){this.editjson_button&&(this.editjson_button.disabled=!0);this.addproperty_button&&(this.addproperty_button.disabled=!0);this.hideEditJSON();this._super();if(this.editors)for(var a in this.editors)this.editors.hasOwnProperty(a)&&
this.editors[a].disable()},layoutEditors:function(){var a=this,c,k;if(this.row_container){this.property_order=Object.keys(this.editors);this.property_order=this.property_order.sort(function(c,d){c=a.editors[c].schema.propertyOrder;d=a.editors[d].schema.propertyOrder;"number"!==typeof c&&(c=1E3);"number"!==typeof d&&(d=1E3);return c-d});if("grid"===this.format){var h=[];f(this.property_order,function(c,d){var f=a.editors[d];if(!f.property_removed){c=!1;var b=f.options.hidden?0:f.options.grid_columns||
f.getNumColumns();f=f.options.hidden?0:f.container.offsetHeight;for(var e=0;e<h.length;e++)12>=h[e].width+b&&(!f||.5*h[e].minh<f&&2*h[e].maxh>f)&&(c=e);!1===c&&(h.push({width:0,minh:999999,maxh:0,editors:[]}),c=h.length-1);h[c].editors.push({key:d,width:b,height:f});h[c].width+=b;h[c].minh=Math.min(h[c].minh,f);h[c].maxh=Math.max(h[c].maxh,f)}});for(c=0;c<h.length;c++)if(12>h[c].width){var l=!1,n=0;for(k=0;k<h[c].editors.length;k++)!1===l?l=k:h[c].editors[k].width>h[c].editors[l].width&&(l=k),h[c].editors[k].width*=
12/h[c].width,h[c].editors[k].width=Math.floor(h[c].editors[k].width),n+=h[c].editors[k].width;12>n&&(h[c].editors[l].width+=12-n);h[c].width=12}if(this.layout===JSON.stringify(h))return!1;this.layout=JSON.stringify(h);var t=document.createElement("div");for(c=0;c<h.length;c++)for(l=this.theme.getGridRow(),t.appendChild(l),k=0;k<h[c].editors.length;k++)n=this.editors[h[c].editors[k].key],n.options.hidden?n.container.style.display="none":this.theme.setGridColumnSize(n.container,h[c].editors[k].width),
l.appendChild(n.container)}else t=document.createElement("div"),f(this.property_order,function(c,d){c=a.editors[d];c.property_removed||(d=a.theme.getGridRow(),t.appendChild(d),c.options.hidden?c.container.style.display="none":a.theme.setGridColumnSize(c.container,12),d.appendChild(c.container))});this.row_container.innerHTML="";this.row_container.appendChild(t)}},getPropertySchema:function(a){var c=this.schema.properties[a]||{};c=n({},c);var f=this.schema.properties[a]?!0:!1;if(this.schema.patternProperties)for(var h in this.schema.patternProperties)this.schema.patternProperties.hasOwnProperty(h)&&
(new RegExp(h)).test(a)&&(c.allOf=c.allOf||[],c.allOf.push(this.schema.patternProperties[h]),f=!0);!f&&this.schema.additionalProperties&&"object"===typeof this.schema.additionalProperties&&(c=n({},this.schema.additionalProperties));return c},preBuild:function(){this._super();this.editors={};this.cached_editors={};var a=this;this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal";this.schema.properties=this.schema.properties||
{};this.maxwidth=this.minwidth=0;if(this.options.table_row)f(this.schema.properties,function(c,f){var d=a.jsoneditor.getEditorClass(f);a.editors[c]=a.jsoneditor.createEditor(d,{jsoneditor:a.jsoneditor,schema:f,path:a.path+"."+c,parent:a,compact:!0,required:!0});a.editors[c].preBuild();c=a.editors[c].options.hidden?0:a.editors[c].options.grid_columns||a.editors[c].getNumColumns();a.minwidth+=c;a.maxwidth+=c}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||
(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],f(this.schema.properties,function(c,f){a.isRequired({key:c,schema:f})&&a.schema.defaultProperties.push(c)})):a.schema.defaultProperties=Object.keys(a.schema.properties));a.maxwidth+=1;f(this.schema.defaultProperties,function(c,f){a.addObjectProperty(f,!0);a.editors[f]&&(a.minwidth=Math.max(a.minwidth,a.editors[f].options.grid_columns||a.editors[f].getNumColumns()),a.maxwidth+=a.editors[f].options.grid_columns||
a.editors[f].getNumColumns())})}this.property_order=Object.keys(this.editors);this.property_order=this.property_order.sort(function(c,f){c=a.editors[c].schema.propertyOrder;f=a.editors[f].schema.propertyOrder;"number"!==typeof c&&(c=1E3);"number"!==typeof f&&(f=1E3);return c-f})},build:function(){var a=this;if(this.options.table_row)this.editor_holder=this.container,f(this.editors,function(c,d){var f=a.theme.getTableCell();a.editor_holder.appendChild(f);d.setContainer(f);d.build();d.postBuild();a.editors[c].options.hidden&&
(f.style.display="none");a.editors[c].options.input_width&&(f.style.width=a.editors[c].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span");this.header.textContent=this.getTitle();this.title=this.theme.getHeader(this.header);this.container.appendChild(this.title);this.container.style.position="relative";this.editjson_holder=this.theme.getModal();this.editjson_textarea=this.theme.getTextareaInput();this.editjson_textarea.style.height=
"170px";this.editjson_textarea.style.width="300px";this.editjson_textarea.style.display="block";this.editjson_save=this.getButton("Save","save","Save");this.editjson_save.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.saveJSON()});this.editjson_cancel=this.getButton("Cancel","cancel","Cancel");this.editjson_cancel.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.hideEditJSON()});this.editjson_holder.appendChild(this.editjson_textarea);this.editjson_holder.appendChild(this.editjson_save);
this.editjson_holder.appendChild(this.editjson_cancel);this.addproperty_holder=this.theme.getModal();this.addproperty_list=document.createElement("div");this.addproperty_list.style.width="295px";this.addproperty_list.style.maxHeight="160px";this.addproperty_list.style.padding="5px 0";this.addproperty_list.style.overflowY="auto";this.addproperty_list.style.overflowX="hidden";this.addproperty_list.style.paddingLeft="5px";this.addproperty_list.setAttribute("class","property-selector");this.addproperty_add=
this.getButton("add","add","add");this.addproperty_input=this.theme.getFormInputField("text");this.addproperty_input.setAttribute("placeholder","Property name...");this.addproperty_input.style.width="220px";this.addproperty_input.style.marginBottom="0";this.addproperty_input.style.display="inline-block";this.addproperty_add.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.addproperty_input.value&&(a.editors[a.addproperty_input.value]?window.alert("there is already a property with that name"):
(a.addObjectProperty(a.addproperty_input.value),a.editors[a.addproperty_input.value]&&a.editors[a.addproperty_input.value].disable(),a.onChange(!0)))});this.addproperty_holder.appendChild(this.addproperty_list);this.addproperty_holder.appendChild(this.addproperty_input);this.addproperty_holder.appendChild(this.addproperty_add);var c=document.createElement("div");c.style.clear="both";this.addproperty_holder.appendChild(c);this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),
this.container.appendChild(this.description));this.error_holder=document.createElement("div");this.container.appendChild(this.error_holder);this.editor_holder=this.theme.getIndentedPanel();this.container.appendChild(this.editor_holder);this.row_container=this.theme.getGridContainer();this.editor_holder.appendChild(this.row_container);f(this.editors,function(c,d){c=a.theme.getGridColumn();a.row_container.appendChild(c);d.setContainer(c);d.build();d.postBuild()});this.title_controls=this.theme.getHeaderButtonHolder();
this.editjson_controls=this.theme.getHeaderButtonHolder();this.addproperty_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);this.title.appendChild(this.editjson_controls);this.title.appendChild(this.addproperty_controls);this.collapsed=!1;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls.appendChild(this.toggle_button);this.toggle_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();
a.collapsed?(a.editor_holder.style.display="",a.collapsed=!1,a.setButtonText(a.toggle_button,"","collapse",a.translate("button_collapse"))):(a.editor_holder.style.display="none",a.collapsed=!0,a.setButtonText(a.toggle_button,"","expand",a.translate("button_expand")))});this.options.collapsed&&h(this.toggle_button,"click");this.schema.options&&"undefined"!==typeof this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&
(this.toggle_button.style.display="none");this.editjson_button=this.getButton("JSON","edit","Edit JSON");this.editjson_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.toggleEditJSON()});this.editjson_controls.appendChild(this.editjson_button);this.editjson_controls.appendChild(this.editjson_holder);this.schema.options&&"undefined"!==typeof this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&
(this.editjson_button.style.display="none");this.addproperty_button=this.getButton("Properties","edit","Object Properties");this.addproperty_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.toggleAddProperty()});this.addproperty_controls.appendChild(this.addproperty_button);this.addproperty_controls.appendChild(this.addproperty_holder);this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,f(this.property_order,function(c,d){a.editor_holder.appendChild(a.editors[d].container)})):
(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&
this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var a=JSON.parse(this.editjson_textarea.value);this.setValue(a);this.hideEditJSON()}catch(d){throw window.alert("invalid JSON"),d;}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(a,c,f){if(this.schema.properties[a])var d=this.schema.properties[a].propertyOrder;"number"!==
typeof d&&(d=1E3);c.propertyOrder=d;for(a=0;a<f.childNodes.length;a++)if(d=f.childNodes[a],c.propertyOrder<d.propertyOrder){this.addproperty_list.insertBefore(c,d);c=null;break}c&&this.addproperty_list.appendChild(c)},addPropertyCheckbox:function(a){var c=this;var f=c.theme.getCheckbox();f.style.width="auto";var h=c.theme.getCheckboxLabel(this.schema.properties[a]&&this.schema.properties[a].title?this.schema.properties[a].title:a);h=c.theme.getFormControl(h,f);h.style.paddingBottom=h.style.marginBottom=
h.style.paddingTop=h.style.marginTop=0;h.style.height="auto";this.insertPropertyControlUsingPropertyOrder(a,h,this.addproperty_list);f.checked=a in this.editors;f.addEventListener("change",function(){f.checked?c.addObjectProperty(a):c.removeObjectProperty(a);c.onChange(!0)});return c.addproperty_checkboxes[a]=f},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+
this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(a){this.editors[a]&&(this.editors[a].unregister(),
delete this.editors[a],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(a,c){if(!this.editors[a]){if(this.cached_editors[a]){this.editors[a]=this.cached_editors[a];if(c)return;this.editors[a].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[a]))return;var d=this.getPropertySchema(a),f=this.jsoneditor.getEditorClass(d);this.editors[a]=this.jsoneditor.createEditor(f,{jsoneditor:this.jsoneditor,schema:d,path:this.path+"."+a,
parent:this});this.editors[a].preBuild();c||(d=this.theme.getChildEditorHolder(),this.editor_holder.appendChild(d),this.editors[a].setContainer(d),this.editors[a].build(),this.editors[a].postBuild());this.cached_editors[a]=this.editors[a]}c||(this.refreshValue(),this.layoutEditors())}},onChildEditorChange:function(a){this.refreshValue();this._super(a)},canHaveAdditionalProperties:function(){return"boolean"===typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},
destroy:function(){f(this.cached_editors,function(a,c){c.destroy()});this.editor_holder&&(this.editor_holder.innerHTML="");this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder);this.cached_editors=this.editors=null;this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder);this.editor_holder=null;this._super()},
getValue:function(){var a=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var c in a)a.hasOwnProperty(c)&&(a[c]||delete a[c]);return a},refreshValue:function(){this.value={};for(var a in this.editors)this.editors.hasOwnProperty(a)&&(this.value[a]=this.editors[a].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)this.addproperty_controls.style.display=
"none";else{var a=0,c,f=!1;for(c in this.editors)this.editors.hasOwnProperty(c)&&a++;var h=this.canHaveAdditionalProperties()&&!("undefined"!==typeof this.schema.maxProperties&&a>=this.schema.maxProperties);this.addproperty_checkboxes&&(this.addproperty_list.innerHTML="");this.addproperty_checkboxes={};for(c in this.cached_editors)this.cached_editors.hasOwnProperty(c)&&(this.addPropertyCheckbox(c),this.isRequired(this.cached_editors[c])&&c in this.editors&&(this.addproperty_checkboxes[c].disabled=
!0),"undefined"!==typeof this.schema.minProperties&&a<=this.schema.minProperties?(this.addproperty_checkboxes[c].disabled=this.addproperty_checkboxes[c].checked,this.addproperty_checkboxes[c].checked||(f=!0)):c in this.editors?f=!0:h||this.schema.properties.hasOwnProperty(c)?(this.addproperty_checkboxes[c].disabled=!1,f=!0):this.addproperty_checkboxes[c].disabled=!0);this.canHaveAdditionalProperties()&&(f=!0);for(c in this.schema.properties)this.schema.properties.hasOwnProperty(c)&&!this.cached_editors[c]&&
(f=!0,this.addPropertyCheckbox(c));f?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=h?!1:!0:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")}},isRequired:function(a){return"boolean"===typeof a.schema.required?a.schema.required:Array.isArray(this.schema.required)?-1<this.schema.required.indexOf(a.key):this.jsoneditor.options.required_by_default?!0:!1},setValue:function(a,
c){var d=this;a=a||{};if("object"!==typeof a||Array.isArray(a))a={};f(this.cached_editors,function(f,k){"undefined"!==typeof a[f]?(d.addObjectProperty(f),k.setValue(a[f],c)):c||d.isRequired(k)?k.setValue(k.getDefault(),c):d.removeObjectProperty(f)});f(a,function(a,f){d.cached_editors[a]||(d.addObjectProperty(a),d.editors[a]&&d.editors[a].setValue(f,c))});this.refreshValue();this.layoutEditors();this.onChange()},showValidationErrors:function(a){var c=this,k=[],h=[];f(a,function(a,d){d.path===c.path?
k.push(d):h.push(d)});this.error_holder&&(k.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",f(k,function(a,d){c.error_holder.appendChild(c.theme.getErrorMessage(d.message))})):this.error_holder.style.display="none");this.options.table_row&&(k.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container));f(this.editors,function(a,c){c.showValidationErrors(h)})}});l.defaults.editors.array=l.AbstractEditor.extend({getDefault:function(){return this.schema["default"]||
[]},register:function(){this._super();if(this.rows)for(var a=0;a<this.rows.length;a++)this.rows[a].register()},unregister:function(){this._super();if(this.rows)for(var a=0;a<this.rows.length;a++)this.rows[a].unregister()},getNumColumns:function(){var a=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,a.width+2),4):a.width},enable:function(){this.add_row_button&&(this.add_row_button.disabled=!1);this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1);this.delete_last_row_button&&
(this.delete_last_row_button.disabled=!1);if(this.rows)for(var a=0;a<this.rows.length;a++)this.rows[a].enable(),this.rows[a].moveup_button&&(this.rows[a].moveup_button.disabled=!1),this.rows[a].movedown_button&&(this.rows[a].movedown_button.disabled=!1),this.rows[a].delete_button&&(this.rows[a].delete_button.disabled=!1);this._super()},disable:function(){this.add_row_button&&(this.add_row_button.disabled=!0);this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0);this.delete_last_row_button&&
(this.delete_last_row_button.disabled=!0);if(this.rows)for(var a=0;a<this.rows.length;a++)this.rows[a].disable(),this.rows[a].moveup_button&&(this.rows[a].moveup_button.disabled=!0),this.rows[a].movedown_button&&(this.rows[a].movedown_button.disabled=!0),this.rows[a].delete_button&&(this.rows[a].delete_button.disabled=!0);this._super()},preBuild:function(){this._super();this.rows=[];this.row_cache=[];this.hide_delete_all_rows_buttons=(this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete)||
this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows;this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row;this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder;this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=
this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),
this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),
this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls)));this.addControls()},onChildEditorChange:function(a){this.refreshValue();this.refreshTabs(!0);this._super(a)},getItemTitle:function(){this.item_title||(this.schema.items&&!Array.isArray(this.schema.items)?this.item_title=this.jsoneditor.expandRefs(this.schema.items).title||
"item":this.item_title="item");return this.item_title},getItemSchema:function(a){if(Array.isArray(this.schema.items))if(a>=this.schema.items.length){if(!0===this.schema.additionalItems)return{};if(this.schema.additionalItems)return n({},this.schema.additionalItems)}else return n({},this.schema.items[a]);else return this.schema.items?n({},this.schema.items):{}},getItemInfo:function(a){a=this.getItemSchema(a);this.item_info=this.item_info||{};var c=JSON.stringify(a);if("undefined"!==typeof this.item_info[c])return this.item_info[c];
a=this.jsoneditor.expandRefs(a);this.item_info[c]={title:a.title||"item","default":a["default"],width:12,child_editors:a.properties||a.items};return this.item_info[c]},getElementEditor:function(a){var c=this.getItemInfo(a),f=this.getItemSchema(a);f=this.jsoneditor.expandRefs(f);f.title=c.title+" "+(a+1);var h=this.jsoneditor.getEditorClass(f);c=this.tabs_holder?this.theme.getTabContent():c.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel();this.row_holder.appendChild(c);
a=this.jsoneditor.createEditor(h,{jsoneditor:this.jsoneditor,schema:f,container:c,path:this.path+"."+a,parent:this,required:!0});a.preBuild();a.build();a.postBuild();a.title_controls||(a.array_controls=this.theme.getButtonHolder(),c.appendChild(a.array_controls));return a},destroy:function(){this.empty(!0);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.row_holder&&
this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder);this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls);this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel);this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null;this._super()},empty:function(a){if(this.rows){var c=this;f(this.rows,function(d,f){a&&(f.tab&&f.tab.parentNode&&f.tab.parentNode.removeChild(f.tab),
c.destroyRow(f,!0),c.row_cache[d]=null);c.rows[d]=null});c.rows=[];a&&(c.row_cache=[])}},destroyRow:function(a,c){var d=a.container;c?(a.destroy(),d.parentNode&&d.parentNode.removeChild(d),a.tab&&a.tab.parentNode&&a.tab.parentNode.removeChild(a.tab)):(a.tab&&(a.tab.style.display="none"),d.style.display="none",a.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||Infinity):this.schema.maxItems||
Infinity},refreshTabs:function(a){var c=this;f(this.rows,function(d,f){f.tab&&(a?f.tab_text.textContent=f.getHeaderText():f.tab===c.active_tab?(c.theme.markTabActive(f.tab),f.container.style.display=""):(c.theme.markTabInactive(f.tab),f.container.style.display="none"))})},setValue:function(a,c){a=a||[];Array.isArray(a)||(a=[a]);if(JSON.stringify(a)!==this.serialized){if(this.schema.minItems)for(;a.length<this.schema.minItems;)a.push(this.getItemInfo(a.length)["default"]);this.getMax()&&a.length>this.getMax()&&
(a=a.slice(0,this.getMax()));var d=this;f(a,function(a,f){d.rows[a]?d.rows[a].setValue(f,c):d.row_cache[a]?(d.rows[a]=d.row_cache[a],d.rows[a].setValue(f,c),d.rows[a].container.style.display="",d.rows[a].tab&&(d.rows[a].tab.style.display=""),d.rows[a].register()):d.addRow(f,c)});for(var h=a.length;h<d.rows.length;h++)d.destroyRow(d.rows[h]),d.rows[h]=null;d.rows=d.rows.slice(0,a.length);var l=null;f(d.rows,function(a,c){if(c.tab===d.active_tab)return l=c.tab,!1});!l&&d.rows.length&&(l=d.rows[0].tab);
d.active_tab=l;d.refreshValue(c);d.refreshTabs(!0);d.refreshTabs();d.onChange()}},refreshValue:function(a){var c=this,k=this.value?this.value.length:0;this.value=[];f(this.rows,function(a,d){c.value[a]=d.getValue()});if(k!==this.value.length||a){var h=this.schema.minItems&&this.schema.minItems>=this.rows.length;f(this.rows,function(a,d){d.movedown_button&&(d.movedown_button.style.display=a===c.rows.length-1?"none":"");d.delete_button&&(d.delete_button.style.display=h?"none":"");c.value[a]=d.getValue()});
a=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",h||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",a=!0)):(h||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",a=!0),h||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display=
"",a=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none");this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",a=!0);this.controls.style.display=!this.collapsed&&a?"inline-block":"none"}},addRow:function(a,c){var d=this,h=this.rows.length;d.rows[h]=this.getElementEditor(h);d.row_cache[h]=d.rows[h];d.tabs_holder&&(d.rows[h].tab_text=document.createElement("span"),
d.rows[h].tab_text.textContent=d.rows[h].getHeaderText(),d.rows[h].tab=d.theme.getTab(d.rows[h].tab_text),d.rows[h].tab.addEventListener("click",function(a){d.active_tab=d.rows[h].tab;d.refreshTabs();a.preventDefault();a.stopPropagation()}),d.theme.addTab(d.tabs_holder,d.rows[h].tab));var l=d.rows[h].title_controls||d.rows[h].array_controls;d.hide_delete_buttons||(d.rows[h].delete_button=this.getButton(d.getItemTitle(),"delete",this.translate("button_delete_row_title",[d.getItemTitle()])),d.rows[h].delete_button.className+=
" delete",d.rows[h].delete_button.setAttribute("data-i",h),d.rows[h].delete_button.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();var c=1*this.getAttribute("data-i");a=d.getValue();var k=[],h=null;f(a,function(a,b){a===c?d.rows[a].tab===d.active_tab&&(d.rows[a+1]?h=d.rows[a].tab:a&&(h=d.rows[a-1].tab)):k.push(b)});d.setValue(k);h&&(d.active_tab=h,d.refreshTabs());d.onChange(!0)}),l&&l.appendChild(d.rows[h].delete_button));h&&!d.hide_move_buttons&&(d.rows[h].moveup_button=
this.getButton("","moveup",this.translate("button_move_up_title")),d.rows[h].moveup_button.className+=" moveup",d.rows[h].moveup_button.setAttribute("data-i",h),d.rows[h].moveup_button.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();a=1*this.getAttribute("data-i");if(!(0>=a)){var c=d.getValue(),f=c[a-1];c[a-1]=c[a];c[a]=f;d.setValue(c);d.active_tab=d.rows[a-1].tab;d.refreshTabs();d.onChange(!0)}}),l&&l.appendChild(d.rows[h].moveup_button));d.hide_move_buttons||(d.rows[h].movedown_button=
this.getButton("","movedown",this.translate("button_move_down_title")),d.rows[h].movedown_button.className+=" movedown",d.rows[h].movedown_button.setAttribute("data-i",h),d.rows[h].movedown_button.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();a=1*this.getAttribute("data-i");var c=d.getValue();if(!(a>=c.length-1)){var f=c[a+1];c[a+1]=c[a];c[a]=f;d.setValue(c);d.active_tab=d.rows[a+1].tab;d.refreshTabs();d.onChange(!0)}}),l&&l.appendChild(d.rows[h].movedown_button));a&&
d.rows[h].setValue(a,c);d.refreshTabs()},addControls:function(){var a=this;this.collapsed=!1;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls.appendChild(this.toggle_button);var c=a.row_holder.style.display,f=a.controls.style.display;this.toggle_button.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();a.collapsed?(a.collapsed=!1,a.panel&&(a.panel.style.display=""),a.row_holder.style.display=c,a.tabs_holder&&(a.tabs_holder.style.display=
""),a.controls.style.display=f,a.setButtonText(this,"","collapse",a.translate("button_collapse"))):(a.collapsed=!0,a.row_holder.style.display="none",a.tabs_holder&&(a.tabs_holder.style.display="none"),a.controls.style.display="none",a.panel&&(a.panel.style.display="none"),a.setButtonText(this,"","expand",a.translate("button_expand")))});this.options.collapsed&&h(this.toggle_button,"click");this.schema.options&&"undefined"!==typeof this.schema.options.disable_collapse?this.schema.options.disable_collapse&&
(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none");this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()]));this.add_row_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();c=a.rows.length;a.row_cache[c]?(a.rows[c]=a.row_cache[c],a.rows[c].setValue(a.rows[c].getDefault(),!0),a.rows[c].container.style.display="",a.rows[c].tab&&(a.rows[c].tab.style.display=
""),a.rows[c].register()):a.addRow();a.active_tab=a.rows[c].tab;a.refreshTabs();a.refreshValue();a.onChange(!0)});a.controls.appendChild(this.add_row_button);this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()]));this.delete_last_row_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();c=a.getValue();var d=null;1<a.rows.length&&a.rows[a.rows.length-
1].tab===a.active_tab&&(d=a.rows[a.rows.length-2].tab);c.pop();a.setValue(c);d&&(a.active_tab=d,a.refreshTabs());a.onChange(!0)});a.controls.appendChild(this.delete_last_row_button);this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title"));this.remove_all_rows_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.setValue([]);a.onChange(!0)});a.controls.appendChild(this.remove_all_rows_button);
a.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(a){var c=this,k=[],h=[];f(a,function(a,
d){d.path===c.path?k.push(d):h.push(d)});this.error_holder&&(k.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",f(k,function(a,d){c.error_holder.appendChild(c.theme.getErrorMessage(d.message))})):this.error_holder.style.display="none");f(this.rows,function(a,c){c.showValidationErrors(h)})}});l.defaults.editors.table=l.defaults.editors.array.extend({register:function(){this._super();if(this.rows)for(var a=0;a<this.rows.length;a++)this.rows[a].register()},unregister:function(){this._super();
if(this.rows)for(var a=0;a<this.rows.length;a++)this.rows[a].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var a=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=a.title||"row";this.item_default=a["default"]||null;this.item_has_child_editors=a.properties||a.items;this.width=12;this._super()},build:function(){this.table=this.theme.getTable();this.container.appendChild(this.table);this.thead=this.theme.getTableHead();this.table.appendChild(this.thead);
this.header_row=this.theme.getTableRow();this.thead.appendChild(this.header_row);this.row_holder=this.theme.getTableBody();this.table.appendChild(this.row_holder);var a=this.getElementEditor(0,!0);this.item_default=a.getDefault();this.width=a.getNumColumns()+2;this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),
this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder));this.panel.appendChild(this.table);this.controls=this.theme.getButtonHolder();this.panel.appendChild(this.controls);if(this.item_has_child_editors)for(var c=
a.getChildEditors(),f=a.property_order||Object.keys(c),h=0;h<f.length;h++){var l=this.theme.getTableHeaderCell(c[f[h]].getTitle());c[f[h]].options.hidden&&(l.style.display="none");this.header_row.appendChild(l)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));a.destroy();this.row_holder.innerHTML="";this.controls_header_cell=this.theme.getTableHeaderCell(" ");this.header_row.appendChild(this.controls_header_cell);this.addControls()},onChildEditorChange:function(a){this.refreshValue();
this._super()},getItemDefault:function(){return n({},{"default":this.item_default})["default"]},getItemTitle:function(){return this.item_title},getElementEditor:function(a,c){var d=n({},this.schema.items),f=this.jsoneditor.getEditorClass(d,this.jsoneditor),h=this.row_holder.appendChild(this.theme.getTableRow()),l=h;this.item_has_child_editors||(l=this.theme.getTableCell(),h.appendChild(l));a=this.jsoneditor.createEditor(f,{jsoneditor:this.jsoneditor,schema:d,container:l,path:this.path+"."+a,parent:this,
compact:!0,table_row:!0});a.preBuild();c||(a.build(),a.postBuild(),a.controls_cell=h.appendChild(this.theme.getTableCell()),a.row=h,a.table_controls=this.theme.getButtonHolder(),a.controls_cell.appendChild(a.table_controls),a.table_controls.style.margin=0,a.table_controls.style.padding=0);return a},destroy:function(){this.innerHTML="";this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);
this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder);this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table);this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel);this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null;this._super()},setValue:function(a,c){a=a||[];if(this.schema.minItems)for(;a.length<this.schema.minItems;)a.push(this.getItemDefault());this.schema.maxItems&&
a.length>this.schema.maxItems&&(a=a.slice(0,this.schema.maxItems));if(JSON.stringify(a)!==this.serialized){var d=!1,h=this;f(a,function(a,c){h.rows[a]?h.rows[a].setValue(c):(h.addRow(c),d=!0)});for(var l=a.length;l<h.rows.length;l++){var n=h.rows[l].container;h.item_has_child_editors||h.rows[l].row.parentNode.removeChild(h.rows[l].row);h.rows[l].destroy();n.parentNode&&n.parentNode.removeChild(n);h.rows[l]=null;d=!0}h.rows=h.rows.slice(0,a.length);h.refreshValue();(d||c)&&h.refreshRowButtons();h.onChange()}},
refreshRowButtons:function(){var a=this,c=this.schema.minItems&&this.schema.minItems>=this.rows.length,h=!1;f(this.rows,function(d,f){f.movedown_button&&(d===a.rows.length-1?f.movedown_button.style.display="none":(h=!0,f.movedown_button.style.display=""));f.delete_button&&(c?f.delete_button.style.display="none":(h=!0,f.delete_button.style.display=""));f.moveup_button&&(h=!0)});f(this.rows,function(a,c){c.controls_cell.style.display=h?"":"none"});this.controls_header_cell.style.display=h?"":"none";
var l=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",c||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",l=!0)):(this.table.style.display="",c||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",l=!0),c||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display=
"none":(this.remove_all_rows_button.style.display="",l=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none");this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",l=!0);this.controls.style.display=l?"":"none"},refreshValue:function(){var a=this;this.value=[];f(this.rows,function(c,f){a.value[c]=f.getValue()});
this.serialized=JSON.stringify(this.value)},addRow:function(a){var c=this,h=this.rows.length;c.rows[h]=this.getElementEditor(h);var l=c.rows[h].table_controls;this.hide_delete_buttons||(c.rows[h].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),c.rows[h].delete_button.className+=" delete",c.rows[h].delete_button.setAttribute("data-i",h),c.rows[h].delete_button.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();var d=1*this.getAttribute("data-i");
a=c.getValue();var h=[];f(a,function(a,c){a!==d&&h.push(c)});c.setValue(h);c.onChange(!0)}),l.appendChild(c.rows[h].delete_button));h&&!this.hide_move_buttons&&(c.rows[h].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),c.rows[h].moveup_button.className+=" moveup",c.rows[h].moveup_button.setAttribute("data-i",h),c.rows[h].moveup_button.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();a=1*this.getAttribute("data-i");if(!(0>=a)){var d=c.getValue(),
f=d[a-1];d[a-1]=d[a];d[a]=f;c.setValue(d);c.onChange(!0)}}),l.appendChild(c.rows[h].moveup_button));this.hide_move_buttons||(c.rows[h].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),c.rows[h].movedown_button.className+=" movedown",c.rows[h].movedown_button.setAttribute("data-i",h),c.rows[h].movedown_button.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();a=1*this.getAttribute("data-i");var d=c.getValue();if(!(a>=d.length-1)){var f=
d[a+1];d[a+1]=d[a];d[a]=f;c.setValue(d);c.onChange(!0)}}),l.appendChild(c.rows[h].movedown_button));a&&c.rows[h].setValue(a)},addControls:function(){var a=this;this.collapsed=!1;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.collapsed?(a.collapsed=!1,a.panel.style.display="",a.setButtonText(this,
"","collapse",a.translate("button_collapse"))):(a.collapsed=!0,a.panel.style.display="none",a.setButtonText(this,"","expand",a.translate("button_expand")))}),this.options.collapsed&&h(this.toggle_button,"click"),this.schema.options&&"undefined"!==typeof this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"));this.add_row_button=this.getButton(this.getItemTitle(),
"add",this.translate("button_add_row_title",[this.getItemTitle()]));this.add_row_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.addRow();a.refreshValue();a.refreshRowButtons();a.onChange(!0)});a.controls.appendChild(this.add_row_button);this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()]));this.delete_last_row_button.addEventListener("click",
function(c){c.preventDefault();c.stopPropagation();c=a.getValue();c.pop();a.setValue(c);a.onChange(!0)});a.controls.appendChild(this.delete_last_row_button);this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title"));this.remove_all_rows_button.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();a.setValue([]);a.onChange(!0)});a.controls.appendChild(this.remove_all_rows_button)}});l.defaults.editors.multiple=
l.AbstractEditor.extend({register:function(){if(this.editors){for(var a=0;a<this.editors.length;a++)this.editors[a]&&this.editors[a].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){this._super();if(this.editors)for(var a=0;a<this.editors.length;a++)this.editors[a]&&this.editors[a].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var a=
0;a<this.editors.length;a++)this.editors[a]&&this.editors[a].enable();this.switcher.disabled=!1;this._super()},disable:function(){if(this.editors)for(var a=0;a<this.editors.length;a++)this.editors[a]&&this.editors[a].disable();this.switcher.disabled=!0;this._super()},switchEditor:function(a){var c=this;this.editors[a]||this.buildChildEditor(a);var h=c.getValue();c.type=a;c.register();f(c.editors,function(a,d){d&&(c.type===a?(c.keep_values&&d.setValue(h,!0),d.container.style.display=""):d.container.style.display=
"none")});c.refreshValue();c.refreshHeaderText()},buildChildEditor:function(a){var c=this,f=this.types[a],h=c.theme.getChildEditorHolder();c.editor_holder.appendChild(h);if("string"===typeof f){var l=n({},c.schema);l.type=f}else l=n({},c.schema,f),l=c.jsoneditor.expandRefs(l),f.required&&Array.isArray(f.required)&&c.schema.required&&Array.isArray(c.schema.required)&&(l.required=c.schema.required.concat(f.required));f=c.jsoneditor.getEditorClass(l);c.editors[a]=c.jsoneditor.createEditor(f,{jsoneditor:c.jsoneditor,
schema:l,container:h,path:c.path,parent:c,required:!0});c.editors[a].preBuild();c.editors[a].build();c.editors[a].postBuild();c.editors[a].header&&(c.editors[a].header.style.display="none");c.editors[a].option=c.switcher_options[a];h.addEventListener("change_header_text",function(){c.refreshHeaderText()});a!==c.type&&(h.style.display="none")},preBuild:function(){this.types=[];this.type=0;this.editors=[];this.validators=[];this.keep_values=!0;"undefined"!==typeof this.jsoneditor.options.keep_oneof_values&&
(this.keep_values=this.jsoneditor.options.keep_oneof_values);"undefined"!==typeof this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values);if(this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=
"string number integer boolean object array null".split(" "),this.schema.disallow){var a=this.schema.disallow;"object"===typeof a&&Array.isArray(a)||(a=[a]);var c=[];f(this.types,function(d,f){-1===a.indexOf(f)&&c.push(f)});this.types=c}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var a=this,c=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.container.appendChild(this.header);this.switcher=this.theme.getSwitcher(this.display_text);
c.appendChild(this.switcher);this.switcher.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();a.switchEditor(a.display_text.indexOf(this.value));a.onChange(!0)});this.editor_holder=document.createElement("div");c.appendChild(this.editor_holder);var h={};a.jsoneditor.options.custom_validators&&(h.custom_validators=a.jsoneditor.options.custom_validators);this.switcher_options=this.theme.getSwitcherOptions(this.switcher);f(this.types,function(c,d){a.editors[c]=!1;if("string"===
typeof d){var f=n({},a.schema);f.type=d}else f=n({},a.schema,d),d.required&&Array.isArray(d.required)&&a.schema.required&&Array.isArray(a.schema.required)&&(f.required=a.schema.required.concat(d.required));a.validators[c]=new l.Validator(a.jsoneditor,f,h)});this.switchEditor(0)},onChildEditorChange:function(a){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText());this._super()},refreshHeaderText:function(){var a=this.getDisplayText(this.types);f(this.switcher_options,function(c,
f){f.textContent=a[c]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(a,c){var d=this;f(this.validators,function(c,f){if(!f.validate(a).length)return d.type=c,d.switcher.value=d.display_text[c],!1});this.switchEditor(this.type);this.editors[this.type].setValue(a,c);this.refreshValue();d.onChange()},destroy:function(){f(this.editors,function(a,c){c&&c.destroy()});this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder);
this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher);this._super()},showValidationErrors:function(a){var c=this;if(this.oneOf||this.anyOf){var h=this.oneOf?"oneOf":"anyOf";f(this.editors,function(d,k){if(k){var l=c.path+"."+h+"["+d+"]",r=[];f(a,function(a,d){d.path.substr(0,l.length)===l&&(a=n({},d),a.path=c.path+a.path.substr(l.length),r.push(a))});k.showValidationErrors(r)}})}else f(this.editors,function(c,d){d&&d.showValidationErrors(a)})}});l.defaults.editors["enum"]=
l.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.container.appendChild(this.title);this.options.enum_titles=this.options.enum_titles||[];this["enum"]=this.schema["enum"];this.selected=0;this.select_options=[];this.html_values=[];for(var a=this,c=0;c<this["enum"].length;c++)this.select_options[c]=this.options.enum_titles[c]||"Value "+(c+1),this.html_values[c]=this.getHTML(this["enum"][c]);
this.switcher=this.theme.getSwitcher(this.select_options);this.container.appendChild(this.switcher);this.display_area=this.theme.getIndentedPanel();this.container.appendChild(this.display_area);this.options.hide_display&&(this.display_area.style.display="none");this.switcher.addEventListener("change",function(){a.selected=a.select_options.indexOf(this.value);a.value=a["enum"][a.selected];a.refreshValue();a.onChange(!0)});this.value=this["enum"][0];this.refreshValue();1===this["enum"].length&&(this.switcher.style.display=
"none")},refreshValue:function(){var a=this;a.selected=-1;var c=JSON.stringify(this.value);f(this["enum"],function(d,f){if(c===JSON.stringify(f))return a.selected=d,!1});0>a.selected?a.setValue(a["enum"][0]):(this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected])},enable:function(){this.always_disabled||(this.switcher.disabled=!1);this._super()},disable:function(){this.switcher.disabled=!0;this._super()},getHTML:function(a){var c=this;if(null===
a)return"<em>null</em>";if("object"===typeof a){var h="";f(a,function(d,f){f=c.getHTML(f);Array.isArray(a)||(f="<div><em>"+d+"</em>: "+f+"</div>");h+="<li>"+f+"</li>"});return h=Array.isArray(a)?"<ol>"+h+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+h+"</ul>"}return"boolean"===typeof a?a?"true":"false":"string"===typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},setValue:function(a){this.value!==a&&(this.value=a,this.refreshValue(),
this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher);this._super()}});l.defaults.editors.select=l.AbstractEditor.extend({setValue:function(a,c){a=this.typecast(a||"");0>this.enum_values.indexOf(a)&&(a=this.enum_values[0]);this.value!==
a&&(this.input.value=this.enum_options[this.enum_values.indexOf(a)],this.select2&&this.select2.select2("val",this.input.value),this.value=a,this.onChange())},register:function(){this._super();this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super();this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var a=this.getTitle().length,c=0;c<this.enum_options.length;c++)a=Math.max(a,this.enum_options[c].length+4);
return Math.min(12,Math.max(a/7,2))},typecast:function(a){return"boolean"===this.schema.type?!!a:"number"===this.schema.type?1*a:"integer"===this.schema.type?Math.floor(1*a):""+a},getValue:function(){return this.value},preBuild:function(){var a=this;this.input_type="select";this.enum_options=[];this.enum_values=[];this.enum_display=[];var c;if(this.schema["enum"]){var h=this.schema.options&&this.schema.options.enum_titles||[];f(this.schema["enum"],function(c,d){a.enum_options[c]=""+d;a.enum_display[c]=
""+(h[c]||d);a.enum_values[c]=a.typecast(d)});this.isRequired()||(a.enum_display.unshift(" "),a.enum_options.unshift("undefined"),a.enum_values.unshift(void 0))}else if("boolean"===this.schema.type)a.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],a.enum_options=["1",""],a.enum_values=[!0,!1],this.isRequired()||(a.enum_display.unshift(" "),a.enum_options.unshift("undefined"),a.enum_values.unshift(void 0));else if(this.schema.enumSource){this.enumSource=[];this.enum_display=
[];this.enum_options=[];this.enum_values=[];if(Array.isArray(this.schema.enumSource))for(c=0;c<this.schema.enumSource.length;c++)"string"===typeof this.schema.enumSource[c]?this.enumSource[c]={source:this.schema.enumSource[c]}:Array.isArray(this.schema.enumSource[c])?this.enumSource[c]=this.schema.enumSource[c]:this.enumSource[c]=n({},this.schema.enumSource[c]);else this.enumSource=this.schema.enumValue?[{source:this.schema.enumSource,value:this.schema.enumValue}]:[{source:this.schema.enumSource}];
for(c=0;c<this.enumSource.length;c++)this.enumSource[c].value&&(this.enumSource[c].value=this.jsoneditor.compileTemplate(this.enumSource[c].value,this.template_engine)),this.enumSource[c].title&&(this.enumSource[c].title=this.jsoneditor.compileTemplate(this.enumSource[c].title,this.template_engine)),this.enumSource[c].filter&&(this.enumSource[c].filter=this.jsoneditor.compileTemplate(this.enumSource[c].filter,this.template_engine))}else throw"'select' editor requires the enum property to be set.";
},build:function(){var a=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));this.options.compact&&(this.container.className+=" compact");this.input=this.theme.getSelectInput(this.enum_options);this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);if(this.schema.readOnly||this.schema.readonly)this.always_disabled=!0,this.input.disabled=
!0;this.input.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();a.onInputChange()});this.control=this.theme.getFormControl(this.label,this.input,this.description);this.container.appendChild(this.control);this.value=this.enum_values[0]},onInputChange:function(){var a=this.input.value;a=-1===this.enum_options.indexOf(a)?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(a)];a!==this.value&&(this.value=a,this.onChange(!0))},setupSelect2:function(){if(window.jQuery&&
window.jQuery.fn&&window.jQuery.fn.select2&&(2<this.enum_options.length||this.enum_options.length&&this.enumSource)){var a=n({},l.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(a=n(a,this.schema.options.select2_options));this.select2=window.jQuery(this.input).select2(a);var c=this;this.select2.on("select2-blur",function(){c.input.value=c.select2.select2("val");c.onInputChange()});this.select2.on("change",function(){c.input.value=c.select2.select2("val");c.onInputChange()})}else this.select2=
null},postBuild:function(){this._super();this.theme.afterInputReady(this.input);this.setupSelect2()},onWatchedFieldChange:function(){var a;if(this.enumSource){var c=this.getWatchedFieldValues();for(var f=[],h=[],l=0;l<this.enumSource.length;l++)if(Array.isArray(this.enumSource[l]))f=f.concat(this.enumSource[l]),h=h.concat(this.enumSource[l]);else{var n;if(n=Array.isArray(this.enumSource[l].source)?this.enumSource[l].source:c[this.enumSource[l].source]){this.enumSource[l].slice&&(n=Array.prototype.slice.apply(n,
this.enumSource[l].slice));if(this.enumSource[l].filter){var t=[];for(a=0;a<n.length;a++)this.enumSource[l].filter({i:a,item:n[a],watched:c})&&t.push(n[a]);n=t}t=[];var C=[];for(a=0;a<n.length;a++){var z=n[a];C[a]=this.enumSource[l].value?this.enumSource[l].value({i:a,item:z}):n[a];t[a]=this.enumSource[l].title?this.enumSource[l].title({i:a,item:z}):C[a]}f=f.concat(C);h=h.concat(t)}}c=this.value;this.theme.setSelectOptions(this.input,f,h);this.enum_options=f;this.enum_display=h;this.enum_values=f;
this.select2&&this.select2.select2("destroy");if(-1!==f.indexOf(c))this.value=this.input.value=c;else{this.input.value=f[0];this.value=f[0]||"";if(this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange();this.jsoneditor.notifyWatchers(this.path)}this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0));this._super()},disable:function(){this.input.disabled=!0;this.select2&&this.select2.select2("enable",
!1);this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.select2&&(this.select2.select2("destroy"),this.select2=null);this._super()}});l.defaults.editors.selectize=l.AbstractEditor.extend({setValue:function(a,c){a=this.typecast(a||"");0>this.enum_values.indexOf(a)&&
(a=this.enum_values[0]);this.value!==a&&(this.input.value=this.enum_options[this.enum_values.indexOf(a)],this.selectize&&this.selectize[0].selectize.addItem(a),this.value=a,this.onChange())},register:function(){this._super();this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super();this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var a=this.getTitle().length,c=0;c<this.enum_options.length;c++)a=Math.max(a,
this.enum_options[c].length+4);return Math.min(12,Math.max(a/7,2))},typecast:function(a){return"boolean"===this.schema.type?!!a:"number"===this.schema.type?1*a:"integer"===this.schema.type?Math.floor(1*a):""+a},getValue:function(){return this.value},preBuild:function(){var a=this;this.input_type="select";this.enum_options=[];this.enum_values=[];this.enum_display=[];var c;if(this.schema.enum){var h=this.schema.options&&this.schema.options.enum_titles||[];f(this.schema.enum,function(c,d){a.enum_options[c]=
""+d;a.enum_display[c]=""+(h[c]||d);a.enum_values[c]=a.typecast(d)})}else if("boolean"===this.schema.type)a.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],a.enum_options=["1","0"],a.enum_values=[!0,!1];else if(this.schema.enumSource){this.enumSource=[];this.enum_display=[];this.enum_options=[];this.enum_values=[];if(Array.isArray(this.schema.enumSource))for(c=0;c<this.schema.enumSource.length;c++)"string"===typeof this.schema.enumSource[c]?this.enumSource[c]={source:this.schema.enumSource[c]}:
Array.isArray(this.schema.enumSource[c])?this.enumSource[c]=this.schema.enumSource[c]:this.enumSource[c]=n({},this.schema.enumSource[c]);else this.enumSource=this.schema.enumValue?[{source:this.schema.enumSource,value:this.schema.enumValue}]:[{source:this.schema.enumSource}];for(c=0;c<this.enumSource.length;c++)this.enumSource[c].value&&(this.enumSource[c].value=this.jsoneditor.compileTemplate(this.enumSource[c].value,this.template_engine)),this.enumSource[c].title&&(this.enumSource[c].title=this.jsoneditor.compileTemplate(this.enumSource[c].title,
this.template_engine)),this.enumSource[c].filter&&(this.enumSource[c].filter=this.jsoneditor.compileTemplate(this.enumSource[c].filter,this.template_engine))}else throw"'select' editor requires the enum property to be set.";},build:function(){var a=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));this.options.compact&&(this.container.className+=" compact");
this.input=this.theme.getSelectInput(this.enum_options);this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);if(this.schema.readOnly||this.schema.readonly)this.always_disabled=!0,this.input.disabled=!0;this.input.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();a.onInputChange()});this.control=this.theme.getFormControl(this.label,this.input,this.description);this.container.appendChild(this.control);this.value=this.enum_values[0]},onInputChange:function(){var a=
this.input.value;this.enum_options.indexOf(a);this.value=this.enum_values[this.enum_options.indexOf(a)];this.onChange(!0)},setupSelectize:function(){var a=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(2<=this.enum_options.length||this.enum_options.length&&this.enumSource)){var c=n({},l.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(c=n(c,this.schema.options.selectize_options));this.selectize=window.jQuery(this.input).selectize(n(c,{create:!0,
onChange:function(){a.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super();this.theme.afterInputReady(this.input);this.setupSelectize()},onWatchedFieldChange:function(){var a;if(this.enumSource){var c=this.getWatchedFieldValues();for(var f=[],h=[],l=0;l<this.enumSource.length;l++)if(Array.isArray(this.enumSource[l]))f=f.concat(this.enumSource[l]),h=h.concat(this.enumSource[l]);else if(c[this.enumSource[l].source]){var n=c[this.enumSource[l].source];this.enumSource[l].slice&&
(n=Array.prototype.slice.apply(n,this.enumSource[l].slice));if(this.enumSource[l].filter){var t=[];for(a=0;a<n.length;a++)this.enumSource[l].filter({i:a,item:n[a]})&&t.push(n[a]);n=t}t=[];var C=[];for(a=0;a<n.length;a++){var z=n[a];C[a]=this.enumSource[l].value?this.enumSource[l].value({i:a,item:z}):n[a];t[a]=this.enumSource[l].title?this.enumSource[l].title({i:a,item:z}):C[a]}f=f.concat(C);h=h.concat(t)}c=this.value;this.theme.setSelectOptions(this.input,f,h);this.enum_options=f;this.enum_display=
h;this.enum_values=f;if(-1!==f.indexOf(c))this.value=this.input.value=c;else{this.input.value=f[0];this.value=f[0]||"";if(this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange();this.jsoneditor.notifyWatchers(this.path)}this.selectize?this.updateSelectizeOptions(f):this.setupSelectize();this._super()}},updateSelectizeOptions:function(a){var c=this.selectize[0].selectize,f=this;c.off();c.clearOptions();for(var h in a)c.addOption({value:a[h],text:a[h]});c.addItem(this.value);
c.on("change",function(){f.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock());this._super()},disable:function(){this.input.disabled=!0;this.selectize&&this.selectize[0].selectize.lock();this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&
this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null);this._super()}});l.defaults.editors.multiselect=l.AbstractEditor.extend({preBuild:function(){this._super();this.select_options={};this.select_values={};var a=this.jsoneditor.expandRefs(this.schema.items||{});var c=a["enum"]||[],f=a.options?a.options.enum_titles||[]:[];this.option_keys=[];this.option_titles=[];for(a=0;a<c.length;a++)this.sanitize(c[a])===
c[a]&&(this.option_keys.push(c[a]+""),this.option_titles.push((f[a]||c[a])+""),this.select_values[c[a]+""]=c[a])},build:function(){var a=this,c;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));if(!this.schema.format&&8>this.option_keys.length||"checkbox"===this.schema.format){this.input_type="checkboxes";this.inputs={};this.controls={};for(c=0;c<this.option_keys.length;c++){this.inputs[this.option_keys[c]]=
this.theme.getCheckbox();this.select_options[this.option_keys[c]]=this.inputs[this.option_keys[c]];var f=this.theme.getCheckboxLabel(this.option_titles[c]);this.controls[this.option_keys[c]]=this.theme.getFormControl(f,this.inputs[this.option_keys[c]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{this.input_type="select";this.input=this.theme.getSelectInput(this.option_keys);this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles);
this.input.multiple=!0;this.input.size=Math.min(10,this.option_keys.length);for(c=0;c<this.option_keys.length;c++)this.select_options[this.option_keys[c]]=this.input.children[c];if(this.schema.readOnly||this.schema.readonly)this.always_disabled=!0,this.input.disabled=!0;this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control);this.control.addEventListener("change",function(d){d.preventDefault();d.stopPropagation();d=[];for(c=0;c<a.option_keys.length;c++)(a.select_options[a.option_keys[c]].selected||
a.select_options[a.option_keys[c]].checked)&&d.push(a.select_values[a.option_keys[c]]);a.updateValue(d);a.onChange(!0)})},setValue:function(a,c){a=a||[];"object"!==typeof a?a=[a]:Array.isArray(a)||(a=[]);for(c=0;c<a.length;c++)"string"!==typeof a[c]&&(a[c]+="");for(c in this.select_options)this.select_options.hasOwnProperty(c)&&(this.select_options[c]["select"===this.input_type?"selected":"checked"]=-1!==a.indexOf(c));this.updateValue(a);this.onChange()},setupSelect2:function(){if(window.jQuery&&
window.jQuery.fn&&window.jQuery.fn.select2){var a=window.jQuery.extend({},l.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(a=n(a,this.schema.options.select2_options));this.select2=window.jQuery(this.input).select2(a);var c=this;this.select2.on("select2-blur",function(){var a=c.select2.select2("val");c.value=a;c.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value;this.onChange(!0)},postBuild:function(){this._super();this.setupSelect2()},
register:function(){this._super();this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super();this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var a=this.getTitle().length,c;for(c in this.select_values)this.select_values.hasOwnProperty(c)&&(a=Math.max(a,(this.select_values[c]+"").length+4));return Math.min(12,Math.max(a/7,2))},updateValue:function(a){for(var c=!1,f=[],h=0;h<a.length;h++)if(this.select_options[a[h]+""]){var l=this.sanitize(this.select_values[a[h]]);
f.push(l);l!==a[h]&&(c=!0)}else c=!0;this.value=f;this.select2&&this.select2.select2("val",this.value);return c},sanitize:function(a){return"number"===this.schema.items.type?1*a:"integer"===this.schema.items.type?Math.floor(1*a):""+a},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var a in this.inputs)this.inputs.hasOwnProperty(a)&&(this.inputs[a].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=
!0;else if(this.inputs)for(var a in this.inputs)this.inputs.hasOwnProperty(a)&&(this.inputs[a].disabled=!0);this.select2&&this.select2.select2("enable",!1);this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null);this._super()}});l.defaults.editors.base64=l.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var a=this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.input=this.theme.getFormInputField("hidden");
this.container.appendChild(this.input);if(!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file");this.uploader.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();if(this.files&&this.files.length){var d=new FileReader;d.onload=function(c){a.value=c.target.result;a.refreshPreview();a.onChange(!0);d=null};d.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description);
this.container.appendChild(this.preview);this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview);this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var a=this.value.match(/^data:([^;,]+)[;,]/);a&&(a=a[1]);a?(this.preview.innerHTML="<strong>Type:</strong> "+a+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-
1)/1.33333)+" bytes","image"===a.substr(0,5)&&(this.preview.innerHTML+="<br>",a=document.createElement("img"),a.style.maxWidth="100%",a.style.maxHeight="100px",a.src=this.value,this.preview.appendChild(a))):this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1);this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0);this._super()},setValue:function(a){this.value!==a&&(this.value=a,this.input.value=this.value,this.refreshPreview(),
this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader);this._super()}});l.defaults.editors.upload=l.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var a=
this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.input=this.theme.getFormInputField("hidden");this.container.appendChild(this.input);if(!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file");this.uploader.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();if(this.files&&this.files.length){var d=new FileReader;
d.onload=function(c){a.preview_value=c.target.result;a.refreshPreview();a.onChange(!0);d=null};d.readAsDataURL(this.files[0])}})}var c=this.schema.description;c||(c="");this.preview=this.theme.getFormInputDescription(c);this.container.appendChild(this.preview);this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview);this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML=
"",this.preview_value)){var a=this,c=this.preview_value.match(/^data:([^;,]+)[;,]/);c&&(c=c[1]);c||(c="unknown");var f=this.uploader.files[0];this.preview.innerHTML="<strong>Type:</strong> "+c+", <strong>Size:</strong> "+f.size+" bytes";"image"===c.substr(0,5)&&(this.preview.innerHTML+="<br>",c=document.createElement("img"),c.style.maxWidth="100%",c.style.maxHeight="100px",c.src=this.preview_value,this.preview.appendChild(c));this.preview.innerHTML+="<br>";var h=this.getButton("Upload","upload","Upload");
this.preview.appendChild(h);h.addEventListener("click",function(c){c.preventDefault();h.setAttribute("disabled","disabled");a.theme.removeInputError(a.uploader);a.theme.getProgressBar&&(a.progressBar=a.theme.getProgressBar(),a.preview.appendChild(a.progressBar));a.jsoneditor.options.upload(a.path,f,{success:function(c){a.setValue(c);if(a.parent)a.parent.onChildEditorChange(a);else a.jsoneditor.onChange();a.progressBar&&a.preview.removeChild(a.progressBar);h.removeAttribute("disabled")},failure:function(c){a.theme.addInputError(a.uploader,
c);a.progressBar&&a.preview.removeChild(a.progressBar);h.removeAttribute("disabled")},updateProgress:function(c){a.progressBar&&(c?a.theme.updateProgressBar(a.progressBar,c):a.theme.updateProgressBarUnknown(a.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1);this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0);this._super()},setValue:function(a){this.value!==a&&(this.value=a,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&
this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader);this._super()}});l.defaults.editors.checkbox=l.AbstractEditor.extend({setValue:function(a,c){this.value=!!a;this.input.checked=this.value;this.onChange()},register:function(){this._super();
this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super();this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var a=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));this.options.compact&&(this.container.className+=" compact");
this.input=this.theme.getCheckbox();this.control=this.theme.getFormControl(this.label,this.input,this.description);if(this.schema.readOnly||this.schema.readonly)this.always_disabled=!0,this.input.disabled=!0;this.input.addEventListener("change",function(c){c.preventDefault();c.stopPropagation();a.value=this.checked;a.onChange(!0)});this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1);this._super()},disable:function(){this.input.disabled=!0;this._super()},
destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this._super()}});l.defaults.editors.arraySelectize=l.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle());this.title_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);
this.error_holder=document.createElement("div");this.schema.description&&(this.description=this.theme.getDescription(this.schema.description));this.input=document.createElement("select");this.input.setAttribute("multiple","multiple");var a=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(a);this.container.appendChild(this.error_holder);window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var a=this;this.input.selectize.on("change",
function(c){a.refreshValue();a.onChange(!0)})},destroy:function(){this.empty(!0);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this._super()},empty:function(a){},setValue:function(a,c){var d=this;a=a||[];Array.isArray(a)||(a=[a]);this.input.selectize.clearOptions();this.input.selectize.clear(!0);
a.forEach(function(a){d.input.selectize.addOption({text:a,value:a})});this.input.selectize.setValue(a);this.refreshValue(c)},refreshValue:function(a){this.value=this.input.selectize.getValue()},showValidationErrors:function(a){var c=this,h=[],l=[];f(a,function(a,d){d.path===c.path?h.push(d):l.push(d)});this.error_holder&&(h.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",f(h,function(a,d){c.error_holder.appendChild(c.theme.getErrorMessage(d.message))})):this.error_holder.style.display=
"none")}});var t=function(){var a=document.documentElement;if(a.matches)return"matches";if(a.webkitMatchesSelector)return"webkitMatchesSelector";if(a.mozMatchesSelector)return"mozMatchesSelector";if(a.msMatchesSelector)return"msMatchesSelector";if(a.oMatchesSelector)return"oMatchesSelector"}();l.AbstractTheme=c.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var a=document.createElement("div");a.style=a.style||{};a.style.cssFloat="right";a.style.marginLeft=
"10px";return a},getModal:function(){var a=document.createElement("div");a.style.backgroundColor="white";a.style.border="1px solid black";a.style.boxShadow="3px 3px black";a.style.position="absolute";a.style.zIndex="10";a.style.display="none";return a},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var a=document.createElement("div");a.className="row";return a},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(a,c){},
getLink:function(a){var c=document.createElement("a");c.setAttribute("href","#");c.appendChild(document.createTextNode(a));return c},disableHeader:function(a){a.style.color="#ccc"},disableLabel:function(a){a.style.color="#ccc"},enableHeader:function(a){a.style.color=""},enableLabel:function(a){a.style.color=""},getFormInputLabel:function(a){var c=document.createElement("label");c.appendChild(document.createTextNode(a));return c},getCheckboxLabel:function(a){a=this.getFormInputLabel(a);a.style.fontWeight=
"normal";return a},getHeader:function(a){var c=document.createElement("h3");"string"===typeof a?c.textContent=a:c.appendChild(a);return c},getCheckbox:function(){var a=this.getFormInputField("checkbox");a.style.display="inline-block";a.style.width="auto";return a},getMultiCheckboxHolder:function(a,c,f){var d=document.createElement("div");c&&(c.style.display="block",d.appendChild(c));for(var h in a)a.hasOwnProperty(h)&&(a[h].style.display="inline-block",a[h].style.marginRight="20px",d.appendChild(a[h]));
f&&d.appendChild(f);return d},getSelectInput:function(a){var c=document.createElement("select");a&&this.setSelectOptions(c,a);return c},getSwitcher:function(a){a=this.getSelectInput(a);a.style.backgroundColor="transparent";a.style.display="inline-block";a.style.fontStyle="italic";a.style.fontWeight="normal";a.style.height="auto";a.style.marginBottom=0;a.style.marginLeft="5px";a.style.padding="0 0 0 3px";a.style.width="auto";return a},getSwitcherOptions:function(a){return a.getElementsByTagName("option")},
setSwitcherOptions:function(a,c,f){this.setSelectOptions(a,c,f)},setSelectOptions:function(a,c,f){f=f||[];a.innerHTML="";for(var d=0;d<c.length;d++){var h=document.createElement("option");h.setAttribute("value",c[d]);h.textContent=f[d]||c[d];a.appendChild(h)}},getTextareaInput:function(){var a=document.createElement("textarea");a.style=a.style||{};a.style.width="100%";a.style.height="300px";a.style.boxSizing="border-box";return a},getRangeInput:function(a,c,f){var d=this.getFormInputField("range");
d.setAttribute("min",a);d.setAttribute("max",c);d.setAttribute("step",f);return d},getFormInputField:function(a){var c=document.createElement("input");c.setAttribute("type",a);return c},afterInputReady:function(a){},getFormControl:function(a,c,f){var d=document.createElement("div");d.className="form-control";a&&d.appendChild(a);"checkbox"===c.type?a.insertBefore(c,a.firstChild):d.appendChild(c);f&&d.appendChild(f);return d},getIndentedPanel:function(){var a=document.createElement("div");a.style=a.style||
{};a.style.paddingLeft="10px";a.style.marginLeft="10px";a.style.borderLeft="1px solid #ccc";return a},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(a){var c=document.createElement("p");c.innerHTML=a;return c},getCheckboxDescription:function(a){return this.getDescription(a)},getFormInputDescription:function(a){return this.getDescription(a)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},
getButton:function(a,c,f){var d=document.createElement("button");d.type="button";this.setButtonText(d,a,c,f);return d},setButtonText:function(a,c,f,h){a.innerHTML="";f&&(a.appendChild(f),a.innerHTML+=" ");a.appendChild(document.createTextNode(c));h&&a.setAttribute("title",h)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},
getTableHeaderCell:function(a){var c=document.createElement("th");c.textContent=a;return c},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(a){var c=document.createElement("p");c.style=c.style||{};c.style.color="red";c.appendChild(document.createTextNode(a));return c},addInputError:function(a,c){},removeInputError:function(a){},addTableRowError:function(a){},removeTableRowError:function(a){},getTabHolder:function(){var a=document.createElement("div");a.innerHTML=
"<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>";return a},applyStyles:function(a,c){a.style=a.style||{};for(var d in c)c.hasOwnProperty(d)&&(a.style[d]=c[d])},closest:function(a,c){for(;a&&a!==document;)if(a[t]){if(a[t](c))return a;a=a.parentNode}else break;return!1},getTab:function(a){var c=document.createElement("div");c.appendChild(a);c.style=c.style||{};this.applyStyles(c,{border:"1px solid #ccc",
borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"});return c},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(a){this.applyStyles(a,{opacity:1,background:"white"})},markTabInactive:function(a){this.applyStyles(a,{opacity:.5,background:""})},addTab:function(a,c){a.children[0].appendChild(c)},getBlockLink:function(){var a=
document.createElement("a");a.style.display="block";return a},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(a,c,f){a.appendChild(c);f.style.width="100%";a.appendChild(f)},createImageLink:function(a,c,f){a.appendChild(c);c.appendChild(f)}});l.defaults.themes.bootstrap2=l.AbstractTheme.extend({getRangeInput:function(a,c,f){return this._super(a,c,f)},getGridContainer:function(){var a=document.createElement("div");
a.className="container-fluid";return a},getGridRow:function(){var a=document.createElement("div");a.className="row-fluid";return a},getFormInputLabel:function(a){a=this._super(a);a.style.display="inline-block";a.style.fontWeight="bold";return a},setGridColumnSize:function(a,c){a.className="span"+c},getSelectInput:function(a){a=this._super(a);a.style.width="auto";a.style.maxWidth="98%";return a},getFormInputField:function(a){a=this._super(a);a.style.width="98%";return a},afterInputReady:function(a){a.controlgroup||
(a.controlgroup=this.closest(a,".control-group"),a.controls=this.closest(a,".controls"),this.closest(a,".compact")&&(a.controlgroup.className=a.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),a.controls.className=a.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),a.style.marginBottom=0))},getIndentedPanel:function(){var a=document.createElement("div");a.className="well well-small";a.style.paddingBottom=0;return a},getFormInputDescription:function(a){var c=
document.createElement("p");c.className="help-inline";c.textContent=a;return c},getFormControl:function(a,c,f){var d=document.createElement("div");d.className="control-group";var h=document.createElement("div");h.className="controls";a&&"checkbox"===c.getAttribute("type")?(d.appendChild(h),a.className+=" checkbox",a.appendChild(c),h.appendChild(a),h.style.height="30px"):(a&&(a.className+=" control-label",d.appendChild(a)),h.appendChild(c),d.appendChild(h));f&&h.appendChild(f);return d},getHeaderButtonHolder:function(){var a=
this.getButtonHolder();a.style.marginLeft="10px";return a},getButtonHolder:function(){var a=document.createElement("div");a.className="btn-group";return a},getButton:function(a,c,f){a=this._super(a,c,f);a.className+=" btn btn-default";return a},getTable:function(){var a=document.createElement("table");a.className="table table-bordered";a.style.width="auto";a.style.maxWidth="none";return a},addInputError:function(a,c){a.controlgroup&&a.controls&&(a.controlgroup.className+=" error",a.errmsg?a.errmsg.style.display=
"":(a.errmsg=document.createElement("p"),a.errmsg.className="help-block errormsg",a.controls.appendChild(a.errmsg)),a.errmsg.textContent=c)},removeInputError:function(a){a.errmsg&&(a.errmsg.style.display="none",a.controlgroup.className=a.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var a=document.createElement("div");a.className="tabbable tabs-left";a.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>";
return a},getTab:function(a){var c=document.createElement("li"),f=document.createElement("a");f.setAttribute("href","#");f.appendChild(a);c.appendChild(f);return c},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){var a=document.createElement("div");a.className="tab-pane active";return a},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s?active/g,"")},addTab:function(a,c){a.children[0].appendChild(c)},getProgressBar:function(){var a=
document.createElement("div");a.className="progress";var c=document.createElement("div");c.className="bar";c.style.width="0%";a.appendChild(c);return a},updateProgressBar:function(a,c){a&&(a.firstChild.style.width=c+"%")},updateProgressBarUnknown:function(a){a&&(a.className="progress progress-striped active",a.firstChild.style.width="100%")}});l.defaults.themes.bootstrap3=l.AbstractTheme.extend({getSelectInput:function(a){a=this._super(a);a.className+="form-control";return a},setGridColumnSize:function(a,
c){a.className="col-md-"+c},afterInputReady:function(a){a.controlgroup||(a.controlgroup=this.closest(a,".form-group"),this.closest(a,".compact")&&(a.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var a=document.createElement("textarea");a.className="form-control";return a},getRangeInput:function(a,c,f){return this._super(a,c,f)},getFormInputField:function(a){var c=this._super(a);"checkbox"!==a&&(c.className+="form-control");return c},getFormControl:function(a,c,f){var d=document.createElement("div");
a&&"checkbox"===c.type?(d.className+=" checkbox",a.appendChild(c),a.style.fontSize="14px",d.style.marginTop="0",d.appendChild(a),c.style.position="relative",c.style.cssFloat="left"):(d.className+=" form-group",a&&(a.className+=" control-label",d.appendChild(a)),d.appendChild(c));f&&d.appendChild(f);return d},getIndentedPanel:function(){var a=document.createElement("div");a.className="well well-sm";a.style.paddingBottom=0;return a},getFormInputDescription:function(a){var c=document.createElement("p");
c.className="help-block";c.innerHTML=a;return c},getHeaderButtonHolder:function(){var a=this.getButtonHolder();a.style.marginLeft="10px";return a},getButtonHolder:function(){var a=document.createElement("div");a.className="btn-group";return a},getButton:function(a,c,f){a=this._super(a,c,f);a.className+="btn btn-default";return a},getTable:function(){var a=document.createElement("table");a.className="table table-bordered";a.style.width="auto";a.style.maxWidth="none";return a},addInputError:function(a,
c){a.controlgroup&&(a.controlgroup.className+=" has-error",a.errmsg?a.errmsg.style.display="":(a.errmsg=document.createElement("p"),a.errmsg.className="help-block errormsg",a.controlgroup.appendChild(a.errmsg)),a.errmsg.textContent=c)},removeInputError:function(a){a.errmsg&&(a.errmsg.style.display="none",a.controlgroup.className=a.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var a=document.createElement("div");a.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>";
a.className="rows";return a},getTab:function(a){var c=document.createElement("a");c.className="list-group-item";c.setAttribute("href","#");c.appendChild(a);return c},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s?active/g,"")},getProgressBar:function(){var a=document.createElement("div");a.className="progress";var c=document.createElement("div");c.className="progress-bar";c.setAttribute("role","progressbar");c.setAttribute("aria-valuenow",
0);c.setAttribute("aria-valuemin",0);c.setAttribute("aria-valuenax",100);c.innerHTML="0%";a.appendChild(c);return a},updateProgressBar:function(a,c){if(a){a=a.firstChild;var d=c+"%";a.setAttribute("aria-valuenow",c);a.style.width=d;a.innerHTML=d}},updateProgressBarUnknown:function(a){if(a){var c=a.firstChild;a.className="progress progress-striped active";c.removeAttribute("aria-valuenow");c.style.width="100%";c.innerHTML=""}}});l.defaults.themes.foundation=l.AbstractTheme.extend({getChildEditorHolder:function(){var a=
document.createElement("div");a.style.marginBottom="15px";return a},getSelectInput:function(a){a=this._super(a);a.style.minWidth="none";a.style.padding="5px";a.style.marginTop="3px";return a},getSwitcher:function(a){a=this._super(a);a.style.paddingRight="8px";return a},afterInputReady:function(a){this.closest(a,".compact")&&(a.style.marginBottom=0);a.group=this.closest(a,".form-control")},getFormInputLabel:function(a){a=this._super(a);a.style.display="inline-block";return a},getFormInputField:function(a){var c=
this._super(a);c.style.width="100%";c.style.marginBottom="checkbox"===a?"0":"12px";return c},getFormInputDescription:function(a){var c=document.createElement("p");c.textContent=a;c.style.marginTop="-10px";c.style.fontStyle="italic";return c},getIndentedPanel:function(){var a=document.createElement("div");a.className="panel";a.style.paddingBottom=0;return a},getHeaderButtonHolder:function(){var a=this.getButtonHolder();a.style.display="inline-block";a.style.marginLeft="10px";a.style.verticalAlign=
"middle";return a},getButtonHolder:function(){var a=document.createElement("div");a.className="button-group";return a},getButton:function(a,c,f){a=this._super(a,c,f);a.className+=" small button";return a},addInputError:function(a,c){a.group&&(a.group.className+=" error",a.errmsg?a.errmsg.style.display="":(a.insertAdjacentHTML("afterend",'<small class="error"></small>'),a.errmsg=a.parentNode.getElementsByClassName("error")[0]),a.errmsg.textContent=c)},removeInputError:function(a){a.errmsg&&(a.group.className=
a.group.className.replace(/ error/g,""),a.errmsg.style.display="none")},getProgressBar:function(){var a=document.createElement("div");a.className="progress";var c=document.createElement("span");c.className="meter";c.style.width="0%";a.appendChild(c);return a},updateProgressBar:function(a,c){a&&(a.firstChild.style.width=c+"%")},updateProgressBarUnknown:function(a){a&&(a.firstChild.style.width="100%")}});l.defaults.themes.foundation3=l.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var a=
this._super();a.style.fontSize=".6em";return a},getFormInputLabel:function(a){a=this._super(a);a.style.fontWeight="bold";return a},getTabHolder:function(){var a=document.createElement("div");a.className="row";a.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>";return a},setGridColumnSize:function(a,c){a.className="columns "+"zero one two three four five six seven eight nine ten eleven twelve".split(" ")[c]},getTab:function(a){var c=document.createElement("dd"),
f=document.createElement("a");f.setAttribute("href","#");f.appendChild(a);c.appendChild(f);return c},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){var a=document.createElement("div");a.className="content active";a.style.paddingLeft="5px";return a},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s*active/g,"")},addTab:function(a,c){a.children[0].appendChild(c)}});l.defaults.themes.foundation4=l.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var a=
this._super();a.style.fontSize=".6em";return a},setGridColumnSize:function(a,c){a.className="columns large-"+c},getFormInputDescription:function(a){a=this._super(a);a.style.fontSize=".8rem";return a},getFormInputLabel:function(a){a=this._super(a);a.style.fontWeight="bold";return a}});l.defaults.themes.foundation5=l.defaults.themes.foundation.extend({getFormInputDescription:function(a){a=this._super(a);a.style.fontSize=".8rem";return a},setGridColumnSize:function(a,c){a.className="columns medium-"+
c},getButton:function(a,c,f){a=this._super(a,c,f);a.className=a.className.replace(/\s*small/g,"")+" tiny";return a},getTabHolder:function(){var a=document.createElement("div");a.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>";return a},getTab:function(a){var c=document.createElement("dd"),f=document.createElement("a");f.setAttribute("href","#");f.appendChild(a);c.appendChild(f);return c},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){var a=
document.createElement("div");a.className="content active";a.style.paddingLeft="5px";return a},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s*active/g,"")},addTab:function(a,c){a.children[0].appendChild(c)}});l.defaults.themes.foundation6=l.defaults.themes.foundation5.extend({getIndentedPanel:function(){var a=document.createElement("div");a.className="callout secondary";return a},getButtonHolder:function(){var a=document.createElement("div");
a.className="button-group tiny";a.style.marginBottom=0;return a},getFormInputLabel:function(a){a=this._super(a);a.style.display="block";return a},getFormControl:function(a,c,f){var d=document.createElement("div");d.className="form-control";a&&d.appendChild(a);"checkbox"===c.type?a.insertBefore(c,a.firstChild):a?a.appendChild(c):d.appendChild(c);f&&a.appendChild(f);return d},addInputError:function(a,c){if(a.group){a.group.className+=" error";if(a.errmsg)a.errmsg.style.display="",a.className="";else{var d=
document.createElement("span");d.className="form-error is-visible";a.group.getElementsByTagName("label")[0].appendChild(d);a.className+=" is-invalid-input";a.errmsg=d}a.errmsg.textContent=c}},removeInputError:function(a){a.errmsg&&(a.className=a.className.replace(/ is-invalid-input/g,""),a.errmsg.parentNode&&a.errmsg.parentNode.removeChild(a.errmsg))}});l.defaults.themes.html=l.AbstractTheme.extend({getFormInputLabel:function(a){a=this._super(a);a.style.display="block";a.style.marginBottom="3px";
a.style.fontWeight="bold";return a},getFormInputDescription:function(a){a=this._super(a);a.style.fontSize=".8em";a.style.margin=0;a.style.display="inline-block";a.style.fontStyle="italic";return a},getIndentedPanel:function(){var a=this._super();a.style.border="1px solid #ddd";a.style.padding="5px";a.style.margin="5px";a.style.borderRadius="3px";return a},getChildEditorHolder:function(){var a=this._super();a.style.marginBottom="8px";return a},getHeaderButtonHolder:function(){var a=this.getButtonHolder();
a.style.display="inline-block";a.style.marginLeft="10px";a.style.fontSize=".8em";a.style.verticalAlign="middle";return a},getTable:function(){var a=this._super();a.style.borderBottom="1px solid #ccc";a.style.marginBottom="5px";return a},addInputError:function(a,c){a.style.borderColor="red";if(a.errmsg)a.errmsg.style.display="block";else{var d=this.closest(a,".form-control");a.errmsg=document.createElement("div");a.errmsg.setAttribute("class","errmsg");a.errmsg.style=a.errmsg.style||{};a.errmsg.style.color=
"red";d.appendChild(a.errmsg)}a.errmsg.innerHTML="";a.errmsg.appendChild(document.createTextNode(c))},removeInputError:function(a){a.style.borderColor="";a.errmsg&&(a.errmsg.style.display="none")},getProgressBar:function(){var a=document.createElement("progress");a.setAttribute("max",100);a.setAttribute("value",0);return a},updateProgressBar:function(a,c){a&&a.setAttribute("value",c)},updateProgressBarUnknown:function(a){a&&a.removeAttribute("value")}});l.defaults.themes.jqueryui=l.AbstractTheme.extend({getTable:function(){var a=
this._super();a.setAttribute("cellpadding",5);a.setAttribute("cellspacing",0);return a},getTableHeaderCell:function(a){a=this._super(a);a.className="ui-state-active";a.style.fontWeight="bold";return a},getTableCell:function(){var a=this._super();a.className="ui-widget-content";return a},getHeaderButtonHolder:function(){var a=this.getButtonHolder();a.style.marginLeft="10px";a.style.fontSize=".6em";a.style.display="inline-block";return a},getFormInputDescription:function(a){a=this.getDescription(a);
a.style.marginLeft="10px";a.style.display="inline-block";return a},getFormControl:function(a,c,f){a=this._super(a,c,f);"checkbox"===c.type?(a.style.lineHeight="25px",a.style.padding="3px 0"):a.style.padding="4px 0 8px 0";return a},getDescription:function(a){var c=document.createElement("span");c.style.fontSize=".8em";c.style.fontStyle="italic";c.textContent=a;return c},getButtonHolder:function(){var a=document.createElement("div");a.className="ui-buttonset";a.style.fontSize=".7em";return a},getFormInputLabel:function(a){var c=
document.createElement("label");c.style.fontWeight="bold";c.style.display="block";c.textContent=a;return c},getButton:function(a,c,f){var d=document.createElement("button");d.className="ui-button ui-widget ui-state-default ui-corner-all";c&&!a?(d.className+=" ui-button-icon-only",c.className+=" ui-button-icon-primary ui-icon-primary",d.appendChild(c)):c?(d.className+=" ui-button-text-icon-primary",c.className+=" ui-button-icon-primary ui-icon-primary",d.appendChild(c)):d.className+=" ui-button-text-only";
c=document.createElement("span");c.className="ui-button-text";c.textContent=a||f||".";d.appendChild(c);d.setAttribute("title",f);return d},setButtonText:function(a,c,f,h){a.innerHTML="";a.className="ui-button ui-widget ui-state-default ui-corner-all";f&&!c?(a.className+=" ui-button-icon-only",f.className+=" ui-button-icon-primary ui-icon-primary",a.appendChild(f)):f?(a.className+=" ui-button-text-icon-primary",f.className+=" ui-button-icon-primary ui-icon-primary",a.appendChild(f)):a.className+=" ui-button-text-only";
f=document.createElement("span");f.className="ui-button-text";f.textContent=c||h||".";a.appendChild(f);a.setAttribute("title",h)},getIndentedPanel:function(){var a=document.createElement("div");a.className="ui-widget-content ui-corner-all";a.style.padding="1em 1.4em";a.style.marginBottom="20px";return a},afterInputReady:function(a){a.controls||(a.controls=this.closest(a,".form-control"))},addInputError:function(a,c){a.controls&&(a.errmsg?a.errmsg.style.display="":(a.errmsg=document.createElement("div"),
a.errmsg.className="ui-state-error",a.controls.appendChild(a.errmsg)),a.errmsg.textContent=c)},removeInputError:function(a){a.errmsg&&(a.errmsg.style.display="none")},markTabActive:function(a){a.className=a.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(a){a.className=a.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}});l.defaults.themes.barebones=l.AbstractTheme.extend({getFormInputLabel:function(a){return this._super(a)},getFormInputDescription:function(a){return this._super(a)},
getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(a,c){if(a.errmsg)a.errmsg.style.display="block";else{var d=this.closest(a,".form-control");a.errmsg=document.createElement("div");a.errmsg.setAttribute("class","errmsg");d.appendChild(a.errmsg)}a.errmsg.innerHTML="";a.errmsg.appendChild(document.createTextNode(c))},removeInputError:function(a){a.style.borderColor=
"";a.errmsg&&(a.errmsg.style.display="none")},getProgressBar:function(){var a=document.createElement("progress");a.setAttribute("max",100);a.setAttribute("value",0);return a},updateProgressBar:function(a,c){a&&a.setAttribute("value",c)},updateProgressBarUnknown:function(a){a&&a.removeAttribute("value")}});l.AbstractIconLib=c.extend({mapping:{collapse:"",expand:"","delete":"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(a){return this.mapping[a]?this.icon_prefix+
this.mapping[a]:null},getIcon:function(a){a=this.getIconClass(a);if(!a)return null;var c=document.createElement("i");c.className=a;return c}});l.defaults.iconlibs.bootstrap2=l.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up","delete":"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"});l.defaults.iconlibs.bootstrap3=l.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",
"delete":"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"});l.defaults.iconlibs.fontawesome3=l.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right","delete":"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"});l.defaults.iconlibs.fontawesome4=l.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",
expand:"caret-square-o-right","delete":"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"});l.defaults.iconlibs.foundation2=l.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus","delete":"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"});l.defaults.iconlibs.foundation3=l.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",
"delete":"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"});l.defaults.iconlibs.jqueryui=l.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e","delete":"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"});l.defaults.templates["default"]=function(){return{compile:function(a){var c=a.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),
f=c&&c.length;if(!f)return function(){return a};for(var h=[],l=function(a){var d=c[a].replace(/[{}]+/g,"").trim().split("."),f=d.length;if(1<f){var k;var b=function(b){k=b;for(a=0;a<f&&(k=k[d[a]],k);a++);return k}}else d=d[0],b=function(a){return a[d]};h.push({s:c[a],r:b})},n=0;n<f;n++)l(n);return function(c){var d=a+"";for(n=0;n<f;n++){var k=h[n];d=d.replace(k.s,k.r(c))}return d}}}};l.defaults.templates.ejs=function(){return window.EJS?{compile:function(a){var c=new window.EJS({text:a});return function(a){return c.render(a)}}}:
!1};l.defaults.templates.handlebars=function(){return window.Handlebars};l.defaults.templates.hogan=function(){return window.Hogan?{compile:function(a){var c=window.Hogan.compile(a);return function(a){return c.render(a)}}}:!1};l.defaults.templates.markup=function(){return window.Mark&&window.Mark.up?{compile:function(a){return function(c){return window.Mark.up(a,c)}}}:!1};l.defaults.templates.mustache=function(){return window.Mustache?{compile:function(a){return function(c){return window.Mustache.render(a,
c)}}}:!1};l.defaults.templates.swig=function(){return window.swig};l.defaults.templates.underscore=function(){return window._?{compile:function(a){return function(c){return window._.template(a,c)}}}:!1};l.defaults.theme="html";l.defaults.template="default";l.defaults.options={};l.defaults.translate=function(a,c){var d=l.defaults.languages[l.defaults.language];if(!d)throw"Unknown language "+l.defaults.language;d=d[a]||l.defaults.languages[l.defaults.default_language][a];if("undefined"===typeof d)throw"Unknown translate string "+
a;if(c)for(a=0;a<c.length;a++)d=d.replace(new RegExp("\\{\\{"+a+"}}","g"),c[a]);return d};l.defaults.default_language="en";l.defaults.language=l.defaults.default_language;l.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",
error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",
error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",
error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",
button_collapse:"Collapse",button_expand:"Expand"};l.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}};f(l.defaults.editors,function(a,c){l.defaults.editors[a].options=c.options||{}});l.defaults.resolvers.unshift(function(a){if("string"!==typeof a.type)return"multiple"});l.defaults.resolvers.unshift(function(a){if(!a.type&&a.properties)return"object"});l.defaults.resolvers.unshift(function(a){if("string"===typeof a.type)return a.type});l.defaults.resolvers.unshift(function(a){if("boolean"===
a.type)return"checkbox"===a.format||a.options&&a.options.checkbox?"checkbox":l.plugins.selectize.enable?"selectize":"select"});l.defaults.resolvers.unshift(function(a){if("any"===a.type)return"multiple"});l.defaults.resolvers.unshift(function(a){if("string"===a.type&&a.media&&"base64"===a.media.binaryEncoding)return"base64"});l.defaults.resolvers.unshift(function(a){if("string"===a.type&&"url"===a.format&&a.options&&!0===a.options.upload&&window.FileReader)return"upload"});l.defaults.resolvers.unshift(function(a){if("array"==
a.type&&"table"==a.format)return"table"});l.defaults.resolvers.unshift(function(a){if(a.enumSource)return l.plugins.selectize.enable?"selectize":"select"});l.defaults.resolvers.unshift(function(a){if(a["enum"]){if("array"===a.type||"object"===a.type)return"enum";if("number"===a.type||"integer"===a.type||"string"===a.type)return l.plugins.selectize.enable?"selectize":"select"}});l.defaults.resolvers.unshift(function(a){if("array"===a.type&&a.items&&!Array.isArray(a.items)&&a.uniqueItems&&0<=["string",
"number","integer"].indexOf(a.items.type)){if(a.items.enum)return"multiselect";if(l.plugins.selectize.enable&&"string"===a.items.type)return"arraySelectize"}});l.defaults.resolvers.unshift(function(a){if(a.oneOf||a.anyOf)return"multiple"});(function(){if(window.jQuery||window.Zepto){var a=window.jQuery||window.Zepto;a.jsoneditor=l.defaults;a.fn.jsoneditor=function(a){var c=this,d=this.data("jsoneditor");if("value"===a){if(!d)throw"Must initialize jsoneditor before getting/setting the value";if(1<
arguments.length)d.setValue(arguments[1]);else return d.getValue()}else{if("validate"===a){if(!d)throw"Must initialize jsoneditor before validating";return 1<arguments.length?d.validate(arguments[1]):d.validate()}"destroy"===a?d&&(d.destroy(),this.data("jsoneditor",null)):(d&&d.destroy(),d=new l(this.get(0),a),this.data("jsoneditor",d),d.on("change",function(){c.trigger("change")}),d.on("ready",function(){c.trigger("ready")}))}return this}}})();window.JSONEditor=l})();"undefined"===typeof Paho&&(Paho={});
Paho.MQTT=function(c){function n(a,b,c){b[c++]=a>>8;b[c++]=a%256;return c}function f(a,b,c,d){d=n(b,c,d);l(a,c,d);return d+b}function h(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);2047<d?(55296<=d&&56319>=d&&(c++,b++),b+=3):127<d?b+=2:b++}return b}function l(a,b,c){for(var d=0;d<a.length;d++){var e=a.charCodeAt(d);if(55296<=e&&56319>=e){var f=a.charCodeAt(++d);if(isNaN(f))throw Error(w(k.MALFORMED_UNICODE,[e,f]));e=(e-55296<<10)+(f-56320)+65536}127>=e?b[c++]=e:(2047>=e?b[c++]=e>>6&31|
192:(65535>=e?b[c++]=e>>12&15|224:(b[c++]=e>>18&7|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function t(a,b,c){for(var d="",e,f=b;f<b+c;){e=a[f++];if(!(128>e)){var g=a[f++]-128;if(0>g)throw Error(w(k.MALFORMED_UTF,[e.toString(16),g.toString(16),""]));if(224>e)e=64*(e-192)+g;else{var h=a[f++]-128;if(0>h)throw Error(w(k.MALFORMED_UTF,[e.toString(16),g.toString(16),h.toString(16)]));if(240>e)e=4096*(e-224)+64*g+h;else{var m=a[f++]-128;if(0>m)throw Error(w(k.MALFORMED_UTF,
[e.toString(16),g.toString(16),h.toString(16),m.toString(16)]));if(248>e)e=262144*(e-240)+4096*g+64*h+m;else throw Error(w(k.MALFORMED_UTF,[e.toString(16),g.toString(16),h.toString(16),m.toString(16)]));}}}65535<e&&(e-=65536,d+=String.fromCharCode(55296+(e>>10)),e=56320+(e&1023));d+=String.fromCharCode(e)}return d}var a=function(a,b){for(var c in a)if(a.hasOwnProperty(c))if(b.hasOwnProperty(c)){if(typeof a[c]!==b[c])throw Error(w(k.INVALID_TYPE,[typeof a[c],c]));}else{a="Unknown property, "+c+". Valid properties are:";
for(c in b)b.hasOwnProperty(c)&&(a=a+" "+c);throw Error(a);}},d=function(a,b){return function(){return a.apply(b,arguments)}},k={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},
CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},
UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."}},r={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",
4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},w=function(a,b){var c=a.text;if(b)for(a=0;a<b.length;a++){var d="{"+a+"}";var e=c.indexOf(d);if(0<e){var f=c.substring(0,e);c=c.substring(e+d.length);c=f+b[a]+c}}return c},v=[0,6,77,81,73,115,100,112,3],H=[0,4,77,81,84,84,4],C=function(a,b){this.type=a;for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])};C.prototype.encode=function(){var a=(this.type&15)<<4,b=0,c=[],d=0;void 0!=this.messageIdentifier&&(b+=2);
switch(this.type){case 1:switch(this.mqttVersion){case 3:b+=v.length+3;break;case 4:b+=H.length+3}b+=h(this.clientId)+2;if(void 0!=this.willMessage){b+=h(this.willMessage.destinationName)+2;var e=this.willMessage.payloadBytes;e instanceof Uint8Array||(e=new Uint8Array(k));b+=e.byteLength+2}void 0!=this.userName&&(b+=h(this.userName)+2);void 0!=this.password&&(b+=h(this.password)+2);break;case 8:a|=2;for(var g=0;g<this.topics.length;g++)c[g]=h(this.topics[g]),b+=c[g]+2;b+=this.requestedQos.length;
break;case 10:a|=2;for(g=0;g<this.topics.length;g++)c[g]=h(this.topics[g]),b+=c[g]+2;break;case 6:a|=2;break;case 3:this.payloadMessage.duplicate&&(a|=8);a=a|=this.payloadMessage.qos<<1;this.payloadMessage.retained&&(a|=1);d=h(this.payloadMessage.destinationName);var k=this.payloadMessage.payloadBytes;b=b+(d+2)+k.byteLength;k instanceof ArrayBuffer?k=new Uint8Array(k):k instanceof Uint8Array||(k=new Uint8Array(k.buffer))}var l=b;g=Array(1);var r=0;do{var t=l%128;l>>=7;0<l&&(t|=128);g[r++]=t}while(0<
l&&4>r);l=g.length+1;b=new ArrayBuffer(b+l);r=new Uint8Array(b);r[0]=a;r.set(g,1);if(3==this.type)l=f(this.payloadMessage.destinationName,d,r,l);else if(1==this.type){switch(this.mqttVersion){case 3:r.set(v,l);l+=v.length;break;case 4:r.set(H,l),l+=H.length}a=0;this.cleanSession&&(a=2);void 0!=this.willMessage&&(a=a|4|this.willMessage.qos<<3,this.willMessage.retained&&(a|=32));void 0!=this.userName&&(a|=128);void 0!=this.password&&(a|=64);r[l++]=a;l=n(this.keepAliveInterval,r,l)}void 0!=this.messageIdentifier&&
(l=n(this.messageIdentifier,r,l));switch(this.type){case 1:l=f(this.clientId,h(this.clientId),r,l);void 0!=this.willMessage&&(l=f(this.willMessage.destinationName,h(this.willMessage.destinationName),r,l),l=n(e.byteLength,r,l),r.set(e,l),l+=e.byteLength);void 0!=this.userName&&(l=f(this.userName,h(this.userName),r,l));void 0!=this.password&&f(this.password,h(this.password),r,l);break;case 3:r.set(k,l);break;case 8:for(g=0;g<this.topics.length;g++)l=f(this.topics[g],c[g],r,l),r[l++]=this.requestedQos[g];
break;case 10:for(g=0;g<this.topics.length;g++)l=f(this.topics[g],c[g],r,l)}return b};var z=function(a,b,c){this._client=a;this._window=b;this._keepAliveInterval=1E3*c;this.isReset=!1;var d=(new C(12)).encode(),e=function(a){return function(){return f.apply(a)}},f=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(d),this.timeout=this._window.setTimeout(e(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),
this._client._disconnected(k.PING_TIMEOUT.code,w(k.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0;this._window.clearTimeout(this.timeout);0<this._keepAliveInterval&&(this.timeout=setTimeout(e(this),this._keepAliveInterval))};this.cancel=function(){this._window.clearTimeout(this.timeout)}},E=function(a,b,c,d,e){this._window=b;c||(c=30);this.timeout=setTimeout(function(a,b,c){return function(){return a.apply(b,c)}}(d,a,e),1E3*c);this.cancel=function(){this._window.clearTimeout(this.timeout)}},
b=function(a,b,d,e,f){if(!("WebSocket"in c&&null!==c.WebSocket))throw Error(w(k.UNSUPPORTED,["WebSocket"]));if(!("localStorage"in c&&null!==c.localStorage))throw Error(w(k.UNSUPPORTED,["localStorage"]));if(!("ArrayBuffer"in c&&null!==c.ArrayBuffer))throw Error(w(k.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.MQTT.Client",a,b,d,e,f);this.host=b;this.port=d;this.path=e;this.uri=a;this.clientId=f;this._localKey=b+":"+d+("/mqtt"!=e?":"+e:"")+":"+f+":";this._msg_queue=[];this._sentMessages={};this._receivedMessages=
{};this._notify_msg_sent={};this._message_identifier=1;this._sequence=0;for(var g in localStorage)0!=g.indexOf("Sent:"+this._localKey)&&0!=g.indexOf("Received:"+this._localKey)||this.restore(g)};b.prototype.host;b.prototype.port;b.prototype.path;b.prototype.uri;b.prototype.clientId;b.prototype.socket;b.prototype.connected=!1;b.prototype.maxMessageIdentifier=65536;b.prototype.connectOptions;b.prototype.hostIndex;b.prototype.onConnectionLost;b.prototype.onMessageDelivered;b.prototype.onMessageArrived;
b.prototype.traceFunction;b.prototype._msg_queue=null;b.prototype._connectTimeout;b.prototype.sendPinger=null;b.prototype.receivePinger=null;b.prototype.receiveBuffer=null;b.prototype._traceBuffer=null;b.prototype._MAX_TRACE_ENTRIES=100;b.prototype.connect=function(a){var b=this._traceMask(a,"password");this._trace("Client.connect",b,this.socket,this.connected);if(this.connected)throw Error(w(k.INVALID_STATE,["already connected"]));if(this.socket)throw Error(w(k.INVALID_STATE,["already connected"]));
this.connectOptions=a;a.uris?(this.hostIndex=0,this._doConnect(a.uris[0])):this._doConnect(this.uri)};b.prototype.subscribe=function(a,b){this._trace("Client.subscribe",a,b);if(!this.connected)throw Error(w(k.INVALID_STATE,["not connected"]));var c=new C(8);c.topics=[a];c.requestedQos=void 0!=b.qos?[b.qos]:[0];b.onSuccess&&(c.onSuccess=function(a){b.onSuccess({invocationContext:b.invocationContext,grantedQos:a})});b.onFailure&&(c.onFailure=function(a){b.onFailure({invocationContext:b.invocationContext,
errorCode:a})});b.timeout&&(c.timeOut=new E(this,window,b.timeout,b.onFailure,[{invocationContext:b.invocationContext,errorCode:k.SUBSCRIBE_TIMEOUT.code,errorMessage:w(k.SUBSCRIBE_TIMEOUT)}]));this._requires_ack(c);this._schedule_message(c)};b.prototype.unsubscribe=function(a,b){this._trace("Client.unsubscribe",a,b);if(!this.connected)throw Error(w(k.INVALID_STATE,["not connected"]));var c=new C(10);c.topics=[a];b.onSuccess&&(c.callback=function(){b.onSuccess({invocationContext:b.invocationContext})});
b.timeout&&(c.timeOut=new E(this,window,b.timeout,b.onFailure,[{invocationContext:b.invocationContext,errorCode:k.UNSUBSCRIBE_TIMEOUT.code,errorMessage:w(k.UNSUBSCRIBE_TIMEOUT)}]));this._requires_ack(c);this._schedule_message(c)};b.prototype.send=function(a){this._trace("Client.send",a);if(!this.connected)throw Error(w(k.INVALID_STATE,["not connected"]));wireMessage=new C(3);wireMessage.payloadMessage=a;0<a.qos?this._requires_ack(wireMessage):this.onMessageDelivered&&(this._notify_msg_sent[wireMessage]=
this.onMessageDelivered(wireMessage.payloadMessage));this._schedule_message(wireMessage)};b.prototype.disconnect=function(){this._trace("Client.disconnect");if(!this.socket)throw Error(w(k.INVALID_STATE,["not connecting or connected"]));wireMessage=new C(14);this._notify_msg_sent[wireMessage]=d(this._disconnected,this);this._schedule_message(wireMessage)};b.prototype.getTraceLog=function(){if(null!==this._traceBuffer){this._trace("Client.getTraceLog",new Date);this._trace("Client.getTraceLog in flight messages",
this._sentMessages.length);for(var a in this._sentMessages)this._trace("_sentMessages ",a,this._sentMessages[a]);for(a in this._receivedMessages)this._trace("_receivedMessages ",a,this._receivedMessages[a]);return this._traceBuffer}};b.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]);this._trace("Client.startTrace",new Date,"@VERSION@")};b.prototype.stopTrace=function(){delete this._traceBuffer};b.prototype._doConnect=function(a){this.connectOptions.useSSL&&(a=a.split(":"),
a[0]="wss",a=a.join(":"));this.connected=!1;this.socket=4>this.connectOptions.mqttVersion?new WebSocket(a,["mqttv3.1"]):new WebSocket(a,["mqtt"]);this.socket.binaryType="arraybuffer";this.socket.onopen=d(this._on_socket_open,this);this.socket.onmessage=d(this._on_socket_message,this);this.socket.onerror=d(this._on_socket_error,this);this.socket.onclose=d(this._on_socket_close,this);this.sendPinger=new z(this,window,this.connectOptions.keepAliveInterval);this.receivePinger=new z(this,window,this.connectOptions.keepAliveInterval);
this._connectTimeout=new E(this,window,this.connectOptions.timeout,this._disconnected,[k.CONNECT_TIMEOUT.code,w(k.CONNECT_TIMEOUT)])};b.prototype._schedule_message=function(a){this._msg_queue.push(a);this.connected&&this._process_queue()};b.prototype.store=function(a,b){var c={type:b.type,messageIdentifier:b.messageIdentifier,version:1};switch(b.type){case 3:b.pubRecReceived&&(c.pubRecReceived=!0);c.payloadMessage={};for(var d="",e=b.payloadMessage.payloadBytes,f=0;f<e.length;f++)d=15>=e[f]?d+"0"+
e[f].toString(16):d+e[f].toString(16);c.payloadMessage.payloadHex=d;c.payloadMessage.qos=b.payloadMessage.qos;c.payloadMessage.destinationName=b.payloadMessage.destinationName;b.payloadMessage.duplicate&&(c.payloadMessage.duplicate=!0);b.payloadMessage.retained&&(c.payloadMessage.retained=!0);0==a.indexOf("Sent:")&&(void 0===b.sequence&&(b.sequence=++this._sequence),c.sequence=b.sequence);break;default:throw Error(w(k.INVALID_STORED_DATA,[key,c]));}localStorage.setItem(a+this._localKey+b.messageIdentifier,
JSON.stringify(c))};b.prototype.restore=function(a){var b=localStorage.getItem(a),c=JSON.parse(b),d=new C(c.type,c);switch(c.type){case 3:b=c.payloadMessage.payloadHex;var e=new ArrayBuffer(b.length/2);e=new Uint8Array(e);for(var f=0;2<=b.length;){var g=parseInt(b.substring(0,2),16);b=b.substring(2,b.length);e[f++]=g}b=new Paho.MQTT.Message(e);b.qos=c.payloadMessage.qos;b.destinationName=c.payloadMessage.destinationName;c.payloadMessage.duplicate&&(b.duplicate=!0);c.payloadMessage.retained&&(b.retained=
!0);d.payloadMessage=b;break;default:throw Error(w(k.INVALID_STORED_DATA,[a,b]));}0==a.indexOf("Sent:"+this._localKey)?(d.payloadMessage.duplicate=!0,this._sentMessages[d.messageIdentifier]=d):0==a.indexOf("Received:"+this._localKey)&&(this._receivedMessages[d.messageIdentifier]=d)};b.prototype._process_queue=function(){for(var a,b=this._msg_queue.reverse();a=b.pop();)this._socket_send(a),this._notify_msg_sent[a]&&(this._notify_msg_sent[a](),delete this._notify_msg_sent[a])};b.prototype._requires_ack=
function(a){var b=Object.keys(this._sentMessages).length;if(b>this.maxMessageIdentifier)throw Error("Too many messages:"+b);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;a.messageIdentifier=this._message_identifier;this._sentMessages[a.messageIdentifier]=a;3===a.type&&this.store("Sent:",a);this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)};b.prototype._on_socket_open=function(){var a=new C(1,this.connectOptions);a.clientId=
this.clientId;this._socket_send(a)};b.prototype._on_socket_message=function(a){this._trace("Client._on_socket_message",a.data);this.receivePinger.reset();a=this._deframeMessages(a.data);for(var b=0;b<a.length;b+=1)this._handleMessage(a[b])};b.prototype._deframeMessages=function(a){a=new Uint8Array(a);if(this.receiveBuffer){var b=new Uint8Array(this.receiveBuffer.length+a.length);b.set(this.receiveBuffer);b.set(a,this.receiveBuffer.length);a=b;delete this.receiveBuffer}try{b=0;for(var c=[];b<a.length;){a:{var d=
void 0,e=a,f=b,g=f,h=e[f],l=h>>4,m=h&=15;f+=1;var n=0,r=1;do{if(f==e.length){var v=[null,g];break a}d=e[f++];n+=(d&127)*r;r*=128}while(0!=(d&128));d=f+n;if(d>e.length)v=[null,g];else{var z=new C(l);switch(l){case 2:e[f++]&1&&(z.sessionPresent=!0);z.returnCode=e[f++];break;case 3:g=m>>1&3;var E=256*e[f]+e[f+1];f+=2;var H=t(e,f,E);f+=E;0<g&&(z.messageIdentifier=256*e[f]+e[f+1],f+=2);var R=new Paho.MQTT.Message(e.subarray(f,d));1==(m&1)&&(R.retained=!0);8==(m&8)&&(R.duplicate=!0);R.qos=g;R.destinationName=
H;z.payloadMessage=R;break;case 4:case 5:case 6:case 7:case 11:z.messageIdentifier=256*e[f]+e[f+1];break;case 9:z.messageIdentifier=256*e[f]+e[f+1],z.returnCode=e.subarray(f+2,d)}v=[z,d]}}var N=v[0];b=v[1];if(null!==N)c.push(N);else break}b<a.length&&(this.receiveBuffer=a.subarray(b))}catch(B){this._disconnected(k.INTERNAL_ERROR.code,w(k.INTERNAL_ERROR,[B.message,B.stack.toString()]));return}return c};b.prototype._handleMessage=function(a){this._trace("Client._handleMessage",a);try{switch(a.type){case 2:this._connectTimeout.cancel();
if(this.connectOptions.cleanSession){for(var b in this._sentMessages){var c=this._sentMessages[b];localStorage.removeItem("Sent:"+this._localKey+c.messageIdentifier)}this._sentMessages={};for(b in this._receivedMessages){var d=this._receivedMessages[b];localStorage.removeItem("Received:"+this._localKey+d.messageIdentifier)}this._receivedMessages={}}if(0===a.returnCode)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(k.CONNACK_RETURNCODE.code,
w(k.CONNACK_RETURNCODE,[a.returnCode,r[a.returnCode]]));break}a=[];for(var e in this._sentMessages)this._sentMessages.hasOwnProperty(e)&&a.push(this._sentMessages[e]);a=a.sort(function(a,b){return a.sequence-b.sequence});e=0;for(var f=a.length;e<f;e++)if(c=a[e],3==c.type&&c.pubRecReceived){var g=new C(6,{messageIdentifier:c.messageIdentifier});this._schedule_message(g)}else this._schedule_message(c);if(this.connectOptions.onSuccess)this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});
this._process_queue();break;case 3:this._receivePublish(a);break;case 4:if(c=this._sentMessages[a.messageIdentifier])if(delete this._sentMessages[a.messageIdentifier],localStorage.removeItem("Sent:"+this._localKey+a.messageIdentifier),this.onMessageDelivered)this.onMessageDelivered(c.payloadMessage);break;case 5:if(c=this._sentMessages[a.messageIdentifier])c.pubRecReceived=!0,g=new C(6,{messageIdentifier:a.messageIdentifier}),this.store("Sent:",c),this._schedule_message(g);break;case 6:d=this._receivedMessages[a.messageIdentifier];
localStorage.removeItem("Received:"+this._localKey+a.messageIdentifier);d&&(this._receiveMessage(d),delete this._receivedMessages[a.messageIdentifier]);var h=new C(7,{messageIdentifier:a.messageIdentifier});this._schedule_message(h);break;case 7:c=this._sentMessages[a.messageIdentifier];delete this._sentMessages[a.messageIdentifier];localStorage.removeItem("Sent:"+this._localKey+a.messageIdentifier);if(this.onMessageDelivered)this.onMessageDelivered(c.payloadMessage);break;case 9:if(c=this._sentMessages[a.messageIdentifier]){c.timeOut&&
c.timeOut.cancel();if(128===a.returnCode[0]){if(c.onFailure)c.onFailure(a.returnCode)}else if(c.onSuccess)c.onSuccess(a.returnCode);delete this._sentMessages[a.messageIdentifier]}break;case 11:if(c=this._sentMessages[a.messageIdentifier])c.timeOut&&c.timeOut.cancel(),c.callback&&c.callback(),delete this._sentMessages[a.messageIdentifier];break;case 13:this.sendPinger.reset();break;case 14:this._disconnected(k.INVALID_MQTT_MESSAGE_TYPE.code,w(k.INVALID_MQTT_MESSAGE_TYPE,[a.type]));break;default:this._disconnected(k.INVALID_MQTT_MESSAGE_TYPE.code,
w(k.INVALID_MQTT_MESSAGE_TYPE,[a.type]))}}catch(fa){this._disconnected(k.INTERNAL_ERROR.code,w(k.INTERNAL_ERROR,[fa.message,fa.stack.toString()]))}};b.prototype._on_socket_error=function(a){this._disconnected(k.SOCKET_ERROR.code,w(k.SOCKET_ERROR,[a.data]))};b.prototype._on_socket_close=function(){this._disconnected(k.SOCKET_CLOSE.code,w(k.SOCKET_CLOSE))};b.prototype._socket_send=function(a){if(1==a.type){var b=this._traceMask(a,"password");this._trace("Client._socket_send",b)}else this._trace("Client._socket_send",
a);this.socket.send(a.encode());this.sendPinger.reset()};b.prototype._receivePublish=function(a){switch(a.payloadMessage.qos){case "undefined":case 0:this._receiveMessage(a);break;case 1:var b=new C(4,{messageIdentifier:a.messageIdentifier});this._schedule_message(b);this._receiveMessage(a);break;case 2:this._receivedMessages[a.messageIdentifier]=a;this.store("Received:",a);a=new C(5,{messageIdentifier:a.messageIdentifier});this._schedule_message(a);break;default:throw Error("Invaild qos="+wireMmessage.payloadMessage.qos);
}};b.prototype._receiveMessage=function(a){if(this.onMessageArrived)this.onMessageArrived(a.payloadMessage)};b.prototype._disconnected=function(a,b){this._trace("Client._disconnected",a,b);this.sendPinger.cancel();this.receivePinger.cancel();this._connectTimeout&&this._connectTimeout.cancel();this._msg_queue=[];this._notify_msg_sent={};this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),
delete this.socket);if(this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===a&&(a=k.OK.code,b=w(k.OK)),this.connected){if(this.connected=!1,this.onConnectionLost)this.onConnectionLost({errorCode:a,errorMessage:b})}else if(4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit)this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=
3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri);else if(this.connectOptions.onFailure)this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:a,errorMessage:b})};b.prototype._trace=function(){if(this.traceFunction){for(var a in arguments)"undefined"!==typeof arguments[a]&&(arguments[a]=JSON.stringify(arguments[a]));a=Array.prototype.slice.call(arguments).join("");this.traceFunction({severity:"Debug",
message:a})}if(null!==this._traceBuffer){a=0;for(var b=arguments.length;a<b;a++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===a?this._traceBuffer.push(arguments[a]):"undefined"===typeof arguments[a]?this._traceBuffer.push(arguments[a]):this._traceBuffer.push("  "+JSON.stringify(arguments[a]))}};b.prototype._traceMask=function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=d==b?"******":a[d]);return c};var e=function(c,d,e,f){if("string"!==typeof c)throw Error(w(k.INVALID_TYPE,
[typeof c,"host"]));if(2==arguments.length){f=d;var h=c;var l=h.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(l)c=l[4]||l[2],d=parseInt(l[7]),e=l[8];else throw Error(w(k.INVALID_ARGUMENT,[c,"host"]));}else{3==arguments.length&&(f=e,e="/mqtt");if("number"!==typeof d||0>d)throw Error(w(k.INVALID_TYPE,[typeof d,"port"]));if("string"!==typeof e)throw Error(w(k.INVALID_TYPE,[typeof e,"path"]));h="ws://"+(-1!=c.indexOf(":")&&"["!=c.slice(0,1)&&"]"!=c.slice(-1)?"["+c+"]":c)+":"+d+e}for(var m=
l=0;m<f.length;m++){var n=f.charCodeAt(m);55296<=n&&56319>=n&&m++;l++}if("string"!==typeof f||65535<l)throw Error(w(k.INVALID_ARGUMENT,[f,"clientId"]));var q=new b(h,c,d,e,f);this._getHost=function(){return c};this._setHost=function(){throw Error(w(k.UNSUPPORTED_OPERATION));};this._getPort=function(){return d};this._setPort=function(){throw Error(w(k.UNSUPPORTED_OPERATION));};this._getPath=function(){return e};this._setPath=function(){throw Error(w(k.UNSUPPORTED_OPERATION));};this._getURI=function(){return h};
this._setURI=function(){throw Error(w(k.UNSUPPORTED_OPERATION));};this._getClientId=function(){return q.clientId};this._setClientId=function(){throw Error(w(k.UNSUPPORTED_OPERATION));};this._getOnConnectionLost=function(){return q.onConnectionLost};this._setOnConnectionLost=function(a){if("function"===typeof a)q.onConnectionLost=a;else throw Error(w(k.INVALID_TYPE,[typeof a,"onConnectionLost"]));};this._getOnMessageDelivered=function(){return q.onMessageDelivered};this._setOnMessageDelivered=function(a){if("function"===
typeof a)q.onMessageDelivered=a;else throw Error(w(k.INVALID_TYPE,[typeof a,"onMessageDelivered"]));};this._getOnMessageArrived=function(){return q.onMessageArrived};this._setOnMessageArrived=function(a){if("function"===typeof a)q.onMessageArrived=a;else throw Error(w(k.INVALID_TYPE,[typeof a,"onMessageArrived"]));};this._getTrace=function(){return q.traceFunction};this._setTrace=function(a){if("function"===typeof a)q.traceFunction=a;else throw Error(w(k.INVALID_TYPE,[typeof a,"onTrace"]));};this.connect=
function(b){b=b||{};a(b,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",mqttVersion:"number"});void 0===b.keepAliveInterval&&(b.keepAliveInterval=60);if(4<b.mqttVersion||3>b.mqttVersion)throw Error(w(k.INVALID_ARGUMENT,[b.mqttVersion,"connectOptions.mqttVersion"]));void 0===b.mqttVersion?(b.mqttVersionExplicit=
!1,b.mqttVersion=4):b.mqttVersionExplicit=!0;if(void 0===b.password&&void 0!==b.userName)throw Error(w(k.INVALID_ARGUMENT,[b.password,"connectOptions.password"]));if(b.willMessage){if(!(b.willMessage instanceof g))throw Error(w(k.INVALID_TYPE,[b.willMessage,"connectOptions.willMessage"]));b.willMessage.stringPayload;if("undefined"===typeof b.willMessage.destinationName)throw Error(w(k.INVALID_TYPE,[typeof b.willMessage.destinationName,"connectOptions.willMessage.destinationName"]));}"undefined"===
typeof b.cleanSession&&(b.cleanSession=!0);if(b.hosts){if(!(b.hosts instanceof Array))throw Error(w(k.INVALID_ARGUMENT,[b.hosts,"connectOptions.hosts"]));if(1>b.hosts.length)throw Error(w(k.INVALID_ARGUMENT,[b.hosts,"connectOptions.hosts"]));for(var c=!1,d=0;d<b.hosts.length;d++){if("string"!==typeof b.hosts[d])throw Error(w(k.INVALID_TYPE,[typeof b.hosts[d],"connectOptions.hosts["+d+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(b.hosts[d]))if(0==d)c=!0;else{if(!c)throw Error(w(k.INVALID_ARGUMENT,
[b.hosts[d],"connectOptions.hosts["+d+"]"]));}else if(c)throw Error(w(k.INVALID_ARGUMENT,[b.hosts[d],"connectOptions.hosts["+d+"]"]));}if(c)b.uris=b.hosts;else{if(!b.ports)throw Error(w(k.INVALID_ARGUMENT,[b.ports,"connectOptions.ports"]));if(!(b.ports instanceof Array))throw Error(w(k.INVALID_ARGUMENT,[b.ports,"connectOptions.ports"]));if(b.hosts.length!=b.ports.length)throw Error(w(k.INVALID_ARGUMENT,[b.ports,"connectOptions.ports"]));b.uris=[];for(d=0;d<b.hosts.length;d++){if("number"!==typeof b.ports[d]||
0>b.ports[d])throw Error(w(k.INVALID_TYPE,[typeof b.ports[d],"connectOptions.ports["+d+"]"]));c=b.hosts[d];var f=b.ports[d];h="ws://"+(-1!=c.indexOf(":")?"["+c+"]":c)+":"+f+e;b.uris.push(h)}}}q.connect(b)};this.subscribe=function(b,c){if("string"!==typeof b)throw Error("Invalid argument:"+b);c=c||{};a(c,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"});if(c.timeout&&!c.onFailure)throw Error("subscribeOptions.timeout specified with no onFailure callback.");
if("undefined"!==typeof c.qos&&0!==c.qos&&1!==c.qos&&2!==c.qos)throw Error(w(k.INVALID_ARGUMENT,[c.qos,"subscribeOptions.qos"]));q.subscribe(b,c)};this.unsubscribe=function(b,c){if("string"!==typeof b)throw Error("Invalid argument:"+b);c=c||{};a(c,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"});if(c.timeout&&!c.onFailure)throw Error("unsubscribeOptions.timeout specified with no onFailure callback.");q.unsubscribe(b,c)};this.send=function(a,b,c,d){if(0==arguments.length)throw Error("Invalid argument.length");
if(1==arguments.length){if(!(a instanceof g)&&"string"!==typeof a)throw Error("Invalid argument:"+typeof a);var e=a;if("undefined"===typeof e.destinationName)throw Error(w(k.INVALID_ARGUMENT,[e.destinationName,"Message.destinationName"]));}else e=new g(b),e.destinationName=a,3<=arguments.length&&(e.qos=c),4<=arguments.length&&(e.retained=d);q.send(e)};this.disconnect=function(){q.disconnect()};this.getTraceLog=function(){return q.getTraceLog()};this.startTrace=function(){q.startTrace()};this.stopTrace=
function(){q.stopTrace()};this.isConnected=function(){return q.connected}};e.prototype={get host(){return this._getHost()},set host(a){this._setHost(a)},get port(){return this._getPort()},set port(a){this._setPort(a)},get path(){return this._getPath()},set path(a){this._setPath(a)},get clientId(){return this._getClientId()},set clientId(a){this._setClientId(a)},get onConnectionLost(){return this._getOnConnectionLost()},set onConnectionLost(a){this._setOnConnectionLost(a)},get onMessageDelivered(){return this._getOnMessageDelivered()},
set onMessageDelivered(a){this._setOnMessageDelivered(a)},get onMessageArrived(){return this._getOnMessageArrived()},set onMessageArrived(a){this._setOnMessageArrived(a)},get trace(){return this._getTrace()},set trace(a){this._setTrace(a)}};var g=function(a){if("string"===typeof a||a instanceof ArrayBuffer||a instanceof Int8Array||a instanceof Uint8Array||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)var b=
a;else throw w(k.INVALID_ARGUMENT,[a,"newPayload"]);this._getPayloadString=function(){return"string"===typeof b?b:t(b,0,b.length)};this._getPayloadBytes=function(){if("string"===typeof b){var a=new ArrayBuffer(h(b));a=new Uint8Array(a);l(b,a,0);return a}return b};var c=void 0;this._getDestinationName=function(){return c};this._setDestinationName=function(a){if("string"===typeof a)c=a;else throw Error(w(k.INVALID_ARGUMENT,[a,"newDestinationName"]));};var d=0;this._getQos=function(){return d};this._setQos=
function(a){if(0===a||1===a||2===a)d=a;else throw Error("Invalid argument:"+a);};var e=!1;this._getRetained=function(){return e};this._setRetained=function(a){if("boolean"===typeof a)e=a;else throw Error(w(k.INVALID_ARGUMENT,[a,"newRetained"]));};var f=!1;this._getDuplicate=function(){return f};this._setDuplicate=function(a){f=a}};g.prototype={get payloadString(){return this._getPayloadString()},get payloadBytes(){return this._getPayloadBytes()},get destinationName(){return this._getDestinationName()},
set destinationName(a){this._setDestinationName(a)},get qos(){return this._getQos()},set qos(a){this._setQos(a)},get retained(){return this._getRetained()},set retained(a){this._setRetained(a)},get duplicate(){return this._getDuplicate()},set duplicate(a){this._setDuplicate(a)}};return{Client:e,Message:g}}(window);
